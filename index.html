<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LPOCIP Simulator</title>

  <!-- Font Awesome for icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <script src="https://cdn.sheetjs.com/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/exceljs/dist/exceljs.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/file-saver@2.0.5/dist/FileSaver.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/xlsx-populate/browser/xlsx-populate.min.js"></script>

  <style>
    :root{
      --nav-blue: #0b346e;
      --panel: #f6f8fb;
      --card-bg: #ffffff;
      --muted:#6b7480;
      --accent:#0b8aa6;
      --neon:#ffd400;
      --danger:#e74c3c;
      --glass: rgba(11,52,110,0.06);
      --shadow: 0 8px 28px rgba(20,20,40,0.06);
      --radius:10px;
    }
    /* Reset & base */
    *{box-sizing:border-box}
    html,body{height:100%; margin:0; font-family:Inter, "Segoe UI", Roboto, Arial, sans-serif; background: #fff; color:#0f1720; overflow-x:hidden;}
    a{color:inherit;text-decoration:none}

    /* NAVBAR */
    .navbar{
      background: linear-gradient(180deg,var(--nav-blue), #06264a);
      color: #fff;
      padding:14px 20px;
      display:flex;
      align-items:center; gap:18px;
      box-shadow: 0 6px 20px rgba(6,38,74,0.18);
      position:sticky; top:0; z-index:50;
    }

    .brand{
      display:flex; align-items:center; gap:10px; font-weight:800; font-size:18px;
    }
    .brand i{font-size:26px; color:var(--neon); transform:translateY(-1px)}
    .nav-links{display:flex; gap:18px; margin-left:18px; align-items:center}
    .nav-links .link{
      padding:6px 10px; border-radius:6px; font-weight:700; color:#f7fbff;
      transition:all .18s;
      text-shadow:0 1px 0 rgba(0,0,0,0.2);
      font-size:18px;
    }
    .nav-links .link:hover{transform:translateY(-3px); box-shadow:0 6px 18px rgba(3,19,46,0.18)}
    .nav-links .link.active{background:rgba(255,255,255,0.06); box-shadow: inset 0 -3px 0 rgba(0,0,0,0.18)}
    .nav-right{margin-left:auto; display:flex; gap:10px; align-items:center; color:#e6f2ff; font-weight:600}

    /* APP LAYOUT */
    .container{display:flex; gap:20px; padding:20px; height:calc(100vh - 70px); overflow:hidden;}
    .left-col{width:340px; display:flex; flex-direction:column; gap:18px; overflow-y:auto; padding-right:5px;}
    .right-col {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 18px;
      overflow: auto;
      padding-right: 5px;
      min-width: 0;
    }
    /* Card */
    .card{
      background:var(--card-bg);
      border-radius:var(--radius);
      padding:14px;
      box-shadow:var(--shadow);
      border:1px solid rgba(10,20,40,0.04);
    }
    .card-header{display:flex;align-items:center;gap:10px;color:var(--muted);font-weight:800;margin-bottom:10px;}
    .card-body{display:block}

    /* Forms */
    label{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
    input[type="text"], input[type="number"], select, textarea{
      width:100%; padding:10px 12px; border-radius:8px; border:1px solid rgba(15,23,34,0.06);
      background:#fbfdff; font-size:14px; color:#0f1720; outline:none;
      transition:box-shadow .12s, border-color .12s;
    }
    input:focus, select:focus, textarea:focus{box-shadow:0 6px 20px rgba(11,138,166,0.08); border-color:var(--accent)}

    .form-row{display:flex; gap:10px}
    .form-row .col{flex:1}

    /* buttons */
    .btn{
      border-radius:8px; padding:12px 18px; border:none; cursor:pointer; font-weight:800; letter-spacing:.6px;
      box-shadow: 0 6px 16px rgba(6,38,74,0.08);
      transition:transform .12s, box-shadow .12s;
      flex:1;
    }
    .btn:hover{transform:translateY(-3px)}
    .btn-connect{background-image: linear-gradient(90deg, #008000, #008000);color:#08202b}
    .btn-disconnect{background-image: linear-gradient(90deg, #ff0000, #ff0000);color:#08202b}
    .btn-clear{background: linear-gradient(90deg,#ffe36b,#ffd400); color:#08202b}
    .btn-detect{background: linear-gradient(90deg,#4a90e2,#5ca0f2); color:#fff; padding: 8px 12px; font-size: 13px; flex: none; width: auto;}
    .btn-manual{background: linear-gradient(90deg,#7b68ee,#9370db); color:#fff; padding: 8px 12px; font-size: 13px; flex: none; width: auto; margin-top: 5px;}
    .muted-small{font-size:12px;color:var(--muted)}

    /* toggles & switches */
    .switch{display:flex; align-items:center; gap:8px}
    .toggle{
      width:48px;height:28px;border-radius:20px;background:linear-gradient(180deg,#eef2f4,#cfd9de);position:relative;padding:3px;box-shadow:inset 0 -2px 0 rgba(0,0,0,0.06);
    }
    .toggle input{display:none}
    .knob{position:absolute; top:3px; left:3px; width:22px; height:22px; background:white; border-radius:50%; transition:all .15s; box-shadow:0 4px 10px rgba(5,15,30,0.12)}
    .toggle input:checked + .knob{ transform:translateX(20px); background:var(--accent) }

    /* Disabled state for controls */
    .disabled-control {
      opacity: 0.5;
      pointer-events: none;
    }
    .disabled-control .toggle {
      background: linear-gradient(180deg,#eef2f4,#cfd9de);
    }
    .disabled-control .knob {
      background: white;
    }

    /* Hide packet navigation on info page */
    .hide-packet-nav {
      display: none !important;
    }

    /* table */
    .table-wrap{overflow:auto; border-radius:8px; border:1px solid rgba(15,23,34,0.06); max-height:300px;}
    table{border-collapse:collapse;width:100%; min-width:900px}
    thead th{position:sticky; top:0; background:linear-gradient(180deg,#083a5a,#075a85); color:white; padding:10px 12px; font-weight:800}
    tbody td{padding:10px 12px; border-bottom:1px solid rgba(6,38,74,0.04); color:#101827}
    tbody tr:hover{background:linear-gradient(90deg, rgba(11,138,166,0.04), rgba(11,138,166,0.02)); cursor:pointer}
    tbody tr.selected{background:linear-gradient(90deg, rgba(11,138,166,0.12), rgba(11,138,166,0.06))}

    .small-box{background:linear-gradient(180deg,#f8fbff,#f0f7fb); padding:8px; border-radius:8px; border:1px solid rgba(6,38,74,0.03)}
    .label-inline{display:flex;align-items:center;gap:8px; font-size:13px; color:var(--muted)}

    /* status dot */
    .status-dot{width:12px;height:12px;border-radius:50%;display:inline-block;margin-right:8px}
    .status-green{background:#10b981}
    .status-warning{background:#f59e0b}
    .status-fail{background:#ef4444}

    /* responsive */
    @media (max-width:1100px){
      .container{flex-direction:column}
      .left-col{width:100%}
    }

    /* subtle animations */
    .fade-in{animation:fadeIn .35s ease both}
    @keyframes fadeIn{from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:none}}

    /* Page sections */
    .page-section {
      display: flex;
      flex-direction: column;
      gap: 18px;
      height: 100%;
      overflow-y: auto;
    }

    /* Grid layout improvements */
    .grid-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 16px;
    }

    @media (max-width: 768px) {
      .grid-container {
        grid-template-columns: 1fr;
      }
    }

    /* Speed limit indicator */
    .speed-limit-indicator {
      display: inline-block;
      margin-left: 8px;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 4px;
      background: rgba(11, 138, 166, 0.1);
      color: var(--accent);
    }

    /* Port detection status */
    .port-status {
      font-size: 12px;
      margin-top: 4px;
      color: var(--muted);
    }

    /* Manual port input */
    .manual-port-input {
      display: none;
      margin-top: 8px;
    }

    /* Checkbox styling */
    .checkbox-row {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .checkbox-row input[type="checkbox"] {
      width: auto;
      margin: 0;
    }

    .checkbox-row label {
      margin: 0;
      font-size: 14px;
      cursor: pointer;
    }

    /* WebSocket status indicator */
    .websocket-status {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 10px;
      padding: 8px;
      border-radius: 6px;
      font-size: 13px;
    }

    .websocket-status.connected {
      background: rgba(16, 185, 129, 0.1);
      color: #10b981;
    }

    .websocket-status.disconnected {
      background: rgba(239, 68, 68, 0.1);
      color: #ef4444;
    }

    .websocket-status.connecting {
      background: rgba(245, 158, 11, 0.1);
      color: #f59e0b;
    }

    /* Loco ID indicator */
    .loco-id-indicator {
      display: inline-block;
      margin-left: 8px;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 4px;
      background: rgba(11, 138, 166, 0.1);
      color: var(--accent);
    }

    /* Disabled dropdown styling */
    select:disabled {
      background-color: #f5f5f5;
      color: #999;
      cursor: not-allowed;
    }
    /* COM Card button adjustments - only for Connect, Disconnect, Clear buttons */
    #connectBtn, #disconnectBtn, #clearBtn {
      flex: 1;
      padding: 10px 6px;
      font-size: 12px;
      white-space: nowrap;
      line-height: 1.2;
    }

    /* Override value indicator */
    .override-indicator {
      display: inline-block;
      margin-left: 8px;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 4px;
      background: rgba(231, 76, 60, 0.1);
      color: var(--danger);
    }

    /* Timeout indicator */
    .timeout-indicator {
      display: inline-block;
      margin-left: 8px;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 4px;
      background: rgba(245, 158, 11, 0.1);
      color: #f59e0b;
    }
    /* Test Cases Page Styles */
    .test-controls .btn {
      display: flex;
      align-items: center;
      gap: 5px;
      padding: 8px 12px;
      font-size: 14px;
    }

    .test-controls .btn i {
      margin-right: 5px;
    }

    #testCasesTable th {
      background-color: var(--nav-blue);
      color: white;
      font-weight: bold;
      text-align: center;
    }

    #testCasesTable td {
      padding: 8px;
      border-bottom: 1px solid #ddd;
    }

    .test-case-row {
      transition: background-color 0.2s;
    }

    .test-case-row:hover {
      background-color: #f5f5f5;
    }

    .test-case-row.processing {
      background-color: #a0522d;
      color: white;
      font-weight: bold;
    }

    .test-case-row.passed {
      background-color: #4CAF50;
      color: white;
    }

    .test-case-row.failed {
      background-color: #f44336;
      color: white;
    }

    .test-case-row.skipped {
      background-color: #9e9e9e;
      color: white;
    }

    .test-case-checkbox {
      width: 20px;
      height: 20px;
      margin: 0 auto;
    }

    .test-case-id {
      font-weight: bold;
    }

    .test-case-name {
      max-width: 300px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .test-case-progress {
      text-align: center;
      font-weight: bold;
    }

    .test-case-progress i {
      margin-right: 5px;
    }

    .progress-dialog, .summary-dialog {
      border: 1px solid #ddd;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }

    .progress-bar {
      transition: width 0.3s ease;
    }

    .summary-content p {
      margin: 5px 0;
    }

    .summary-content .summary-item {
      display: flex;
      justify-content: space-between;
      margin: 5px 0;
      padding: 5px 0;
      border-bottom: 1px solid #eee;
    }

    .summary-content .summary-label {
      font-weight: bold;
    }

    .summary-content .summary-value {
      text-align: right;
    }

    .notification {
      animation: slideIn 0.3s ease;
    }

    @keyframes slideIn {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    /* Test case details dialog */
    .testcase-details-dialog {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      z-index: 1000;
      max-width: 600px;
      max-height: 80vh;
      overflow-y: auto;
    }

    .testcase-details-content {
      margin: 15px 0;
    }

    .testcase-details-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      margin-bottom: 15px;
    }

    .testcase-details-grid .form-group {
      margin-bottom: 10px;
    }

    .testcase-details-grid label {
      display: block;
      font-size: 13px;
      color: var(--muted);
      margin-bottom: 5px;
    }

    .testcase-details-grid input,
    .testcase-details-grid select {
      width: 100%;
      padding: 8px;
      border-radius: 6px;
      border: 1px solid rgba(15,23,34,0.06);
      background: #fbfdff;
      font-size: 14px;
    }

    .testcase-details-actions {
      display: flex;
      justify-content: flex-end;
      gap: 10px;
      margin-top: 15px;
    }

    /* Local Serial Toggle Styles */
    .local-serial-toggle {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-top: 10px;
      padding: 8px;
      border-radius: 6px;
      background: rgba(11, 138, 166, 0.05);
    }

    .local-serial-toggle label {
      font-size: 13px;
      color: var(--muted);
      cursor: pointer;
    }

    .connection-type-indicator {
      display: inline-block;
      margin-left: 8px;
      font-size: 12px;
      padding: 2px 6px;
      border-radius: 4px;
      background: rgba(11, 138, 166, 0.1);
      color: var(--accent);
    }
  </style>
</head>
<body>

  <!-- NAV -->
  <header class="navbar">
    <div class="brand"><i class="fa-solid fa-archway"></i> LPOCIP Simulator</div>

    <nav class="nav-links" role="navigation" aria-label="Main">
      <a href="#" class="link active" data-page="simulator">Simulator</a>
      <a href="#" class="link" data-page="info">Info Data</a>
      <a href="#" class="link" data-page="about">About</a>
      <a href="#" class="link" data-page="StartTest">Start Test</a>
    </nav>
  </header>

  <!-- APP BODY -->
  <main class="container">

    <!-- LEFT COLUMN -->
    <aside class="left-col">
      <!-- COM Settings -->
      <section class="card fade-in" id="comCard">
        <div class="card-header"><i class="fa-solid fa-plug"></i> COM Settings</div>
        <div class="card-body">
          <!-- Local Serial Toggle -->
          <div class="local-serial-toggle">
            <label class="toggle">
              <input id="useLocalSerial" type="checkbox">
              <span class="knob"></span>
            </label>
            <label for="useLocalSerial">Use Local Serial</label>
            <span id="connectionTypeIndicator" class="connection-type-indicator" style="display: none;">Local</span>
          </div>

          <!-- WebSocket Server Settings (shown when local serial is OFF) -->
          <div id="websocketSettings">
            <div class="form-group">
              <label>WebSocket Server</label>
              <input type="text" id="websocketServer" value="ws://192.168.50.101:1555" placeholder="ws://your-server:port" />
            </div>
          </div>

          <!-- COM Port Settings (shown when local serial is ON) -->
          <div id="localSerialSettings" style="display: none;">
            <div class="form-group">
              <label>Baud Rate</label>
              <select id="localBaudRate">
                <option value="110">110</option>
                <option value="300">300</option>
                <option value="600">600</option>
                <option value="1200">1200</option>
                <option value="2400" selected>2400</option>
                <option value="4800">4800</option>
                <option value="9600">9600</option>
                <option value="14400">14400</option>
                <option value="19200">19200</option>
                <option value="28800">28800</option>
                <option value="38400">38400</option>
                <option value="56000">56000</option>
                <option value="57600">57600</option>
                <option value="115200">115200</option>
                <option value="230400">230400</option>
              </select>
            </div>
          </div>

          <!-- Legacy COM Port Settings (for WebSocket mode) -->
          <div id="legacyComSettings">
            <div class="form-group">
              <label>Com Port</label>
              <div style="display:flex; gap:5px;">
                <select id="comPort" style="flex:1;">
                  <option value="">Select a port</option>
                  <option value="COM1">COM1</option>
                  <option value="COM2">COM2</option>
                  <option value="COM3">COM3</option>
                  <option value="COM4">COM4</option>
                  <option value="COM5">COM5</option>
                  <option value="COM6">COM6</option>
                  <option value="COM7">COM7</option>
                  <option value="COM8">COM8</option>
                  <option value="COM9">COM9</option>
                  <option value="COM10">COM10</option>
                </select>
                <button id="detectPortsBtn" class="btn btn-detect" title="Detect available COM ports">
                  <i class="fa-solid fa-sync-alt"></i>
                </button>
              </div>
              <div id="portStatus" class="port-status">Click detect to find available ports</div>
              <div class="manual-port-input">
                <label>Enter custom port name:</label>
                <div style="display:flex; gap:5px;">
                  <input type="text" id="customPortInput" placeholder="e.g., COM11, /dev/ttyUSB0" />
                  <button id="addCustomPortBtn" class="btn btn-manual">Add</button>
                </div>
              </div>
            </div>
            <div class="form-group">
              <label>Baud Rate</label>
              <select id="baudRate"><option>110</option><option>300</option><option>600</option><option>1200</option><option selected>2400</option><option>2400</option><option>4800</option><option>9600</option><option>115200</option><option>230400</option><option>14400</option><option></option><option>19200</option><option>28800</option><option>38400</option><option>56000</option><option>57600</option><option>1200</option>115200</select>
            </div>
          </div>

          <div id="connectionControls" class="disabled-control">
            <div style="display:flex; gap:12px; align-items:center; margin-top:8px;">
              <label class="label-inline"><input type="checkbox" id="sendPeriodic" disabled> <span>send periodically</span></label>
              <div style="flex:1"></div>
              <div class="label-inline packet-nav-toggle"><small class="muted-small">packet navigation</small>
                <label class="toggle">
                  <input id="packetNavigation" type="checkbox" disabled><span class="knob"></span>
                </label>
              </div>
            </div>

            <div style="display:flex; justify-content:space-between; align-items:center; margin-top:10px;">
              <div style="text-align:right">
                <div class="label-inline"><small class="muted-small">negative test</small>
                  <label class="toggle">
                    <input id="negativeTest" type="checkbox" disabled><span class="knob"></span>
                  </label>
                </div>
              </div>
            </div>
          </div>

          <div id="websocketStatus" class="websocket-status disconnected">
            <span class="status-dot status-fail"></span>
            <span>Disconnected</span>
          </div>

          <div style="margin-top:12px; display:flex; gap:10px;">
            <button id="connectBtn" class="btn btn-connect btn" title="Connect">CONNECT</button>
            <button id="disconnectBtn" class="btn btn-disconnect btn" title="Disconnect">DISCONNECT</button>
            <button id="clearBtn" class="btn btn-clear btn" title="Clear Log">CLEAR</button>
          </div>
        </div>
      </section>

      <!-- Tx/Rx Log -->
      <section id="logCard" class="card fade-in" aria-live="polite">
        <div class="card-header"><i class="fa-solid fa-terminal"></i> Transmitted / Received</div>
        <div class="card-body">
          <div class="small-box" id="logBox" style="height:420px; overflow:auto; font-family:monospace; font-size:13px; color:#22303a; white-space: pre-wrap;">
          </div>
        </div>
      </section>
    </aside>

    <!-- RIGHT COLUMN -->
    <section class="right-col">

      <!-- SIMULATOR PAGE (container, shown/hidden) -->
      <div id="simulator" class="page-section">

        <!-- TOP TABLE (13 rows sample) -->
        <div class="card fade-in">
          <div class="card-header"><i class="fa-solid fa-table"></i> Targets</div>
          <div class="card-body table-wrap" id="targetsTableContainer">
            <table id="targetsTable" aria-label="Targets table">
              <thead>
                <tr>
                  <th> </th><th>Target_distance</th><th>Type_of_Target</th><th>Current_Speed</th><th>permiss_Speed</th>
                  <th>Loco_ID</th><th>Lower_Speed</th><th>Type_of_Brake</th><th>Abs_Location</th><th>Mode</th><th>Distance_of_MA</th><th>Signal_Aspects</th><th>RegD_Hide</th><th>Type_of_Signal</th><th>Signal_Distance</th>
                  <th>Line_NameD3</th><th>Signal_post_type</th><th>Deceleration</th><th>Train_Length</th><th>Msg_H1</th><th>Msg_I</th><th>RS_Strength</th><th>Tag_Detect_M1</th><th>Tag_Detect_M2</th><th>Tag_Detect_M3</th><th>RFID_Tag</th><th>Direction</th>
                  <th>Tag_Distance</th><th>Line_No_D3x</th><th>MSG_H1x</th><th>MSG_H1y</th><th>MSG_I1x</th><th>ActCab_K</th><th>Buzzer</th>
                </tr>
              </thead>
              <tbody>
                <!-- 13 rows prefilled -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- Simulation Parameters (long form) -->
        <div class="card fade-in">
          <div class="card-header"><i class="fa-solid fa-cogs"></i> Simulation Parameters</div>
          <div class="card-body">
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:18px">
              <div>
                <div class="form-group">
                  <label>Target Distance - A1 and A3</label>
                  <div class="form-row">
                    <input id="param_target_distance" type="number" style="flex: 2;" />
                    <div class="checkbox-row" style="flex: 1;">
                      <input type="checkbox" id="param_target_distance_inc" data-action="inc" data-target="param_target_distance">
                      <label for="param_target_distance_inc">INC<input id="param_distance_ma" type="number"></label>
                    </div>
                    <div class="checkbox-row" style="flex: 1;">
                      <input type="checkbox" id="param_target_distance_dec" data-action="dec" data-target="param_target_distance">
                      <label for="param_target_distance_dec">DEC</label>
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <label>Type of Target Distance - A4</label>
                  <select id="param_type_of_target" name="param_type_of_target">
                    <option value="0">Undefined - 0</option>
                    <option value="1">Turn Out - 1</option>
                    <option value="2">Collision - 2</option>
                    <option value="3">SOS - 3</option>
                    <option value="4">EOA - 4</option>
                    <option value="5">PSR - 5</option>
                    <option value="6">TSR - 6</option>
                  </select>
                </div>

                <div class="form-group">
                  <label>Current Speed - B1</label>
                  <div class="form-row">
                    <input id="param_current_speed" type="number" style="flex: 2;" />
                    <div class="checkbox-row" style="flex: 1;">
                      <input type="checkbox" id="param_current_speed_inc" data-action="inc" data-target="param_current_speed">
                      <label for="param_current_speed_inc">INC<input id="param_distance_ma" type="number"></label>
                    </div>
                    <div class="checkbox-row" style="flex: 1;">
                      <input type="checkbox" id="param_current_speed_dec" data-action="dec" data-target="param_current_speed">
                      <label for="param_current_speed_dec">DEC</label>
                    </div>
                  </div>
                </div>

                <div class="form-group">
                  <label>Permissible speed - B3</label>
                  <input id="param_permiss_speed" type="number" />
                  <label>B11</label>
                  <input id="param_b11" type="number" />
                </div>
                <div class="form-group">
                  <label>Loco ID - B4
                    <span id="locoIdIndicator" class="loco-id-indicator">Max: 6 digits</span>
                  </label>
                  <input id="param_loco_id" type="text" />
                </div>
                <div class="form-group"><label>Next Lower Speed - B7</label><input id="param_lower_speed" type="number"></div>
                <div class="form-group">
                  <label>Type of Brake - B8</label>
                  <select id="param_type_brake" name="param_type_brake">
                    <option value="0">Undefined - 0</option>
                    <option value="1">Normal - 1</option>
                    <option value="2">Full Service - 2</option>
                    <option value="3">Emergency - 3</option>
                    <option value="4">LE - 4</option>
                  </select>
                </div>
                <div class="form-group"><label>Absolute Location - B9</label><input id="param_abs_location" type="number"></div>
                <div class="form-group">
                  <label>Modes of Operation - B10
                    <span id="overrideIndicator" class="override-indicator" style="display: none;">Override: 5</span>
                  </label>
                  <select id="param_modes_operation" name="param_modes_operation">
                    <option value="0">Undefined - 0</option>
                    <option value="1">Stand By - 1</option>
                    <option value="2">Staff Responsible - 2</option>
                    <option value="3">Limited Supervision - 3</option>
                    <option value="4">Full Supervision - 4</option>
                    <option value="5">Override - 5</option>
                    <option value="6">Onsight - 6</option>
                    <option value="7">Trip - 7</option>
                    <option value="8">Post Trip - 8</option>
                    <option value="9">Reverse - 9</option>
                    <option value="10">Shunt - 10</option>
                    <option value="11">Non-Leading - 11</option>
                    <option value="12">System Failure - 12</option>
                    <option value="13">Isolation - 13</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Distance of Movement Authority - C1</label>
                  <input id="param_distance_ma_c1" type="number">
                </div>
                <div style="display: flex; flex-direction: row; gap: 10px;">
                  <div class="form-group">
                    <label>Upcoming Signal Aspect - D1 </label>
                    <select id="param_signal_aspect" name="param_signal_aspect">
                      <option value="0">Undefined - 0</option>
                      <option value="1">Red - 1</option>
                      <option value="2">Yellow without Route Indication - 2</option>
                      <option value="3">Yellow with Pos1 - 3</option>
                      <option value="4">Yellow with Pos2 - 4</option>
                      <option value="5">Yellow with Pos3 - 5</option>
                      <option value="6">Yellow with Pos4 - 6</option>
                      <option value="7">Yellow with Pos5 - 7</option>
                      <option value="8">Yellow with Pos6 - 8</option>
                      <option value="9">Spare - 9</option>
                      <option value="10">Double Yellow - 10</option>
                      <option value="11">Green - 11</option>
                      <option value="12">Double Yellow with Pos1 - 12</option>
                      <option value="13">Double Yellow with Pos4 - 13</option>
                      <option value="14">AG Marker OFF - 14</option>
                      <option value="15">Red with Calling-on at OFF - 15</option>
                      <option value="16">Spare - 16</option>
                      <option value="17">Spare - 17</option>
                      <option value="18">Spare - 18</option>
                      <option value="19">Spare - 19</option>
                      <option value="20">Spare - 20</option>
                      <option value="21">Spare - 21</option>
                      <option value="22">Spare - 22</option>
                      <option value="23">Spare - 23</option>
                      <option value="24">Stop Board - 24</option>
                      <option value="25">Spare - 25</option>
                      <option value="26">Spare - 26</option>
                      <option value="27">Spare - 27</option>
                      <option value="28">Spare - 28</option>
                      <option value="29">Spare - 29</option>
                      <option value="30">Spare - 30</option>
                      <option value="31">Spare - 31</option>
                      <option value="32">Stencil R1 - 32</option>
                      <option value="33">Stencil R2 - 33</option>
                      <option value="34">Stencil R3 - 34</option>
                      <option value="35">Stencil R4 - 35</option>
                      <option value="36">Stencil R5 - 36</option>
                      <option value="37">Stencil R6 - 37</option>
                      <option value="38">Stencil R7 - 38</option>
                      <option value="39">Stencil R8 - 39</option>
                      <option value="40">Stencil R9 - 40</option>
                      <option value="41">Stencil R10 - 41</option>
                      <option value="42">Stencil R11 - 42</option>
                      <option value="43">Stencil R12 - 43</option>
                      <option value="44">Stencil R13 - 44</option>
                      <option value="45">Stencil R14 - 45</option>
                      <option value="46">Stencil R15 - 46</option>
                      <option value="47">Stencil R16 - 47</option>
                      <option value="48">Stencil R17 - 48</option>
                      <option value="49">Stencil R18 - 49</option>
                      <option value="50">Stencil R19 - 50</option>
                      <option value="51">Stencil R20 - 51</option>
                      <option value="52">Stencil R21 - 52</option>
                      <option value="53">Stencil R22 - 53</option>
                      <option value="54">Stencil R23 - 54</option>
                      <option value="55">Stencil R24 - 55</option>
                      <option value="56">Stencil R25 - 56</option>
                      <option value="57">Stencil R26 - 57</option>
                      <option value="58">Stencil R27 - 58</option>
                      <option value="59">Stencil R28 - 59</option>
                      <option value="60">Stencil R29 - 60</option>
                      <option value="61">Stencil R30 - 61</option>
                      <option value="62">Stencil R31 - 62</option>
                      <option value="63">Stencil R32 - 63</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>&nbsp;</label>
                    <select id="param_hide_show" name="param_hide_show">
                      <option value="0">0-hide</option>
                      <option value="1">1-show</option>
                      <option value="2">2-signal board</option>
                    </select>
                  </div>
                </div>
                <div class="form-group"><label>Distance of Upcoming Signal-D2</label><input id="param_distance_d2" type="number"></div>
                <div class="form-group">
                  <label>Line Number - D3 </label>
                  <select id="param_line_number_d3" name="param_line_number_d3">
                    <option value="0">UP - 0</option>
                    <option value="1">DN - 1</option>
                    <option value="2">UP FAST - 2</option>
                    <option value="3">DN FAST - 3</option>
                    <option value="4">Spare - 4</option>
                    <option value="5">Spare - 5</option>
                    <option value="6">Spare - 6</option>
                    <option value="7">Spare - 7</option>
                    <option value="8">UP SLOW - 8</option>
                    <option value="9">DN SLOW - 9</option>
                    <option value="10">UP MAIN - 10</option>
                    <option value="11">DN MAIN - 11</option>
                    <option value="12">UP SUB - 12</option>
                    <option value="13">DN SUB - 13</option>
                    <option value="14">UP BI-DIR - 14</option>
                    <option value="15">DN BI-DIR - 15</option>
                    <option value="16">Spare - 16</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Approaching Signal post Name - D3 </label>
                  <select id="param_signal_post_type" name="param_signal_post_type">
                    <option value="0">Undefined - 0</option>
                    <option value="1">Adv-Str - 1</option>
                    <option value="2">IB Sig - 2</option>
                    <option value="3">Gate-Stop-Sig - 3</option>
                    <option value="4">Calling-On - 4</option>
                    <option value="5">Adv-Str-cum-Gate - 5</option>
                    <option value="6">Gate-cum-Dist - 6</option>
                    <option value="7">Adv-Str-cum-Dist - 7</option>
                    <option value="8">undefined - 8</option>
                    <option value="9">undefined - 9</option>
                    <option value="10">undefined - 10</option>
                    <option value="11">undefined - 11</option>
                    <option value="12">undefined - 12</option>
                    <option value="13">undefined - 13</option>
                    <option value="14">undefined - 14</option>
                    <option value="15">undefined - 15</option>
                    <option value="16">Dist - 16</option>
                    <option value="17">Inr-Dist - 17</option>
                    <option value="18">Gate-Dist - 18</option>
                    <option value="19">Gate-Inr-Dist - 19</option>
                    <option value="20">IB-Dist - 20</option>
                    <option value="21">IB-Inr-Dist - 21</option>
                    <option value="22">Auto - 22</option>
                    <option value="23">Semi-Auto - 23</option>
                    <option value="24">Home - 24</option>
                    <option value="25">Home - 25</option>
                    <option value="26">R-Home - 26</option>
                    <option value="27">R-Home L-X - 27</option>
                    <option value="28">M/L-Str L-X - 28</option>
                    <option value="29">L/L-Str L-X - 29</option>
                    <option value="30">Int-Str - 30</option>
                    <option value="31">undefined - 31</option>
                    <option value="32">undefined - 32</option>
                    <option value="33">undefined - 33</option>
                    <option value="34">undefined - 34</option>
                    <option value="35">Auto-Gate - 35</option>
                    <option value="36">Semi-Auto - 36</option>
                    <option value="37">Adv-Str-cum-Gate-Inr-Dist - 37</option>
                    <option value="38">Gate-cum-Inr-Dist - 38</option>
                    <option value="39">Gate-Inr-Dist-Cum-Dist - 39</option>
                    <option value="40">IB-cum-Gate-Dist - 40</option>
                    <option value="41">IB-cum-Gate-ID - 41</option>
                    <option value="42">IB-cum-Dist - 42</option>
                    <option value="43">Adv-Str-cum-IB-Dist - 43</option>
                    <option value="44">Str-cum-IB-Dist - 44</option>
                    <option value="45">Stop board - 45</option>
                    <option value="46">Gate-cum-IB-Dist - 46</option>
                    <option value="47">Gate-cum-IB-D - 47</option>
                    <option value="48">Adv-Str-cum-G-D - 48</option>
                  </select>
                </div>
                <div class="form-group"><label>Deceleration Constant - E1</label><input id="param_deceleration_e1" type="number"></div>
                <div class="form-group"><label>Train Length-F1</label><input id="param_train_length_f1" type="number"></div>
              </div>

              <div>
                <div class="form-group">
                  <label>Activate Multiple Message Scenario</label>
                  <div style="display:flex; gap:8px; align-items:center;">
                    <input id="activateMulti" type="checkbox"/><span class="muted-small">Enable</span>
                    <div style="flex:1"></div>
                    <label class="muted-small">Config Time (sec)</label>
                    <input id="param_config_time" style="width:110px" type="number" value="2">
                  </div>
                </div>

                <div class="form-group">
                  <label>Message for Driver - H1</label>
                  <select id="param_msg_h1" name="param_msg_h1">
                    <option value="0">Undefined - 0</option>
                    <option value="1">System Fault, Isolate or Restart KAVACH - 1</option>
                    <option value="2">Ack Block Stop, SOS Generates in XX s - 2</option>
                    <option value="3">EB Bypassed (EB Cock Closed), No Traction - 3</option>
                    <option value="4">Train Tripped, Select P_Trip - 4</option>
                    <option value="5">Brake Applied, Dead End Detected - 5</option>
                    <option value="6">Standstill Protection, Brake Applied - 6</option>
                    <option value="7">Rollback Protection, Brake Applied - 7</option>
                    <option value="8">REV Movement Not Allowed, Use REV mode - 8</option>
                    <option value="9">Stand By mode- CAB input is not Active - 9</option>
                    <option value="10">Ack SR mode, KAVACH Territory Exit - 10</option>
                    <option value="11">Ack SR mode, Station Radio Comm Fail - 11</option>
                    <option value="12">Ack SR mode, No Track Profile Info - 12</option>
                    <option value="13">Ack SR mode, Tags missing - 13</option>
                    <option value="14">Ack SR mode, Direction Unknown - 14</option>
                    <option value="15">Ack SR mode, GPS Fail - 15</option>
                    <option value="16">Ack LS mode, Station Radio Comm Fail - 16</option>
                    <option value="17">Ack SR mode, TSR Link Fail - 17</option>
                    <option value="18">Head On Collision with Loco XXXXX in YYYY m - 18</option>
                    <option value="19">Rear End Collision with Loco XXXXX in YYYY m - 19</option>
                    <option value="20">Override selected - 20</option>
                    <option value="21">Reverse Mode Expires in XXXXm or YYYs - 21</option>
                    <option value="22">Manned LC Gate XXXX in YYYYm - 22</option>
                    <option value="23">Unmanned LC Gate XXXX in YYYYm - 23</option>
                    <option value="24">LS mode Waiting for Station Radio Comm - 24</option>
                    <option value="25">LS mode Waiting for Track Profile Info - 25</option>
                    <option value="26">Both Leading & Non-leading Inputs are Active - 26</option>
                    <option value="27">Train Length Computation in Progress - 27</option>
                    <option value="28">Train Length Computation Success (XXXXm) - 28</option>
                    <option value="29">Train Length Computation Fail (XXXXm) - 29</option>
                    <option value="30">Train Length Computation Aborted - 30</option>
                    <option value="31">TurnOut in XXXXm with Speed Limit YYYkmph - 31</option>
                    <option value="32">TSR in XXXXm with Speed Limit YYYkmph - 32</option>
                    <option value="33">PSR in XXXXm with Speed Limit YYYkmph - 33</option>
                    <option value="34">End of Authority in XXXXm - 34</option>
                    <option value="35">KAVACH Territory Entry - 35</option>
                    <option value="36">System Self Test in Progress - 36</option>
                    <option value="37">System Self Test Success - 37</option>
                    <option value="38">System Self Test Fail - XXXX - 38</option>
                    <option value="39">Brakes Test Waiting for MR X.YY(X.YY)Kg/cm² - 39</option>
                    <option value="40">Brakes Test Waiting for BP X.YY(X.YY)Kg/cm² - 40</option>
                    <option value="41">Brakes Test NSB Applied, BP-X.YYKg/cm² - 41</option>
                    <option value="42">Brakes Test FSB Applied, BP-X.YYKg/cm² - 42</option>
                    <option value="43">Brakes Test EB Applied, BP-X.YYKg/cm² - 43</option>
                    <option value="44">Brakes Test LEB Applied, BC-X.YYKg/cm² - 44</option>
                    <option value="45">Brakes Testing Success - 45</option>
                    <option value="46">Brakes Testing Fail (NSB,FSB, EB) - 46</option>
                    <option value="47">Brakes Test Fail, Press ACK for Retesting - 47</option>
                    <option value="48">Select Train Config, Press 'CONFIG' Button - 48</option>
                    <option value="49">Select Staff Responsible or Shunt Mode - 49</option>
                    <option value="50">Approaching Radio Hole in XXXX m - 50</option>
                    <option value="51">ACK OS Mode - 51</option>
                    <option value="52">Train is in Fouling Zone, Normalize the REV - 52</option>
                    <option value="53">SR/SH Mode- ETCS –ETCS Territory Entry - 53</option>
                    <option value="54">FS Mode- ETCS –ETCS Full Supervision Mode - 54</option>
                    <option value="55">ACK SR Mode – ETCS Territory Exit - 55</option>
                    <option value="56">Ballise Default telegram received - 56</option>
                    <option value="57">Waiting for Traction Command - 57</option>
                    <option value="58">Traction cut-off Command fail - 58</option>
                    <option value="59">Fouling Mark Entry - 59</option>
                    <option value="60">Fouling Mark Clear - 60</option>
                    <option value="61">Neutral Section approaching in XXX m - 61</option>
                    <option value="62">Braking system malfunction - 62</option>
                    <option value="63">No Forward Dir in REV mode - 63</option>
                    <option value="64">ACK SR Mode - SR Authorization Received - 64</option>
                    <option value="65">ACK SR Mode - Slip/Skid Detected - 65</option>
                    <option value="66">ACK SR mode- Foreign Tag Detected - 66</option>
                    <option value="67">Ack for SR mode - Odo Error detected - 67</option>
                    <option value="68">Brake Applied- Shunting limits exceeded - 68</option>
                    <option value="69">Brake Applied- Station General SoS - 69</option>
                    <option value="70">Brake Applied-SPAD detected - 70</option>
                    <option value="71">ACK - Loco Specific SoS - 71</option>
                    <option value="72">ACK - PT to SR - 72</option>
                    <option value="73">Communication Link Failure - 73</option>
                    <option value="74">Measseg74 - 74</option>
                    <option value="75">Measseg75 - 75</option>
                    <option value="76">Measseg76 - 76</option>
                    <option value="77">Measseg77 - 77</option>
                    <option value="78">Measseg78 - 78</option>
                    <option value="79">Measseg79 - 79</option>
                    <option value="80">Measseg80 - 80</option>
                    <option value="81">Measseg81 - 81</option>
                    <option value="82">Measseg82 - 82</option>
                    <option value="83">Measseg83 - 83</option>
                    <option value="84">Measseg84 - 84</option>
                    <option value="85">Measseg85 - 85</option>
                    <option value="86">Measseg86 - 86</option>
                    <option value="87">Measseg87 - 87</option>
                    <option value="88">Measseg88 - 88</option>
                    <option value="89">Measseg89 - 89</option>
                    <option value="90">Measseg90 - 90</option>
                    <option value="91">Measseg91 - 91</option>
                    <option value="92">Measseg92 - 92</option>
                    <option value="93">Measseg93 - 93</option>
                    <option value="94">Measseg94 - 94</option>
                    <option value="95">Measseg95 - 95</option>
                    <option value="96">Measseg96 - 96</option>
                    <option value="97">Measseg97 - 97</option>
                    <option value="98">Measseg98 - 98</option>
                    <option value="99">Measseg99 - 99</option>
                    <option value="100">Measseg100 - 100</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Message for Driver - H1-2</label>
                  <select id="param_msg_h1_2" disabled>
                    <option value="18">----SELECT----</option>
                    <option value="18">Head On Collision with Loco XXXXX in YYYY m - 18</option>
                    <option value="19">Rear End Collision with Loco XXXXX in YYYY m - 19</option>
                    <option value="22">Manned LC Gate XXXX in YYYYm - 22</option>
                    <option value="23">Unmanned LC Gate XXXX in YYYYm - 23</option>
                    <option value="31">TurnOut in XXXXm with Speed Limit YYYkmph - 31</option>
                    <option value="32">TSR in XXXXm with Speed Limit YYYkmph - 32</option>
                    <option value="33">PSR in XXXXm with Speed Limit YYYkmph - 33</option>
                  </select>
                </div>
                <div class="form-group">
                  <label>Message for Driver - I1</label>
                  <select id="param_msg_i1" name="param_msg_i1">
                    <option value="0">Undefined - 0</option>
                    <option value="1">SOS - Self Loco (Manual) - 1</option>
                    <option value="2">SOS - Self Loco (Stopped in Block Section) - 2</option>
                    <option value="3">SOS - Self Loco (Train Parted) - 3</option>
                    <option value="4">SOS - From Loco XXXXX (Manual) - 4</option>
                    <option value="5">SOS - From Loco XXXXX (Stopped in Block Section) - 5</option>
                    <option value="6">SOS - From Loco XXXXX (Train Parted) - 6</option>
                    <option value="7">SOS - From Station XXXXX (SOS to all Locos) - 7</option>
                    <option value="8">SOS - From Station XXXXX (SOS to this Loco) - 8</option>
                    <option value="9">Over Speed, Please Reduce Speed - 9</option>
                    <option value="10">Brake Applied, Speed Limit Exceeded - 10</option>
                    <option value="11">FSB will be applied in YYYS - 11</option>
                    <option value="12">EB will be applied in YYYS - 12</option>
                    <option value="13">BIU Isolated - 13</option>
                    <option value="14">XXXXXX Train Type Selected - 14</option>
                    <option value="15">message15 - 15</option>
                    <option value="16">message16 - 16</option>
                    <option value="17">message17 - 17</option>
                    <option value="18">message18 - 18</option>
                    <option value="19">message19 - 19</option>
                    <option value="20">message20 - 20</option>
                    <option value="21">message21 - 21</option>
                    <option value="22">message22 - 22</option>
                    <option value="23">message23 - 23</option>
                    <option value="24">message24 - 24</option>
                    <option value="25">message25 - 25</option>
                    <option value="26">message26 - 26</option>
                    <option value="27">message27 - 27</option>
                    <option value="28">message28 - 28</option>
                    <option value="29">message29 - 29</option>
                    <option value="30">message30 - 30</option>
                  </select>
                </div>

                <div style="display:flex; gap:8px">
                  <div style="display: flex; flex-direction: row; gap: 10px;">
                    <div style="flex:1">
                      <label>Radio Signal Strength - J3</label>
                      <select id="param_radio_strength" name="param_radio_strength">
                        <option value="0">Rf - 0</option>
                        <option value="1">LTE - 1</option>
                      </select>
                    </div>
                    <div style="flex:1">
                      <label>&nbsp;</label>
                      <select id="param_radio_strength_2" name="param_radio_strength_2">
                        <option value="0">No Signal - 0</option>
                        <option value="1">Signal Strength - 1</option>
                        <option value="2">Signal Strength - 2</option>
                        <option value="3">Signal Strength - 3</option>
                        <option value="4">Signal Strength - 4</option>
                        <option value="5">Signal Strength - 5</option>
                        <option value="6">Radio Hole - 6</option>
                      </select>
                    </div>
                  </div>
                  <div style="flex:1">
                    <label>Signal S (ms)</label>
                    <input id="param_signal_s" type="text" value="45 ms">
                  </div>
                </div>

                <div style="display:flex; gap:8px; margin-top:8px;">
                  <div style="flex:1">
                    <label>RFID Details - L1</label><input id="param_rfid_l1" type="text">
                  </div>
                  <div style="flex:1">
                    <label>Direction - L2</label><select id="param_direction_l2"><option value="0">U - 0</option><option value="1">Nominal - 1</option><option value="2">Reverse - 2</option></select>
                  </div>
                </div>

                <div style="display:flex; gap:8px; margin-top:8px;">
                  <div style="flex:1"><label>Distance - L3</label><input id="param_distance_l3" type="number"></div>
                  <div style="flex:1"><label>Tag Detection - M1</label><select id="param_tag_m1"><option value="0">DEFAULT GRAY - 0</option><option value="1">Not Detected -RED - 1</option><option value="2">Detection-GREEN - 2</option></select></div>
                </div>

                <div style="display:flex; gap:8px; margin-top:8px;">
                  <div style="flex:1"><label>Tag Detection - M2</label><select id="param_tag_m2"><option value="0">DEFAULT GRAY - 0</option><option value="1">Not Detected -RED - 1</option><option value="2">Detection-GREEN - 2</option></select></div>
                  <div style="flex:1"><label>Tag Detection - M3</label><select id="param_tag_m3"><option value="0">DEFAULT GRAY - 0</option><option value="1">Not Detected -RED - 1</option><option value="2">Detection-GREEN - 2</option></select></div>
                </div>

                <div style="display:flex; gap:8px; margin-top:8px;">
                  <div style="flex:1"><label>Line Number D3 - X</label><input id="param_line_d3x" type="number"></div>
                  <div style="flex:1"><label>Messages H1 - X</label><input id="param_msg_h1x" type="number"></div>
                </div>
                <div class="form-group">
                  <label>Type of signal</label>
                  <select id="param_type_of_signal" name="param_type_of_signal">
                    <option value="0">Undefined - 0</option>
                    <option value="1">C - 1</option>
                    <option value="2">IB - 2</option>
                    <option value="3">G - 3</option>
                    <option value="4">A - 4</option>
                    <option value="5">AG - 5</option>
                    <option value="6">IB cum gate - 6</option>
                  </select>
                </div>

                <div class="form-group"><label>Message- H1 - Y</label><input id="param_msg_h1y" type="number"></div>
                <div class="form-group"><label>Message- I1 - X<label><input id="param_msg_i1x" type="number"></div>
                <div style="display:flex; gap:8px; margin-top:8px;">
                  <div class="form-group"><label>Actice/inActive</label><input id="param_active_inactive" type="number"></div>
                  <div class="form-group"><label>Spare</label><select id="param_buzzer"><option value="0">0 - Buzzer Off</option><option value="1">1 - Buzzer 1</option><option value="2">2 - Buzzer 2</option></select></div>
                </div>
                <div style="display:flex; gap:8px; margin-top:8px;">
                  <div class="form-group"><label>Date</label><input id="param_date" type="number"></div>
                  <div class="form-group"><label>Month</label><input id="param_month" type="number"></div>
                  <div class="form-group"><label>Year</label><input id="param_year" type="number"></div>
                </div>
                <div style="display:flex; gap:8px; margin-top:8px;">
                  <div class="form-group"><label>Hour</label><input id="param_hour" type="number"></div>
                  <div class="form-group"><label>Minute</label><input id="param_minute" type="number"></div>
                  <div class="form-group"><label>Second</label><input id="param_second" type="number"></div>
                </div>

              </div>
            </div>
          </div>
        </div>

      </div>

      <!-- INFO PAGE (hidden initially) -->
      <div id="info" class="page-section" style="display:none">

        <!-- upper VPM/VIC table -->
        <div class="card fade-in">
          <div class="card-header"><i class="fa-solid fa-table-cells"></i> VPM / VIC / VOM Table</div>
          <div class="card-body table-wrap">
            <table id="vpmTable" aria-label="VPM table">
              <thead>
                <tr>
                  <th>VPM1</th><th>VPM2</th><th>VIC1</th><th>VIC2</th><th>VIM1</th><th>VIM2</th><th>VOM1</th><th>VOM2</th><th>ADL</th><th>LPM</th><th>LINK1</th><th>LINK2</th><th>ABS_LOC</th>
                  <th>DIR</th><th>LAST_TAG1</th><th>LAST_TAG2</th><th>KEY</th><th>TIN</th><th>DMI1</th><th>DMI2</th><th>STATUS</th><th>NBB</th><th>FBB</th><th>EB</th>
                  <th>VITAL_EB</th><th>BIU_LINK</th><th>BRAKE_TEST</th><th>SP_PRE_SWITCH</th><th>EB_PRESWITCH</th><th>EB_RELFBK</th><th>EB_COCK</th><th>HEALTH</th><th>MR</th><th>BP</th><th>BC</th>
                  <th>SENSOR1</th><th>SENSOR2</th><th>AVG_SPEED</th><th>GPS1_DATE</th><th>GPS1_MONTH</th><th>GPS1_YEAR</th><th>GPS1HR</th><th>GPS1MIN</th><th>GPS1SEC</th><th>GPS1AmPm</th><th>GPS1LIVEVEW</th>
                  <th>GPS2DATE</th><th>GPS2MONTH</th><th>GPS2YEAR</th><th>GPS2HR</th><th>GPS2MIN</th><th>GPS2SEC</th><th>GPS2AmPm</th><th>GPS2LIVEVIEW</th><th>GPS1GPS2SPEED</th><th>ACTIVE_GPS</th>
                  <th>RADIO1_STATUS</th><th>TX1</th><th>REV1</th><th>RAD1</th><th>PA1</th><th>VOLTAGE1</th><th>RADIO2_STATUS</th><th>TX2</th><th>REV2</th><th>RAD2</th><th>PA2</th><th>VOLTAGE2</th>
                  <th>ACTIVE_CAB</th><th>ACTIVE_DIR</th><th>CAB1</th><th>FWD</th><th>LEAD</th><th>COMMON_BTN</th><th>NON_LEADING</th><th>ACK_BUTTON</th><th>TRACTION</th><th>HORN1</th><th>CAB2</th><th>REV</th><th>ISOLATE</th><th>SOS_BUTTON</th><th>HORN2</th>
                </tr>
              </thead>
              <tbody>
                <!-- rows by JS -->
              </tbody>
            </table>
          </div>
        </div>

        <!-- many info cards grid -->
        <div class="grid-container">
          <div>
            <div class="card fade-in">
              <div class="card-header"><i class="fa-solid fa-list-check"></i> Checksum Info</div>
              <div class="card-body" style="display:grid; grid-template-columns:repeat(2,1fr); gap:2px">
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">VPM1:</label>
                  <input id="param_vpm1" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_vpm1_version" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">VPM2:</label>
                  <input id="param_vpm2" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_vpm2_version" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">VIC1:</label>
                  <input id="param_vic1" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_vic1_version" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">VIC2:</label>
                  <input id="param_vic2" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_vic2_version" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">VIM1:</label>
                  <input id="param_vim1" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_vim1_version" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">VIM2:</label>
                  <input id="param_vim2" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_vim2_version" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">VOM1:</label>
                  <input id="param_vom1" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_vom1_version" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">VOM2:</label>
                  <input id="param_vom2" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_vom2_version" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">ADL:</label>
                  <input id="param_adl" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_adl_version" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">LPM:</label>
                  <input id="param_lpm" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_lpm_version" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">TCC:</label>
                  <input id="param_tcc" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center;">
                  <label style="white-space:nowrap; margin-right:5px;">Version:</label>
                  <input id="param_tcc_version" type="text" style="width:100%;">
                </div>
              </div>
            </div>

            <div class="card fade-in" style="margin-top:12px">
              <div class="card-header"><i class="fa-solid fa-id-card"></i> RFID Reader Info</div>
              <div class="card-body" style="display:grid; grid-template-columns:1fr 1fr; gap:8px">
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="rfid-1-link" style="white-space:nowrap;">RFID-1 Link:</label>
                  <select id="rfid-1-link" name="rfid-1-link" style="width:100%;">
                    <option value="0">FAIL - 0</option>
                    <option value="1">OK - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="rfid-2-link" style="white-space:nowrap;">RFID-2 Link:</label>
                  <select id="rfid-2-link" name="rfid-2-link" style="width:100%;">
                    <option value="0">FAIL - 0</option>
                    <option value="1">OK - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="direction" style="white-space:nowrap;">Direction:</label>
                  <select id="direction" name="direction" style="width:100%;">
                    <option value="0">NA - 0</option>
                    <option value="1">Nominal - 1</option>
                    <option value="2">Reverse - 2</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="key-status" style="white-space:nowrap;">KEY Status:</label>
                  <select id="key-status" name="key-status" style="width:100%;">
                    <option value="0">0-Expired</option>
                    <option value="1">1-Available</option>
                    <option value="2">2-NA</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="last-tag-1" style="white-space:nowrap;">Last-Tag-1:</label>
                  <input id="last-tag-1" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="last-tag-2" style="white-space:nowrap;">Last-Tag-2:</label>
                  <input id="last-tag-2" type="text"  style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="abs-location" style="white-space:nowrap;">ABS Location:</label>
                  <input id="abs-location" type="text"  style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="key-input" style="white-space:nowrap;">Key:</label>
                  <input id="key-input" type="text"  style="width:100%;">
                </div>

                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="tin-input" style="white-space:nowrap;">TIN:</label>
                  <input id="tin-input" type="text"  style="width:100%;">
                </div>

              </div>
            </div>

            <div class="card fade-in" style="margin-top:12px">
              <div class="card-header"><i class="fa-solid fa-car-side"></i> Braking Interface Info</div>
              <div class="card-body" style="display:grid; grid-template-columns:repeat(2,1fr); gap:8px">
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="brake-status" style="white-space:nowrap;">Brake Status:</label>
                  <select id="brake-status" name="brake-status" style="width:100%;">
                    <option value="0">Undefined - 0</option>
                    <option value="1">NB - 1</option>
                    <option value="2">FSB - 2</option>
                    <option value="3">EB - 3</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="eb-cock-1" style="white-space:nowrap;">EB Cock 1:</label>
                  <select id="eb-cock-1" name="eb-cock-1" style="width:100%;">
                    <option value="0">Close - 0</option>
                    <option value="1">Open - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="nb-status" style="white-space:nowrap;">NB:</label>
                  <select id="nb-status" name="nb-status" style="width:100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="biu-health" style="white-space:nowrap;">BIU Health:</label>
                  <select id="biu-health" name="biu-health" style="width:100%;">
                    <option value="0">Fail - 0</option>
                    <option value="1">Ok - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="fsb-status" style="white-space:nowrap;">FSB:</label>
                  <select id="fsb-status" name="fsb-status" style="width:100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div style="flex:1">
                  <label>MR:</label>
                  <input id="mr-input" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="eb-status" style="white-space:nowrap;">EB:</label>
                  <select id="eb-status" name="eb-status" style="width:100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div style="flex:1">
                  <label>BP:</label>
                  <input id="bp-input" type="text"  style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="nb-feedback" style="white-space:nowrap;">NB Feedback:</label>
                  <select id="nb-feedback" name="nb-feedback" style="width:100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div style="flex:1">
                  <label>BC:</label>
                  <input id="bc-input" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="fsb-feedback" style="white-space:nowrap;">FSB Feedback:</label>
                  <select id="fsb-feedback" name="fsb-feedback" style="width:100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="biu-type" style="white-space:nowrap;">BIU Type:</label>
                  <select id="biu-type" name="biu-type" style="width:100%;">
                    <option value="0">Invalid - 0</option>
                    <option value="1">IRAB - 1</option>
                    <option value="2">E70 - 2</option>
                    <option value="3">EMU/Transit -3</option>
                    <option value="4">CCB - 4</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="eb-feedback" style="white-space:nowrap;">EB Feedback:</label>
                  <select id="eb-feedback" name="eb-feedback" style="width:100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="biu-link" style="white-space:nowrap;">BIU Link:</label>
                  <select id="biu-link" name="biu-link" style="width:100%;">
                    <option value="0">Fail - 0</option>
                    <option value="1">OK - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="eb-cock-2" style="white-space:nowrap;">EB Cock 2:</label>
                  <select id="eb-cock-2" name="eb-cock-2" style="width:100%;">
                    <option value="0">Close - 0</option>
                    <option value="1">Open - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="brake-test" style="white-space:nowrap;">Brake test:</label>
                  <select id="brake-test" name="brake-test" style="width:100%;">
                    <option value="0">NA - 0</option>
                    <option value="1">Success - 1</option>
                    <option value="2">Fail - 2</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- Speed Sensor Card (moved from bottom of info page) -->
            <div class="card fade-in" style="margin-top:12px">
              <div class="card-header"><i class="fa-solid fa-tachometer-alt"></i> Speed Sensor</div>
              <div class="card-body">
                <label>Sensor-1</label><input id="info_sensor1" type="number">
                <label style="margin-top:8px">Sensor-2</label><input id="info_sensor2" type="number">
                <label style="margin-top:8px">Average Speed</label><input id="info_avg" type="number" readonly>
              </div>
            </div>
          </div>

          <div>
            <div class="card fade-in" style="margin-top:12px">
              <div class="card-header"><i class="fa-solid fa-person-booth"></i> CAB Info</div>
              <div class="card-body" style="display:grid; grid-template-columns:repeat(2,1fr); gap:4px">
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="active-cab1" style="white-space: nowrap;">Active Cab1:</label>
                  <select id="active-cab1" name="active-cab1" style="width: 100%;">
                    <option value="0">NA - 0</option>
                    <option value="1">CAB1 - 1</option>
                    <option value="2">CAB2 - 2</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="nlead2" style="white-space: nowrap;">NLead2:</label>
                  <select id="nlead2" name="nlead2" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="sos1" style="white-space: nowrap;">SoS 1:</label>
                  <select id="sos1" name="sos1" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="cab1" style="white-space: nowrap;">Cab-1:</label>
                  <select id="cab1" name="cab1" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="cancel1" style="white-space: nowrap;">Cancel 1:</label>
                  <select id="cancel1" name="cancel1" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="common2" style="white-space: nowrap;">Common2:</label>
                  <select id="common2" name="common2" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="hpos1" style="white-space: nowrap;">H Pos 1:</label>
                  <select id="hpos1" name="hpos1" style="width: 100%;">
                    <option value="0">N - 0</option>
                    <option value="1">Fwd - 1</option>
                    <option value="2">Rev - 2</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="active-cab2" style="white-space: nowrap;">Active Cab2:</label>
                  <select id="active-cab2" name="active-cab2" style="width: 100%;">
                    <option value="0">NA - 0</option>
                    <option value="1">CAB1 - 1</option>
                    <option value="2">CAB2 - 2</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="sos2" style="white-space: nowrap;">SoS 2:</label>
                  <select id="sos2" name="sos2" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="lead" style="white-space: nowrap;">Lead:</label>
                  <select id="lead" name="lead" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="cab2" style="white-space: nowrap;">Cab 2:</label>
                  <select id="cab2" name="cab2" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="cancel2" style="white-space: nowrap;">Cancel 2:</label>
                  <select id="cancel2" name="cancel2" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="non-lead" style="white-space: nowrap;">Non Lead:</label>
                  <select id="non-lead" name="non-lead" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="hpos2" style="white-space: nowrap;">H-Pos2:</label>
                  <select id="hpos2" name="hpos2" style="width: 100%;">
                    <option value="0">N - 0</option>
                    <option value="1">Fwd - 1</option>
                    <option value="2">Rev - 2</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="common1" style="white-space: nowrap;">Common 1:</label>
                  <select id="common1" name="common1" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="lead2" style="white-space: nowrap;">Lead 2:</label>
                  <select id="lead2" name="lead2" style="width: 100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="dmi-crc1" style="white-space: nowrap;">DMI CRC 1:</label>
                  <input id="dmi-crc1" type="text"  style="width: 100%;">
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="dmi-crc2" style="white-space: nowrap;">DMI CRC 2:</label>
                  <input id="dmi-crc2" type="text"  style="width: 100%;">
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="dmi-ver2" style="white-space: nowrap;">DMI Ver2 :</label>
                  <input id="dmi-ver2" type="text"  style="width: 100%;">
                </div>

                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="dmi-cab1-v" style="white-space:nowrap;">DMI Cab1 V:</label>
                  <input id="dmi-cab1-v" type="text"  style="width: 100%;">
                </div>
              </div>
            </div>

            <div class="card fade-in" style="margin-top:12px">
              <div class="card-header"><i class="fa-solid fa-broadcast-tower"></i> Radio Status</div>
              <div class="card-body" style="display:grid; grid-template-columns:1fr 1fr; gap:8px">
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="radio1-status" style="white-space: nowrap;">Radio1 Status:</label>
                  <select id="radio1-status" name="radio1-status" style="width: 100%;">
                    <option value="0">Fail - 0</option>
                    <option value="1">OK - 1</option>
                  </select>
                </div>
                <div class="form-group" style="display: flex; align-items: center; gap: 5px;">
                  <label for="radio2-status" style="white-space: nowrap;">Radio2 Status:</label>
                  <select id="radio2-status" name="radio2-status" style="width: 100%;">
                    <option value="0">Fail - 0</option>
                    <option value="1">Ok - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-1-tx-power" style="white-space:nowrap;">Radio-1 tx Power:</label>
                  <input id="radio-1-tx-power" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-2-tx-power" style="white-space:nowrap;">Radio-2 tx Power:</label>
                  <input id="radio-2-tx-power" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-1-rev-power" style="white-space:nowrap;">Radio-1 rev Power:</label>
                  <input id="radio-1-rev-power" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-2-rev-power" style="white-space:nowrap;">Radio-2 rev Power:</label>
                  <input id="radio-2-rev-power" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-1-rad-temp" style="white-space:nowrap;">Radio-1 RAD Temp:</label>
                  <input id="radio-1-rad-temp" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-2-rad-temp" style="white-space:nowrap;">Radio-2 RAD Temp:</label>
                  <input id="radio-2-rad-temp" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-1-pa-temp" style="white-space:nowrap;">Radio-1 PA Temp:</label>
                  <input id="radio-1-pa-temp" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-2-pa-temp" style="white-space:nowrap;">Radio-2 PA Temp:</label>
                  <input id="radio-2-pa-temp" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-1-voltage" style="white-space:nowrap;">Radio-1 Voltage:</label>
                  <input id="radio-1-voltage" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-2-voltage" style="white-space:nowrap;">Radio-2 Voltage:</label>
                  <input id="radio-2-voltage" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-1-rssi" style="white-space:nowrap;">Radio-1 RSSI:</label>
                  <input id="radio-1-rssi" type="text" style="width:100%;">
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label for="radio-2-rssi" style="white-space:nowrap;">Radio-2 RSSI:</label>
                  <input id="radio-2-rssi" type="text" style="width:100%;">
                </div>
              </div>
            </div>
            <!-- New Card Added Here -->
            <div class="card fade-in" style="margin-top:12px">
              <div class="card-header"><i class="fa-solid fa-microchip"></i> DMI COM Link Status</div>
              <div class="card-body" style="display:grid; grid-template-columns:1fr 1fr; gap:8px">
                <div class="form-group">
                  <label for="dmi1-status">DMI1:</label>
                  <select id="dmi1-status" name="dmi1-status">
                    <option value="0">FAIL - 0</option>
                    <option value="1">OK - 1</option>
                  </select>
                </div>
                <div class="form-group">
                  <label for="dmi2-status">DMI2:</label>
                  <select id="dmi2-status" name="dmi2-status">
                    <option value="0">FAIL - 0</option>
                    <option value="1">OK - 1</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- GPS Status Card Added Here -->
            <div class="card fade-in" style="margin-top:12px">
              <div class="card-header"><i class="fa-solid fa-satellite-dish"></i>GPS Status</div>
              <div class="card-body">
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:16px;">
                  <!-- GPS-1 Section -->
                  <div>
                    <div style="font-weight:700; margin-bottom:8px; color:var(--muted);">GPS - 1</div>
                    <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:8px;">
                      <div>
                        <label>Date</label>
                        <input type="number" placeholder="DD">
                      </div>
                      <div>
                        <label>Month</label>
                        <input type="number" placeholder="MM">
                      </div>
                      <div>
                        <label>Year</label>
                        <input type="number" placeholder="YYYY">
                      </div>
                    </div>
                    <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:8px; margin-top:8px;">
                      <div>
                        <label>Hour</label>
                        <input type="number" placeholder="HH">
                      </div>
                      <div>
                        <label>Minute</label>
                        <input type="number" placeholder="MM">
                      </div>
                      <div>
                        <label>Seconds</label>
                        <input type="number" placeholder="SS">
                      </div>
                    </div>
                  </div>

                  <!-- GPS-2 Section -->
                  <div>
                    <div style="font-weight:700; margin-bottom:8px; color:var(--muted);">GPS - 2</div>
                    <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:8px;">
                      <div>
                        <label>Date</label>
                        <input type="number" placeholder="DD">
                      </div>
                      <div>
                        <label>Month</label>
                        <input type="number" placeholder="MM">
                      </div>
                      <div>
                        <label>Year</label>
                        <input type="number" placeholder="YYYY">
                      </div>
                    </div>
                    <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:8px; margin-top:8px;">
                      <div>
                        <label>Hour</label>
                        <input type="number" placeholder="HH">
                      </div>
                      <div>
                        <label>Minute</label>
                        <input type="number" placeholder="MM">
                      </div>
                      <div>
                        <label>Seconds</label>
                        <input type="number" placeholder="SS">
                      </div>
                    </div>
                  </div>
                  <div style="display:flex; align-items:center; gap:5px; grid-column: span 2;">
                    <label style="white-space:nowrap;">Active GPS:</label>
                    <select id="active-gps" style="width:100%;">
                      <option value="0">NA</option>
                      <option value="1">GPS - 1</option>
                      <option value="2">GPS - 2</option>
                    </select>
                  </div>
                </div>

                <!-- GSM Status Section -->
                <div style="border-top:1px solid rgba(15,23,34,0.06); padding-top:12px;">
                  <div style="font-weight:700; margin-bottom:8px; color:var(--muted);">GSM Status</div>
                  <div style="display:grid; grid-template-columns:1fr 1fr; gap:8px;">
                    <!-- First Row: GSM1 Health and Live View -->
                    <div style="display:flex; align-items:center; gap:5px;">
                      <label for="GSM1 Health" style="white-space:nowrap;">GSM1 Health:</label>
                      <select id="GSM1-Health" name="brake-test" style="width:100%;">
                        <option value="0">FAIL - 0</option>
                        <option value="1">OK - 1</option>
                      </select>
                    </div>
                    <div style="display:flex; align-items:center; gap:5px;">
                      <label for="gsm1-live-view" style="white-space:nowrap;">Live view:</label>
                      <input id="gsm1-live-view" type="text" style="width:100%;">
                    </div>

                    <!-- Second Row: GSM2 Health and Live View -->
                    <div style="display:flex; align-items:center; gap:5px;">
                      <label for="GSM2-Health" style="white-space:nowrap;">GSM2 Health:</label>
                      <select id="GSM2-Health" name="brake-test" style="width:100%;">
                        <option value="0">FAIL - 0</option>
                        <option value="1">OK - 1</option>
                      </select>
                    </div>
                    <div style="display:flex; align-items:center; gap:5px;">
                      <label for="gsm2-live-view" style="white-space:nowrap;">Live view:</label>
                      <input id="gsm2-live-view" type="text" style="width:100%;">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

        </div>

        <div class="grid-container" style="margin-top:12px">
          <!-- Loco ID Info Screen (moved from bottom of info page) -->
          <div class="card">
            <div class="card-header">LOCO ID INFO SCREEN</div>
            <div class="card-body">
              <label>LOCO ID</label><input id="info_loco" type="text">
              <div style="margin-top:8px" class="muted-small"><span class="status-dot status-green"></span> Active</div>
            </div>
          </div>

          <!-- Other Functions Card (new) -->
          <div class="card">
            <div class="card-header"><i class="fa-solid fa-cogs"></i> Other Functions</div>
            <div class="card-body">
              <div style="display:flex; flex-direction: column; gap:10px;">
                <div style="display:flex; align-items:center; gap:5px;">
                  <label style="white-space:nowrap;">Isolate:</label>
                  <select id="isolate-select" style="width:100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label style="white-space:nowrap;">Traction:</label>
                  <select id="traction-select" style="width:100%;">
                    <option value="0">NA - 0</option>
                    <option value="1">Enable - 1</option>
                    <option value="2">Disable - 2</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label style="white-space:nowrap;">Horn - 1:</label>
                  <select id="horn1-select" style="width:100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
                <div style="display:flex; align-items:center; gap:5px;">
                  <label style="white-space:nowrap;">Horn - 2:</label>
                  <select id="horn2-select" style="width:100%;">
                    <option value="0">OFF - 0</option>
                    <option value="1">ON - 1</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <div class="card-header">Received Data</div>
          <div class="card-body">
            <div id="receivedDataBox" class="small-box" style="height:120px; overflow:auto; font-family:monospace; white-space: pre-wrap;"></div>
          </div>
        </div>

      </div>

      <!-- ABOUT -->
      <div id="about" class="page-section" style="display:none">
        <div class="card fade-in">
          <div class="card-header"><i class="fa-solid fa-info-circle"></i> About</div>
          <div class="card-body">
            <strong>LPOCIP Simulator</strong> — Webapp with Web Serial API support
          </div>
        </div>
      </div>
      <!-- START TEST PAGE (hidden initially) -->
      <div id="StartTest" class="page-section" style="display:none">
        <div class="card fade-in">
          <div class="card-header"><i class="fa-solid fa-play-circle"></i> Test Cases</div>
          <div class="card-body">
            <!-- Control Buttons -->
            <div class="test-controls" style="display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap;">
              <button id="startTestingBtn" class="btn btn-connect" title="Start Testing">
                <i class="fa-solid fa-play"></i> Start Testing
              </button>
              <button id="stopTestingBtn" class="btn btn-disconnect" title="Stop Testing" disabled>
                <i class="fa-solid fa-stop"></i> Stop Testing
              </button>
              <button id="pauseTestingBtn" class="btn btn-detect" title="Pause Testing" disabled>
                <i class="fa-solid fa-pause"></i> Pause Testing
              </button>
              <button id="resumeTestingBtn" class="btn btn-detect" title="Resume Testing" disabled>
                <i class="fa-solid fa-play"></i> Resume Testing
              </button>
              <button id="clearButton" class="btn btn-clear" title="Clear Results">
                <i class="fa-solid fa-eraser"></i> Clear Results
              </button>
              <button id="generateReportBtn" class="btn btn-connect" disabled>Generate Report</button>

              <div class="checkbox-row">
                <input type="checkbox" id="selectAllCheckbox">
                <label for="selectAllCheckbox">Select All</label>
                <input type="checkbox" id="deselectAllCheckbox">
                <label for="deselectAllCheckbox">Deselect All</label>
              </div>
            </div>

            <!-- Test Case Table -->
            <div class="table-wrap" style="max-height: 500px;">
              <table id="testCasesTable" aria-label="Test Cases table">
                <thead>
                  <tr>
                    <th style="width: 50px;">SELECT</th>
                    <th style="width: 150px;">TESTCASE ID</th>
                    <th>TESTCASE NAME</th>
                    <th style="width: 150px;">PROGRESS</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Test cases will be populated here -->
                </tbody>
              </table>
            </div>

            <!-- Progress Dialog (hidden by default) -->
            <div id="progressDialog" class="progress-dialog" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); z-index: 1000;">
              <h3>Testing Progress</h3>
              <div class="progress-bar-container" style="width: 300px; margin: 15px 0;">
                <div id="progressBar" class="progress-bar" style="width: 0%; height: 20px; background-color: #4CAF50; border-radius: 5px;"></div>
              </div>
              <div id="progressText" style="text-align: center;">0%</div>
            </div>

            <!-- Summary Dialog (hidden by default) -->
            <div id="summaryDialog" class="summary-dialog" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.2); z-index: 1000; max-width: 400px;">
              <h3>Testing Summary</h3>
              <div id="summaryContent" style="margin: 15px 0;"></div>
              <button id="closeSummaryBtn" class="btn btn-connect" style="margin-top: 10px;">Close</button>
            </div>

            <!-- Test Case Details Dialog (hidden by default) -->
            <div id="testcaseDetailsDialog" class="testcase-details-dialog">
              <h3>Test Case Details</h3>
              <div id="testcaseDetailsContent" class="testcase-details-content">
                <!-- Test case details will be populated here -->
              </div>
              <div class="testcase-details-actions">
                <button id="closeDetailsBtn" class="btn btn-clear">Close</button>
                <button id="runSingleTestBtn" class="btn btn-connect">Run Test</button>
              </div>
            </div>
          </div>
        </div>
      </div>

    </section>
  </main>

  <script>
    /* -------------------------
       Web Serial API Implementation
       ------------------------- */
    let serialPort = null;
    let reader = null;
    let writer = null;
    let useLocalSerial = false;
    let keepReading = true;

    // Check if Web Serial API is available
    const isWebSerialSupported = 'serial' in navigator;

    // Local Serial toggle handler
    document.getElementById('useLocalSerial').addEventListener('change', function() {
      useLocalSerial = this.checked;

      // Update UI based on selection
      if (useLocalSerial && isWebSerialSupported) {
        document.getElementById('websocketSettings').style.display = 'none';
        document.getElementById('localSerialSettings').style.display = 'block';
        document.getElementById('legacyComSettings').style.display = 'none';
        document.getElementById('connectionTypeIndicator').style.display = 'inline-block';
        document.getElementById('connectionTypeIndicator').textContent = 'Local';

        // Disconnect WebSocket if connected
        if (websocket && websocket.readyState === WebSocket.OPEN) {
          disconnectWebSocket();
        }
      } else {
        document.getElementById('websocketSettings').style.display = 'block';
        document.getElementById('localSerialSettings').style.display = 'none';
        document.getElementById('legacyComSettings').style.display = 'block';
        document.getElementById('connectionTypeIndicator').style.display = 'none';

        // Disconnect Serial if connected
        if (serialPort) {
          disconnectSerial();
        }
      }
    });

    // Web Serial connection function
    async function connectSerial() {
      if (!isWebSerialSupported) {
        logLine('ERROR: Web Serial API is not supported in this browser');
        return false;
      }

      try {
        // Request user to select a serial port
        serialPort = await navigator.serial.requestPort();

        // Get baud rate from UI
        const baudRate = parseInt(document.getElementById('localBaudRate').value) || 2400;

        // Open the serial port
        await serialPort.open({ baudRate: baudRate });

        // Setup streams
        const textDecoder = new TextDecoderStream();
        const readableStreamClosed = serialPort.readable.pipeTo(textDecoder.writable);
        reader = textDecoder.readable.getReader();

        const textEncoder = new TextEncoderStream();
        const writableStreamClosed = textEncoder.readable.pipeTo(serialPort.writable);
        writer = textEncoder.writable.getWriter();

        // Start reading from the serial port
        keepReading = true;
        readSerial();

        logLine(`INFO: Connected to serial port at ${baudRate} baud`);
        updateConnectionStatus(true, 'Local Serial');

        // Enable controls
        document.getElementById('connectionControls').classList.remove('disabled-control');
        document.getElementById('sendPeriodic').disabled = false;
        document.getElementById('packetNavigation').disabled = false;
        document.getElementById('negativeTest').disabled = false;
        document.getElementById('connectBtn').disabled = true;

        return true;
      } catch (error) {
        logLine(`ERROR: Failed to connect to serial port: ${error.message}`);
        updateConnectionStatus(false, 'Error');
        return false;
      }
    }

async function readSerial() {
  // Use a buffer to accumulate partial data
  let buffer = '';


  while (keepReading && reader) {
    try {
      const { value, done } = await reader.read();
      if (done) {
        reader.releaseLock();
        break;
      }

      if (value) {
        //logLine(`value came: ${value.length > 50 ? value.substring(0, 50) + '...' : value}`);
        // Add new data to buffer
        buffer += value;


        // Process complete lines (preserving line endings)
        let newlineIndex;
        while ((newlineIndex = buffer.indexOf('\n')) !== -1) {
          const line = buffer.substring(0, newlineIndex + 1);
          buffer = buffer.substring(newlineIndex + 1);
          //logLine(`Rx:  ${line}`);

          if (line.trim()) {
            setTimeout(() => processReceivedData(line), 0);
          }
        }


        if (buffer.trim() && isReceivingScreenshot) {
          setTimeout(() => processReceivedData(buffer), 0);
          buffer = '';
        }

      }
    } catch (error) {
      logLine(`ERROR: Serial read error: ${error.message}`);
    }
  }
}
// Global variable to store all screenshot raw data
let screenshotLogData = "";

let screenshotData = {};
let currentTestCaseId = null;
let isReceivingScreenshot = false;

function processReceivedData(line) {
  // Check if this is the start of a screenshot
  if (line.startsWith("$30")) {
    currentTestCaseId = testExecutionState.currentTestCaseId;
    logLine(`INFO: Started receiving screenshot for test case: ${currentTestCaseId}`);
    //logLine(`Rx-> ${line}`);

    // Extract base64 data directly (remove only "$30")
    const base64Data = line.substring(3);

    //  Directly save the screenshot (no waiting for end markers)
    saveScreenshotRawToTextFile(base64Data, currentTestCaseId);

    //  Reset and mark test case as complete
    clearTimeout(ackTimer);
    clearTimeout(screenshotTimer);
    testExecutionState.waitForAck = false;
    testExecutionState.waitForScreenshot = false;
    testExecutionState.retryCount = 0;
    testExecutionState.imageRetryCount = 0;

    isReceivingScreenshot = false;
    screenshotData[currentTestCaseId] = null;

    //  Mark test case as passed in UI
    const testCaseIndex = testCasesData.findIndex(tc => tc.id === currentTestCaseId);
    if (testCaseIndex !== -1) {
      testExecutionState.totalProcessed++;
      testExecutionState.consecutiveCount = 0;
      if (document.getElementById('StartTest').style.display !== 'none') {
        const rows = document.querySelectorAll("#testCasesTable tbody tr");
        for (let i = 0; i < rows.length; i++) {
          const rowTestCaseId = rows[i].querySelector(".test-case-id").textContent;
          if (rowTestCaseId === currentTestCaseId) {
            markTestCasePassed(rows[i]);
            break;
          }
        }
      }
      testExecutionState.currentIndex++;
      setTimeout(processNextTestCase, 1000);
    }
    return;
  }

  // Handle normal lines (non-screenshot)
  handleTestCaseResponse(line);
}

function saveScreenshotRawToTextFile(base64Data, testCaseId) {
  try {
    const entry = `TestCaseID: ${testCaseId}\n${base64Data}\n---------------------------------------\n`;
    screenshotLogData += entry; // Append to global log
    logLine(`INFO: Screenshot raw data stored for ${testCaseId}`);
  } catch (error) {
    logLine(`ERROR saving screenshot raw data: ${error.message}`);
  }
}



function saveScreenshotDataToFile(data, testCaseId) {
  try {
    //  Extract everything after the first "$30"
    const startIndex = data.indexOf("$30");
    if (startIndex === -1) {
      logLine(`ERROR: No $30 found in screenshot data`);
      return;
    }

    // Take substring after "$30"
    let base64Data = data.substring(startIndex + 3)
      .replace(/\r|\n/g, '')   // remove all CR/LF
      .trim();

    // Decode Base64 → binary
    const byteCharacters = atob(base64Data);
    const byteNumbers = new Array(byteCharacters.length);
    for (let i = 0; i < byteCharacters.length; i++) {
      byteNumbers[i] = byteCharacters.charCodeAt(i);
    }
    const byteArray = new Uint8Array(byteNumbers);
    const blob = new Blob([byteArray], { type: 'image/jpeg' });

    saveImageToExcel(blob, testCaseId);


    // Generate file name
    const timestamp = new Date().toISOString().replace(/:/g, '-').slice(0, 19);
    const filename = `response_ss_${testCaseId}_${timestamp}.jpeg`;


    // Download image
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = filename;
    document.body.appendChild(a);
    a.click();

    // Cleanup
    setTimeout(() => {
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }, 100);

    logLine(`INFO: Screenshot image saved as ${filename}`);
    showNotification(`Screenshot image saved for test case: ${testCaseId}`, "success");
  } catch (error) {
    logLine(`ERROR: Failed to save screenshot image: ${error.message}`);
    showNotification(`Failed to save screenshot image: ${error.message}`, "error");
  }
}

// --- Global Excel workbook (keeps all screenshots in one file) ---
const workbook = new ExcelJS.Workbook();
const worksheet = workbook.addWorksheet("V1.4_DMI_Functional_testcase");

// Setup Excel header once
worksheet.getCell("B1").value = "Test Case ID";
worksheet.getColumn(2).width = 30;
worksheet.getCell("I1").value = "Screenshot-Report";
worksheet.getColumn(9).width = 100;

/**
 * Save one screenshot image into Excel (in-memory)
 * Called each time a screenshot is saved
 */
 async function saveImageToExcel(imageBlob, testCaseId) {
   try {
     const buffer = await imageBlob.arrayBuffer();
     const imageId = workbook.addImage({
       buffer,
       extension: "jpeg",
     });

     // Find or create the correct row for this test case ID
     let targetRow = -1;
     for (let i = 2; i <= worksheet.rowCount; i++) {
       const value = worksheet.getCell(`B${i}`).value;
       if (value === testCaseId) {
         targetRow = i;
         break;
       }
     }

     // If not found, append at bottom
     if (targetRow === -1) {
       targetRow = worksheet.rowCount + 1;
       worksheet.getCell(`B${targetRow}`).value = testCaseId;
     }

     // Match your C++ scaling and adjust row height accordingly
     const scaledWidth = 100 * 7.5;   // ~750 px
     const scaledHeight = 250 * 1.33; // ~333 px

     // Adjust row height to slightly larger than image height
     // (Each Excel row ≈ 0.75 points per pixel, so divide by 0.75)
     const adjustedRowHeight = scaledHeight / 0.75;
     worksheet.getRow(targetRow).height = adjustedRowHeight;

     // Insert image with slight offset for padding
     worksheet.addImage(imageId, {
       tl: { col: 8, row: targetRow - 1 + 0.1 }, // 0.1 for padding
       ext: { width: scaledWidth, height: scaledHeight },
       editAs: 'oneCell',
     });

     logLine(`INFO: Screenshot perfectly placed for test case ${testCaseId} (row ${targetRow})`);
   } catch (error) {
     logLine(`ERROR: Failed to save image to Excel: ${error.message}`);
   }
 }



/**
 *  Auto-download the Excel file after all test cases complete
 */
async function downloadFinalExcel() {
  try {
    const buffer = await workbook.xlsx.writeBuffer();
    const blob = new Blob([buffer], {
      type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
    });
    saveAs(blob, "DMI-Testcases-Excelsheet.xlsx");
    logLine("INFO: Final Excel downloaded successfully.");
  } catch (error) {
    logLine(`ERROR: Failed to generate Excel file: ${error.message}`);
  }
}




// Modify the handleTestCaseResponse function to handle test case completion
function handleTestCaseResponse(data) {
  // Check if this is a test case completion response
  if (data.includes("TESTCASE_COMPLETE") || data.includes("TESTCASE_PASS")) {
    // Find the current test case row
    const rows = document.querySelectorAll("#testCasesTable tbody tr");
    for (let i = 0; i < rows.length; i++) {
      const rowTestCaseId = rows[i].querySelector(".test-case-id").textContent;
      if (rowTestCaseId === testExecutionState.currentTestCaseId) {
        markTestCasePassed(rows[i]);
        testExecutionState.currentIndex++;
        setTimeout(processNextTestCase, 1000); // Wait 1 second before processing next test case
        break;
      }
    }
  }
  // Handle other responses as needed
}

    // Write to serial port
    async function writeSerial(data) {
      if (writer && serialPort) {
        try {
          await writer.write(data);
          return true;
        } catch (error) {
          logLine(`ERROR: Serial write error: ${error.message}`);
          return false;
        }
      }
      return false;
    }

    // Disconnect serial
    async function disconnectSerial() {
      keepReading = false;

      if (reader) {
        try {
          await reader.cancel();
          await reader.releaseLock();
        } catch (error) {
          console.error('Error releasing reader:', error);
        }
        reader = null;
      }

      if (writer) {
        try {
          await writer.close();
        } catch (error) {
          console.error('Error closing writer:', error);
        }
        writer = null;
      }

      if (serialPort) {
        try {
          await serialPort.close();
        } catch (error) {
          console.error('Error closing port:', error);
        }
        serialPort = null;
      }

      logLine('INFO: Disconnected from serial port');
      updateConnectionStatus(false, 'Disconnected');

      // Disable controls
      document.getElementById('connectionControls').classList.add('disabled-control');
      document.getElementById('sendPeriodic').disabled = true;
      document.getElementById('packetNavigation').disabled = true;
      document.getElementById('negativeTest').disabled = true;
      document.getElementById('connectBtn').disabled = false;

      // Stop periodic sending if active
      if (document.getElementById('sendPeriodic').checked) {
        document.getElementById('sendPeriodic').checked = false;
        if (periodicInterval) {
          clearInterval(periodicInterval);
          periodicInterval = null;
        }
      }

      // Stop packet navigation if active
      if (document.getElementById('packetNavigation').checked) {
        document.getElementById('packetNavigation').checked = false;
        if (packetNavInterval) {
          clearInterval(packetNavInterval);
          packetNavInterval = null;
        }
      }
    }

    /* -------------------------
       WebSocket Implementation (Fallback)
       ------------------------- */
    let websocket = null;
    const websocketStatus = document.getElementById('websocketStatus');
    const websocketServerInput = document.getElementById('websocketServer');

    // Function to update connection status in UI
    function updateConnectionStatus(connected, type) {
      websocketStatus.className = 'websocket-status ' + (connected ? 'connected' : 'disconnected');
      const statusText = websocketStatus.querySelector('span:last-child');
      statusText.textContent = connected ? `Connected (${type})` : 'Disconnected';

      const statusDot = websocketStatus.querySelector('.status-dot');
      statusDot.className = 'status-dot';
      statusDot.classList.add(connected ? 'status-green' : 'status-fail');
    }

    // Function to connect to WebSocket server
    function connectWebSocket() {
      const serverUrl = websocketServerInput.value.trim();

      if (!serverUrl) {
        logLine('ERROR: Please enter a WebSocket server URL');
        return;
      }

      if (websocket && websocket.readyState === WebSocket.OPEN) {
        logLine('WARNING: WebSocket already connected');
        return;
      }

      updateConnectionStatus(false, 'Connecting...');

      try {
        websocket = new WebSocket(serverUrl);

        websocket.onopen = function() {
          websocket.onmessage = handleWebSocketMessage;
          updateConnectionStatus(true, 'WebSocket');
          logLine('INFO: WebSocket connected to ' + serverUrl);

          // Enable connection-dependent controls
          document.getElementById('connectionControls').classList.remove('disabled-control');
          document.getElementById('sendPeriodic').disabled = false;
          document.getElementById('packetNavigation').disabled = false;
          document.getElementById('negativeTest').disabled = false;

          document.getElementById('connectBtn').disabled = true;

          // Reset packet sequence to 0 on connection
          globalSequence = 0;

          // Send initial connection info with port and baud rate
          const port = document.getElementById('comPort').value;
          const baudRate = document.getElementById('baudRate').value;

          if (port) {
            sendWebSocketMessage({
              type: 'connect',
              port: port,
              baudRate: baudRate
            });
          }
        };

        websocket.onmessage = handleWebSocketMessage;

        websocket.onerror = function(error) {
          updateConnectionStatus(false, 'Connection Error');
          logLine('ERROR: WebSocket error - ' + error.message);

          // Disable connection-dependent controls
          document.getElementById('connectionControls').classList.add('disabled-control');
          document.getElementById('sendPeriodic').disabled = true;
          document.getElementById('packetNavigation').disabled = true;
          document.getElementById('negativeTest').disabled = true;

          document.getElementById('connectBtn').disabled = false;
        };

        websocket.onclose = function() {
          updateConnectionStatus(false, 'Disconnected');
          logLine('INFO: WebSocket disconnected');

          // Disable connection-dependent controls
          document.getElementById('connectionControls').classList.add('disabled-control');
          document.getElementById('sendPeriodic').disabled = true;
          document.getElementById('packetNavigation').disabled = true;
          document.getElementById('negativeTest').disabled = true;

          // If periodic sending is active, stop it
          if (document.getElementById('sendPeriodic').checked) {
            document.getElementById('sendPeriodic').checked = false;
            if (periodicInterval) {
              clearInterval(periodicInterval);
              periodicInterval = null;
              logLine('INFO: Stopped periodic data transmission due to disconnect');
            }
          }

          // If packet navigation is active, stop it
          if (document.getElementById('packetNavigation').checked) {
            document.getElementById('packetNavigation').checked = false;
            if (packetNavInterval) {
              clearInterval(packetNavInterval);
              packetNavInterval = null;
              logLine('INFO: Stopped packet navigation due to disconnect');
            }
          }

          document.getElementById('connectBtn').disabled = false;
        };
      } catch (error) {
        updateConnectionStatus(false, 'Connection Failed');
        logLine('ERROR: Failed to connect to WebSocket - ' + error.message);
        document.getElementById('connectBtn').disabled = false;
      }
    }

    // Handle WebSocket messages
    function handleWebSocketMessage(event) {
      try {
        const data = JSON.parse(event.data);

        if (data.type === 'serial_data') {
          logLine('Rx-> ' + data.payload);

          // Check if we're on the info page and update received data box
          const currentPage = document.querySelector('.nav-links .link.active').dataset.page;
          if (currentPage === 'info') {
            const receivedDataBox = document.getElementById('receivedDataBox');
            if (receivedDataBox) {
              const t = new Date().toLocaleTimeString();
              receivedDataBox.textContent += `\n${t} Rx-> ${data.payload}`;
              receivedDataBox.scrollTop = receivedDataBox.scrollHeight;
            }
          }

          // Handle test case responses
          handleTestCaseResponse(data.payload);
        } else if (data.type === 'port_list') {
          // Handle port list response
          updatePortList(data.ports);
        } else if (data.type === 'status') {
          logLine('INFO: ' + data.message);
        } else if (data.type === 'error') {
          logLine('ERROR: ' + data.message);
        } else if (data.type === 'log') {
          // Handle the new log message type from backend
          logLine('LOG: ' + data.message);
        }
      } catch (e) {
        // If not JSON, just log as raw data
        logLine('Rx-> ' + event.data);
        handleTestCaseResponse(event.data);
      }
    }

    // Function to disconnect from WebSocket server
    function disconnectWebSocket() {
      if (websocket && websocket.readyState === WebSocket.OPEN) {
        // Send disconnect message
        sendWebSocketMessage({
          type: 'disconnect'
        });

        // Close the WebSocket connection
        websocket.close();
        websocket = null;
      } else {
        logLine('WARNING: WebSocket not connected');
      }
    }

    // Function to send message via WebSocket
    function sendWebSocketMessage(message) {
      if (websocket && websocket.readyState === WebSocket.OPEN) {
        websocket.send(JSON.stringify(message));
      } else {
        logLine('ERROR: WebSocket not connected');
      }
    }

    // Function to send serial data via WebSocket
    function sendSerialData(data) {
      if (useLocalSerial && serialPort) {
        // Use Web Serial API
        writeSerial(data);
        logLine(`Tx-> ${data}`);
      } else {
        // Use WebSocket fallback
        sendWebSocketMessage({
          type: 'serial_data',
          payload: data
        });
      }
    }

    // Function to request port list from server
    function requestPortList() {
      if (websocket && websocket.readyState === WebSocket.OPEN) {
        sendWebSocketMessage({
          type: 'list_ports'
        });
        document.getElementById('portStatus').textContent = 'Requesting port list...';
      } else {
        logLine('ERROR: WebSocket not connected. Please connect first.');
      }
    }

    // Function to update port list in dropdown
    function updatePortList(ports) {
      const comPortSelect = document.getElementById('comPort');

      // Clear existing options but keep the default
      while (comPortSelect.options.length > 1) {
        comPortSelect.remove(1);
      }

      // Add new options
      ports.forEach(port => {
        const option = document.createElement('option');
        option.value = port;
        option.textContent = port;
        comPortSelect.appendChild(option);
      });

      const portStatus = document.getElementById('portStatus');
      if (ports.length > 0) {
        portStatus.textContent = `Found ${ports.length} port(s)`;
        logLine(`INFO: Detected ${ports.length} serial port(s)`);
      } else {
        portStatus.textContent = 'No ports found';
        logLine('WARNING: No serial ports detected');
      }
    }

    /* -------------------------
       Unified Connection Management
       ------------------------- */
    // Connect button handler
    document.getElementById('connectBtn').addEventListener('click', async () => {
      if (useLocalSerial && isWebSerialSupported) {
        await connectSerial();
      } else {
        connectWebSocket();
      }
    });

    // Disconnect button handler
    document.getElementById('disconnectBtn').addEventListener('click', () => {
      if (useLocalSerial && serialPort) {
        disconnectSerial();
      } else {
        disconnectWebSocket();
      }
    });

    // Clear button handler
    document.getElementById('clearBtn').addEventListener('click', () => {
      document.getElementById('logBox').textContent = '';

      // Check if we're on the info page and clear received data box
      const currentPage = document.querySelector('.nav-links .link.active').dataset.page;
      if (currentPage === 'info') {
        const receivedDataBox = document.getElementById('receivedDataBox');
        if (receivedDataBox) {
          receivedDataBox.textContent = '';
        }
      }
    });
    /* -------------------------
       Page Navigation
       ------------------------- */
    const navLinks = document.querySelectorAll('.nav-links .link');
    const pageSim = document.querySelector('#simulator');
    const pageInfo = document.querySelector('#info');
    const pageAbout = document.querySelector('#about');
    const packetNavToggle = document.querySelector('.packet-nav-toggle');

    navLinks.forEach(a => a.addEventListener('click', (e)=>{
      e.preventDefault();
      navLinks.forEach(x=>x.classList.remove('active'));
      a.classList.add('active');

      const page = a.dataset.page;
      pageSim.style.display = page==='simulator' ? '' : 'none';
      pageInfo.style.display = page==='info' ? '' : 'none';
      pageAbout.style.display = page==='about' ? '' : 'none';

      const startTestPage = document.getElementById('StartTest');
      if (startTestPage) {
        startTestPage.style.display = page==='StartTest' ? '' : 'none';
      }

      // Hide COM Settings on Start Test page
      const comCard = document.getElementById('comCard');
      if (comCard) {
        comCard.style.display = page==='StartTest' ? 'none' : '';
      }

      // Hide packet navigation on info page
      if (page === 'info') {
        packetNavToggle.classList.add('hide-packet-nav');
      } else {
        packetNavToggle.classList.remove('hide-packet-nav');
      }

      // Initialize test cases page when navigating to it
      if (page === 'StartTest' && document.getElementById("testCasesTable") && !document.getElementById("testCasesTable").dataset.initialized) {
        initializeTestCasesPage();
        document.getElementById("testCasesTable").dataset.initialized = "true";
      }
    }));

    /* -------------------------
       Prepopulate 13 table rows
       ------------------------- */
    const targetsData = [
      {t:0, type:'0', cs:0, ps:0, loco:'0', lower:0, brake: 'Undefined-0', abs:0.00, mode:'Undefined-0', dma:0, sa:'Undefined-0', rdh:'Hide', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:0, tl:0, mh:'Select Train Config, Press \'CONFIG\' Button - 48', mi:'Undefined-0', rs:'Not Signal - 0', tm1:'DEFAULT GRAY - 0', tm2:'DEFAULT GRAY - 0', tm3:'DEFAULT GRAY - 0', rt:'0', dir:'U-0', td:0, lnd3x:0, mh1x:'0', mh1y:'0', mi1x:'0', ack:'1', bz:' '},
      {t:0, type:'SB', cs:0, ps:0, loco:'20662', lower:0, brake:'Undefined - 0', abs:172.00, mode:'Stand by - 1', dma:0, sa:'Undefined-0', rdh:'Hide', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:5.55, tl:0, mh:'Select Staff Responsible or Shunt Mode - 49', mi:'Undefined-0', rs:'Not Signal - 0', tm1:'DEFAULT GRAY - 0', tm2:'DEFAULT GRAY - 0', tm3:'Not Detected -RED - 1', rt:'679', dir:'Reverse - 2', td:0, lnd3x:0, mh1x:'0', mh1y:'0', mi1x:'0', ack:'1', bz:' '},
      {t:0, type:'SR', cs:0, ps:140, loco:'20662', lower:0, brake:'Undefined - 0', abs:171.00, mode:'Staff Responsible - 2', dma:0, sa:'Undefined-0', rdh:'Hide', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:0.65, tl:25, mh:'Undefined - 0', mi:'Undefined-0', rs:'Not Signal - 0', tm1:'DEFAULT GRAY - 0', tm2:'DEFAULT GRAY - 0', tm3:'Not Detected -RED - 1', rt:'679', dir:'Reverse - 2', td:0, lnd3x:0, mh1x:'0', mh1y:'0', mi1x:'0', ack:'1', bz:' '},
      {t:0, type:'LS', cs:50, ps:120, loco:'20662', lower:40, brake:'Undefined - 0', abs:200.00, mode:'Limited Supervision - 3', dma:0, sa:'Undefined-0', rdh:'Hide', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:0.55, tl:500, mh:'Undefined - 0', mi:'Undefined-0', rs:'Signal Length - 3', tm1:'DEFAULT GRAY - 0', tm2:'Detection-GREEN - 2', tm3:'Detection-GREEN - 2', rt:'700', dir:'Reverse - 2', td:200, lnd3x:0, mh1x:'0', mh1y:'0', mi1x:'0', ack:'1', bz:' '},
      {t:0, type:'FS', cs:50, ps:140, loco:'20662', lower:40, brake:'Undefined - 0', abs:200.00, mode:'Full Supervision - 4', dma:0, sa:'Undefined-0', rdh:'Hide', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:0.7, tl:25, mh:'Undefined - 0', mi:'Undefined-0', rs:'Signal length - 5', tm1:'DEFAULT GRAY - 0', tm2:'Detection-GREEN - 2', tm3:'Not Detected -RED - 1', rt:'900', dir:'Reverse - 2', td:200, lnd3x:0, mh1x:'0', mh1y:'0', mi1x:'0', ack:'1', bz:' '},
      {t:1000, type:'OV', cs:50, ps:120, loco:'20662', lower:40, brake:'Undefined - 0', abs:200.00, mode:'Override - 5', dma:1000, sa:'Yellow with pos 1-3', rdh:'1 - Show', tos:'C - 1', sd:2000, lnd:'DN - 1', spt:'Undefined - 0', dec:1.10, tl:50, mh:'Override selected - 20', mi:'Undefined-0', rs:'Signal length - 5', tm1:'Detection-GREEN - 2', tm2:'Detection-GREEN - 2', tm3:'Not Detected -RED - 1', rt:'902', dir:'Nominal - 1', td:400, lnd3x:0, mh1x:'0', mh1y:'0', mi1x:'0', ack:'1', bz:' '},
      {t:1000, type:'OS', cs:20, ps:150, loco:'20662', lower:80, brake:'Undefined - 0', abs:180, mode:'Onsight - 6', dma:1000, sa:'Undefined - 0', rdh:'1 - Show', tos:'A - 4', sd:1000, lnd:'UP - 0', spt:'Adv_Signal - 1', dec:0.5, tl:25, mh:'TurnOut in XXXXm with Speed Limit YYYkmph - 31', mi:'Undefined-0', rs:'Signal length - 5', tm1:'Detection-GREEN - 2', tm2:'Detection-GREEN - 2', tm3:'Not Detected -RED - 1', rt:'903', dir:'Reverse - 0', td:690, lnd3x:8, mh1x:'1000', mh1y:'30', mi1x:'62527', ack:'1', bz:' '},
      {t:100, type:'TR', cs:0, ps:120, loco:'20662', lower:40, brake:'Emergency-3', abs:15.89, mode:'Trip - 7', dma:2000, sa:'Undefined - 0', rdh:'0', tos:'Undefined - 0', sd:0, lnd:'Up_Slow - 8', spt:'Undefined - 0', dec:6.78, tl:600, mh:'Train Tripped, Select P_Trip - 4', mi:'SOS from Loco', rs:'Signal Length - 3', tm1:'Not Detected -RED - 1', tm2:'DEFAULT GRAY - 0', tm3:'Detection-GREEN - 2', rt:'904', dir:'Nominal - 1', td:2000, lnd3x:8, mh1x:'87645', mh1y:'8746', mi1x:'62567', ack:'1', bz:' '},
      {t:0, type:'P_TR', cs:10, ps:120, loco:'20662', lower:40, brake:'Undefined - 0', abs:150, mode:'Post Trip - 8', dma:500, sa:'Undefined - 0', rdh:'0', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:5.34, tl:200, mh:'Undefined - 0', mi:'Undefined-0', rs:'Signal Length - 3', tm1:'Not Detected -RED - 1', tm2:'DEFAULT GRAY - 0', tm3:'Not Detected -RED - 1', rt:'905', dir:'Nominal - 1', td:1500, lnd3x:5, mh1x:'98765', mh1y:'6445', mi1x:'62536', ack:'1', bz:' '},
      {t:0, type:'RV', cs:20, ps:120, loco:'20662', lower:25, brake:'Undefined - 0', abs:150.00, mode:'Reverse - 9', dma:500, sa:'Undefined - 0', rdh:'0', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:5.34, tl:200, mh:'Reverse Mode Expires in XXXXm or YYYs - 21', mi:'Undefined-0', rs:'Signal length - 5', tm1:'DEFAULT GRAY - 0', tm2:'DEFAULT GRAY - 0', tm3:'Not Detected -RED - 1', rt:'0', dir:'U - 0', td:0, lnd3x:0, mh1x:'500', mh1y:'300', mi1x:'0', ack:'1', bz:' '},
      {t:0, type:'SHNT', cs:15, ps:120, loco:'20662', lower:25, brake:'Undefined - 0', abs:200.00, mode:'Shunt - 10', dma:0, sa:'Undefined - 0', rdh:'0', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:4.23, tl:300, mh:'Undefined - 0', mi:'Undefined-0', rs:'Not Signal - 0', tm1:'DEFAULT GRAY - 0', tm2:'DEFAULT GRAY - 0', tm3:'Detection-GREEN - 2', rt:'0', dir:'U - 0', td:0, lnd3x:0, mh1x:'0', mh1y:'0', mi1x:'0', ack:'1', bz:' '},
      {t:1000, type:'NL', cs:20, ps:120, loco:'20662', lower:40, brake:'Undefined - 0', abs:170.00, mode:'Non-Leading - 11', dma:0, sa:'Undefined - 0', rdh:'0', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:1.23, tl:500, mh:'Undefined - 0', mi:'Undefined-0', rs:'not Signal - 0', tm1:'DEFAULT GRAY - 0', tm2:'DEFAULT GRAY - 0', tm3:'Not Detected -RED - 1', rt:'0', dir:'U - 0', td:0, lnd3x:0, mh1x:'0', mh1y:'0', mi1x:'0', ack:'1', bz:' '},
      {t:0, type:'SF', cs:0, ps:0, loco:'20662', lower:0, brake:'Undefined - 0', abs:175.00, mode:'System Failure - 12', dma:0, sa:'Undefined - 0', rdh:'0', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:0.65, tl:25, mh:'System Fault, Isolate or Restart KAVACH - 1', mi:'Undefined-0', rs:'Not - Signal - 0', tm1:'DEFAULT GRAY - 0', tm2:'DEFAULT GRAY - 0', tm3:'Detection-GREEN - 2', rt:'679', dir:'U - 0', td:0, lnd3x:0, mh1x:'0', mh1y:'0', mi1x:'0', ack:'0', bz:' '},
      {t:0, type:'IS', cs:20, ps:120, loco:'20662', lower:0, brake:'Undefined - 0', abs:179.00, mode:'Isolation - 13', dma:0, sa:'Undefined - 0', rdh:'0', tos:'Undefined - 0', sd:0, lnd:'Future_use-14', spt:'Undefined - 0', dec:0.65, tl:25, mh:'Undefined - 0', mi:'Undefined-0', rs:'Not Signal - 0', tm1:'DEFAULT GRAY - 0', tm2:'DEFAULT GRAY - 0', tm3:'Not Detected -RED - 1', rt:'TAG1013', dir:'U - 0', td:0, lnd3x:0, mh1x:'0', mh1y:'0', mi1x:'0', ack:'0', bz:' '}
    ];

    // Create a new array for display with modified first column
    const displayTargetsData = [];

    // Create first row based on targetsData[0] but with type set to "0"
    const firstRow = { ...targetsData[0] };
    firstRow.type = "0";
    displayTargetsData.push(firstRow);

    // New Type of Target values to replace the random ones (starting from index 1)
    const newTypeValues = "Undefined-0,Undefined-0,Undefined-0,Undefined-0,Undefined-0,Undefined-0,Turnout-1,Undefined-0,Undefined-0,Undefined-0,Undefined-0,Undefined-0,Undefined-0,Undefined-0".split(',');

    // Process the rest of the rows (from index 1 to the end)
    for (let i = 1; i < targetsData.length; i++) {
      const originalRow = targetsData[i];
      const newRow = { ...originalRow };

      // Replace Type_of_Target with the specified value
      newRow.type = newTypeValues[i];

      displayTargetsData.push(newRow);
    }

    const tbodyTargets = document.querySelector('#targetsTable tbody');
    displayTargetsData.forEach((r, i) => {
      const tr = document.createElement('tr');

      // For the first row, display 0 in the first column
      // For other rows, display the original type value (OS, OV, etc.)
      const firstColValue = i === 0 ? "0" : targetsData[i].type;

      tr.innerHTML = `<td>${firstColValue}</td><td>${r.t}</td><td>${r.type}</td><td>${r.cs}</td><td>${r.ps}</td><td>${r.loco}</td><td>${r.lower}</td><td>${r.brake}</td><td>${r.abs}</td><td>${r.mode}</td><td>${r.dma}</td><td>${r.sa}</td><td>${r.rdh}</td><td>${r.tos}</td><td>${r.sd}</td><td>${r.lnd}</td><td>${r.spt}</td><td>${r.dec}</td><td>${r.tl}</td><td>${r.mh}</td><td>${r.mi}</td><td>${r.rs}</td><td>${r.tm1}</td><td>${r.tm2}</td><td>${r.tm3}</td><td>${r.rt}</td><td>${r.dir}</td><td>${r.td}</td><td>${r.lnd3x}</td><td>${r.mh1x}</td><td>${r.mh1y}</td><td>${r.mi1x}</td><td>${r.ack}</td><td>${r.bz}</td>`;
      tr.addEventListener('click', ()=>{
        document.querySelectorAll('#targetsTable tbody tr').forEach(x=>x.classList.remove('selected'));
        tr.classList.add('selected');
        populateSimulatorFromRow(r);
      });
      tbodyTargets.appendChild(tr);
    });

    // select first
    setTimeout(()=>{ const first = tbodyTargets.querySelector('tr'); if(first) first.click(); }, 80);

    /* -------------------------
       VPM / VIC table (3 columns per row) fill
       ------------------------- */
    // Data from the provided screenshots
    const vpmRows = [
      // --- Data for Row 1 ---
      [
        '0x990951BA', // VPM1
        '0x076DC419', // VPM2
        '0xABD13D59', // VIC1
        '0x90BF1D91', // VIC2
        '0x26D930AC', // VIM1
        '0x1C6C6162', // VIM2
        '0x8E0B1010', // VOM1
        '0xEE0B1011', // VOM2
        '0xE7B82D07', // ADL
        '0x43630B12', // LPM
        'OK - 1',     // Link1
        'OK - 1',     // Link2
        '63.50',      // ABS_Loc
        'NA - 0',     // Dir
        '935',        // Last_Tag1
        '345',        // Last_Tag2
        '0',          // Key
        '234',        // Tin
        'OK - 1',     // DMI1
        'OK - 1',     // DMI2
        'NBB - 1',    // Status
        'ON - 1',     // NBB
        'OFF - 0',    // FBB
        'ON - 1',     // EB
        'ON - 1',     // VitalEB
        'OK - 1',     // BIU_Link
        'SUCCESS - 1',// BrakeTest
        'ON - 1',     // SP_PreSwitch
        'ON - 1',     // EB_PreSwitch
        'OFF - 0',    // EB_RELFBK
        'ON - 1',     // EB_Cock
        'OK - 1',     // Health
        '8.00',       // MR
        '8.00',       // BP
        '8.00',       // BC
        '250',        // Sensor1
        '250',        // Sensor2
        '250',        // AvgSpeed
        '2',          // GPS1date
        '5',          // GPS1Month
        '23',         // GPS1Year
        '2',          // GPS1hrs
        '34',         // GPS1min
        '20',         // GPS1Sec
        'AM - 1',     // GPS1AmPm
        '23',         // GPS1LiveView
        '2',          // GPS2date
        '5',          // GPS2Month
        '23',         // GPS2Year
        '3',          // GPS2Hrs
        '34',         // GPS2min
        '23',         // GPS2sec
        'AM - 1',     // GPS2ampm
        '23',         // GPS2LiveView
        '345',        // GPS1GPS2S
        'NA - 0',     // ActiveGPS
        'OK - 1',     // Radio1Status
        '9',          // Tx1
        '45',         // Rev1
        '23',         // Rad1
        '45',         // PA1
        '24',         // Voltage1
        'OK - 1',     // Radio2Status
        '10',         // Tx2
        '23',         // Rev2
        '25',         // RAD2
        '-2',         // PA2
        '24',         // Voltage2
        'CAB1 - 1',   // ActiveCab
        'FWD - 1',    // ActiveDir
        'ON - 1',     // Cab1
        'ON - 1',     // FWD
        'ON - 1',     // LEAD
        'OFF - 0',    // COMMONBtn
        'OFF - 0',    // NonLeading
        'ON - 1',     // AckButton
        'Enable - 1', // Traction
        'OFF - 0',    // Horn1
        'OFF - 0',    // Cab2
        'ON - 1',     // REV
        'OFF - 0',    // Isolate
        'ON - 1',     // SOSButton
        'ON - 1'      // Horn2
      ],
      // --- Data for Row 2 ---
      [
        '0x7EB17CBD', // VPM1
        '0xE7B82D07', // VPM2
        '0x6B6B51F4', // VIC1
        '0xFD62F97A', // VIC2
        '0x810BE924', // VIM1
        '0x62DD1DDF', // VIM2
        '0x2EB40D81', // VOM1
        '0x2CB40D81', // VOM2
        '0xE7B82D07', // ADL
        '0x43630B12', // LPM
        'FAIL - 0',   // Link1
        'FAIL - 0',   // Link2
        '189.26',     // ABS_Loc
        'Normal - 1', // Dir
        '268',        // Last_Tag1
        '566',        // Last_Tag2
        '1',          // Key
        '166',        // Tin
        'OK - 1',     // DMI1
        'OK - 1',     // DMI2
        'FBB - 2',    // Status
        'OFF - 0',    // NBB
        'ON - 1',     // FBB
        'OFF - 0',    // EB
        'OFF - 0',    // VitalEB
        'OK - 1',     // BIU_Link
        'NA - 0',     // BrakeTest
        'ON - 1',     // SP_PreSwitch
        'OFF - 0',    // EB_PreSwitch
        'ON - 1',     // EB_RELFBK
        'ON - 1',     // EB_Cock
        'OK - 1',     // Health
        '5.10',       // MR
        '5.10',       // BP
        '5.10',       // BC
        '180',        // Sensor1
        '180',        // Sensor2
        '180',        // AvgSpeed
        '4',          // GPS1 date
        '6',          // GPS1Month
        '23',         // GPS1Year
        '4',          // GPS1hrs
        '45',         // GPS1min
        '45',         // GPS1Sec
        'PM - 2',     // GPS1AmPm
        '25',         // GPS1LiveView
        '4',          // GPS2date
        '6',          // GPS2Month
        '23',         // GPS2Year
        '4',          // GPS2Hrs
        '45',         // GPS2min
        '46',         // GPS2sec
        'AM - 1',     // GPS2ampm
        '445',        // GPS2LiveView
        '445',        // GPS1GPS2S
        'GPS - 1',    // ActiveGPS (changed from GPS1 - 1 to GPS - 1)
        'OK - 1',     // Radio1Status
        '8',          // Tx1
        '54',         // Rev1
        '26',         // Rad1
        '34',         // PA1
        '12',         // Voltage1
        'OK - 1',     // Radio2Status
        '7',          // Tx2
        '14',         // Rev2
        '37',         // RAD2
        '60',         // PA2
        '23',         // Voltage2
        'CAB2 - 2',   // ActiveCab
        'REV - 2',    // ActiveDir
        'OFF - 0',    // Cab1
        'ON - 1',     // FWD
        'OFF - 0',    // LEAD
        'ON - 1',     // COMMONBtn
        'ON - 1',     // NonLeading
        'ON - 1',     // AckButton
        'Enable - 1', // Traction
        'ON - 1',     // Horn1
        'ON - 1',     // Cab2
        'OFF - 0',    // REV
        'ON - 1',     // Isolate
        'OFF - 0',    // SOSButton
        'OFF - 0'     // Horn2
      ],
      // --- Data for Row 3 ---
      [
        '0x5F058808', // VPM1
        '0x646BA8C0', // VPM2
        '0x270241AA', // VIC1
        '0x4804D447', // VIC2
        '0x9FBFE4A5', // VIM1
        '0xD3D6F4FB',// VIM2
        '0xE3630B12', // VOM1
        '0x43630B12', // VOM2
        '0xE7B82D07', // ADL
        '0x43630B12', // LPM
        'OK - 1',     // Link1
        'OK - 1',     // Link2
        '228.56',     // ABS_Loc
        'Reverse - 2',// Dir
        '554',        // Last_Tag1
        '934',        // Last_Tag2
        '0',          // Key
        '55',         // Tin
        'OK - 1',     // DMI1
        'OK - 1',     // DMI2
        'EB - 3',     // Status
        'ON - 1',     // NBB
        'ON - 1',     // FBB
        'ON - 1',     // EB
        'ON - 1',     // VitalEB
        'FAIL - 0',   // BIU_Link
        'FAIL - 2',   // BrakeTest
        'OFF - 0',    // SP_PreSwitch
        'ON - 1',     // EB_PreSwitch
        'ON - 1',     // EB_RELFBK
        'ON - 1',     // EB_Cock
        'OK - 1',     // Health
        '3.50',       // MR
        '3.50',       // BP
        '3.50',       // BC
        '120',        // Sensor1
        '120',        // Sensor2
        '120',        // AvgSpeed
        '10',         // GPS1date
        '8',          // GPS1Month
        '23',         // GPS1Year
        '5',          // GPS1hrs
        '12',         // GPS1min
        '58',         // GPS1Sec
        'AM - 1',     // GPS1AmPm
        '24',         // GPS1LiveView
        '5',          // GPS2date
        '8',          // GPS2Month
        '23',         // GPS2Year
        '5',          // GPS2Hrs
        '12',         // GPS2min
        '57',         // GPS2sec
        'PM - 2',     // GPS2ampm
        '56',         // GPS2LiveView
        '567',        // GPS1GPS2S
        'GPS - 2',    // ActiveGPS (changed from GPS2 - 2 to GPS - 2)
        'OK - 1',     // Radio1Status
        '10',         // Tx1
        '34',         // Rev1
        '24',         // Rad1
        '-1',         // PA1
        '23',         // Voltage1
        'OK - 1',     // Radio2Status
        '8',          // Tx2
        '24',         // Rev2
        '46',         // RAD2
        '28',         // PA2
        '12',         // Voltage2
        'CAB1 - 1',   // ActiveCab
        'FWD - 1',    // ActiveDir
        'ON - 1',     // Cab1
        'OFF - 0',    // FWD
        'ON - 1',     // LEAD
        'ON - 1',     // COMMONBtn
        'ON - 1',     // NonLeading
        'OFF - 0',    // AckButton
        'Disable - 2',// Traction
        'ON - 1',     // Horn1
        'ON - 1',     // Cab2
        'ON - 1',     // REV
        'ON - 1',     // Isolate
        'ON - 1',     // SOSButton
        'ON - 1'      // Horn2
      ]
    ];

    // Create rows with 3 elements each
    const vpmBody = document.querySelector('#vpmTable tbody');

    // Create rows with 3 elements each
    for (let i = 0; i < vpmRows.length; i++) {
      const tr = document.createElement('tr');

      // Add all columns to the row
      vpmRows[i].forEach(value => {
        const td = document.createElement('td');
        td.textContent = value;
        tr.appendChild(td);
      });

      tr.addEventListener('click', () => {
        document.querySelectorAll('#vpmTable tbody tr').forEach(x => x.classList.remove('selected'));
        tr.classList.add('selected');

        // Get all cell values from the selected row
        const rowData = [];
        tr.querySelectorAll('td').forEach(cell => {
          rowData.push(cell.textContent);
        });

        // Populate the info data fields with the row data
        populateInfoDataFromRow(rowData);
      });

      vpmBody.appendChild(tr);
    }

    /* -------------------------
       Helper functions for dropdown mapping
       ------------------------- */
    function mapTypeOfTarget(value) {
      if (!value) return '0';

      const strValue = String(value);

      // If it's just a number, return it
      if (/^\d+$/.test(strValue)) {
        return strValue;
      }

      // Try to extract the number after the last dash
      const match = strValue.match(/-(\d+)$/);
      if (match) {
        return match[1];
      }

      // Fallback to the old method
      const lowerStr = strValue.toLowerCase();
      if (lowerStr.includes('undefined')) return '0';
      if (lowerStr.includes('turn out') || lowerStr.includes('turnout')) return '1';
      if (lowerStr.includes('collision')) return '2';
      if (lowerStr.includes('sos')) return '3';
      if (lowerStr.includes('eoa')) return '4';
      if (lowerStr.includes('psr')) return '5';
      if (lowerStr.includes('tsr')) return '6';

      return '0';
    }

    function mapTypeOfBrake(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('undefined')) return '0';
      if (strValue === '1' || strValue.includes('normal')) return '1';
      if (strValue === '2' || strValue.includes('full service')) return '2';
      if (strValue === '3' || strValue.includes('emergency')) return '3';
      if (strValue === '4' || strValue.includes('le')) return '4';

      return '0';
    }

    function mapModesOfOperation(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('undefined')) return '0';
      if (strValue === '1' || strValue.includes('stand by')) return '1';
      if (strValue === '2' || strValue.includes('staff responsible')) return '2';
      if (strValue === '3' || strValue.includes('limited supervision')) return '3';
      if (strValue === '4' || strValue.includes('full supervision')) return '4';
      if (strValue === '5' || strValue.includes('override')) return '5';
      if (strValue === '6' || strValue.includes('onsight')) return '6';
      if (strValue === '7' || strValue.includes('trip')) return '7';
      if (strValue === '8' || strValue.includes('post trip')) return '8';
      if (strValue === '9' || strValue.includes('reverse')) return '9';
      if (strValue === '10' || strValue.includes('shunt')) return '10';
      if (strValue === '11' || strValue.includes('non-leading')) return '11';
      if (strValue === '12' || strValue.includes('system failure')) return '12';
      if (strValue === '13' || strValue.includes('isolation')) return '13';

      return '0';
    }

    function mapSignalAspect(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('undefined')) return '0';
      if (strValue === '1' || strValue.includes('red')) return '1';
      if (strValue === '2' || strValue.includes('yellow without route')) return '2';
      if (strValue === '3' || strValue.includes('yellow with pos1')) return '3';
      if (strValue === '4' || strValue.includes('yellow with pos2')) return '4';
      if (strValue === '5' || strValue.includes('yellow with pos3')) return '5';
      if (strValue === '6' || strValue.includes('yellow with pos4')) return '6';
      if (strValue === '7' || strValue.includes('yellow with pos5')) return '7';
      if (strValue === '8' || strValue.includes('yellow with pos6')) return '8';
      if (strValue === '9' || strValue.includes('spare')) return '9';
      if (strValue === '10' || strValue.includes('double yellow')) return '10';
      if (strValue === '11' || strValue.includes('green')) return '11';
      if (strValue === '12' || strValue.includes('double yellow with pos1')) return '12';
      if (strValue === '13' || strValue.includes('double yellow with pos4')) return '13';
      if (strValue === '14' || strValue.includes('ag marker off')) return '14';
      if (strValue === '15' || strValue.includes('red with calling-on')) return '15';
      if (strValue === '24' || strValue.includes('stop board')) return '24';

      // Check for numeric values between 16-23 and 25-63
      const numValue = parseInt(strValue);
      if (numValue >= 16 && numValue <= 23) return strValue;
      if (numValue >= 25 && numValue <= 63) return strValue;

      return '0';
    }

    function mapRegDHide(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('hide')) return '0';
      if (strValue === '1' || strValue.includes('show')) return '1';
      if (strValue === '2' || (strValue.includes('signal') && strValue.includes('board'))) return '2';

      return '0';
    }

    function mapTypeOfSignal(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('undefined')) return '0';
      if (strValue === '1' || strValue === 'c') return '1';
      if (strValue === '2' || strValue === 'ib') return '2';
      if (strValue === '3' || strValue === 'g') return '3';
      if (strValue === '4' || strValue === 'a') return '4';
      if (strValue === '5' || strValue === 'ag') return '5';
      if (strValue === '6' || (strValue.includes('ib') && strValue.includes('gate'))) return '6';

      return '0';
    }

    function mapLineNumber(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('up')) return '0';
      if (strValue === '1' || strValue.includes('dn')) return '1';
      if (strValue === '2' || strValue.includes('up fast')) return '2';
      if (strValue === '3' || strValue.includes('dn fast')) return '3';
      if (strValue === '8' || strValue.includes('up slow')) return '8';
      if (strValue === '9' || strValue.includes('dn slow')) return '9';
      if (strValue === '10' || strValue.includes('up main')) return '10';
      if (strValue === '11' || strValue.includes('dn main')) return '11';
      if (strValue === '12' || strValue.includes('up sub')) return '12';
      if (strValue === '13' || strValue.includes('dn sub')) return '13';
      if (strValue === '14' || strValue.includes('up bi-dir')) return '14';
      if (strValue === '15' || strValue.includes('dn bi-dir')) return '15';

      return '0';
    }

    function mapSignalPostType(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('undefined')) return '0';
      if (strValue === '1' || strValue.includes('adv-str')) return '1';
      if (strValue === '2' || strValue.includes('ib sig')) return '2';
      if (strValue === '3' || strValue.includes('gate-stop-sig')) return '3';
      if (strValue === '4' || strValue.includes('calling-on')) return '4';
      if (strValue === '5' || strValue.includes('adv-str-cum-gate')) return '5';
      if (strValue === '6' || strValue.includes('gate-cum-dist')) return '6';
      if (strValue === '7' || strValue.includes('adv-str-cum-dist')) return '7';
      if (strValue === '16' || strValue.includes('dist')) return '16';
      if (strValue === '17' || strValue.includes('inr-dist')) return '17';
      if (strValue === '18' || strValue.includes('gate-dist')) return '18';
      if (strValue === '19' || strValue.includes('gate-inr-dist')) return '19';
      if (strValue === '20' || strValue.includes('ib-dist')) return '20';
      if (strValue === '21' || strValue.includes('ib-inr-dist')) return '21';
      if (strValue === '22' || strValue.includes('auto')) return '22';
      if (strValue === '23' || strValue.includes('semi-auto')) return '23';
      if (strValue === '24' || strValue.includes('home')) return '24';
      if (strValue === '26' || strValue.includes('r-home')) return '26';
      if (strValue === '30' || strValue.includes('int-str')) return '30';
      if (strValue === '35' || strValue.includes('auto-gate')) return '35';
      if (strValue === '45' || strValue.includes('stop board')) return '45';

      return '0';
    }

    function mapMessageH1(value) {
      if (!value) return '0';

      // Extract the numeric value if it exists at the end
      const match = String(value).match(/-(\d+)$/);
      if (match) {
        const numValue = parseInt(match[1]);
        if (numValue >= 0 && numValue <= 100) {
          return String(numValue);
        }
      }

      // Check for specific text patterns
      const strValue = String(value).toLowerCase();

      if (strValue.includes('system fault')) return '1';
      if (strValue.includes('ack block stop')) return '2';
      if (strValue.includes('eb bypassed')) return '3';
      if (strValue.includes('train tripped')) return '4';
      if (strValue.includes('brake applied, dead end')) return '5';
      if (strValue.includes('standstill protection')) return '6';
      if (strValue.includes('rollback protection')) return '7';
      if (strValue.includes('rev movement not allowed')) return '8';
      if (strValue.includes('stand by mode')) return '9';
      if (strValue.includes('ack sr mode, kavach territory exit')) return '10';
      if (strValue.includes('ack sr mode, station radio comm fail')) return '11';
      if (strValue.includes('ack sr mode, no track profile info')) return '12';
      if (strValue.includes('ack sr mode, tags missing')) return '13';
      if (strValue.includes('ack sr mode, direction unknown')) return '14';
      if (strValue.includes('ack sr mode, gps fail')) return '15';
      if (strValue.includes('ack ls mode, station radio comm fail')) return '16';
      if (strValue.includes('ack sr mode, tsr link fail')) return '17';
      if (strValue.includes('head on collision')) return '18';
      if (strValue.includes('rear end collision')) return '19';
      if (strValue.includes('override selected')) return '20';
      if (strValue.includes('reverse mode expires')) return '21';
      if (strValue.includes('manned lc gate')) return '22';
      if (strValue.includes('unmanned lc gate')) return '23';
      if (strValue.includes('ls mode waiting for station radio')) return '24';
      if (strValue.includes('ls mode waiting for track profile')) return '25';
      if (strValue.includes('both leading & non-leading')) return '26';
      if (strValue.includes('train length computation in progress')) return '27';
      if (strValue.includes('train length computation success')) return '28';
      if (strValue.includes('train length computation fail')) return '29';
      if (strValue.includes('train length computation aborted')) return '30';
      if (strValue.includes('turnout')) return '31';
      if (strValue.includes('tsr')) return '32';
      if (strValue.includes('psr')) return '33';
      if (strValue.includes('end of authority')) return '34';
      if (strValue.includes('kavach territory entry')) return '35';
      if (strValue.includes('system self test in progress')) return '36';
      if (strValue.includes('system self test success')) return '37';
      if (strValue.includes('system self test fail')) return '38';
      if (strValue.includes('brakes test waiting for mr')) return '39';
      if (strValue.includes('brakes test waiting for bp')) return '40';
      if (strValue.includes('brakes test nsb applied')) return '41';
      if (strValue.includes('brakes test fsb applied')) return '42';
      if (strValue.includes('brakes test eb applied')) return '43';
      if (strValue.includes('brakes test leb applied')) return '44';
      if (strValue.includes('brakes testing success')) return '45';
      if (strValue.includes('brakes testing fail')) return '46';
      if (strValue.includes('brakes test fail, press ack')) return '47';
      if (strValue.includes('select train config')) return '48';
      if (strValue.includes('select staff responsible')) return '49';
      if (strValue.includes('approaching radio hole')) return '50';
      if (strValue.includes('ack os mode')) return '51';
      if (strValue.includes('train is in fouling zone')) return '52';
      if (strValue.includes('sr/sh mode')) return '53';
      if (strValue.includes('fs mode')) return '54';
      if (strValue.includes('ack sr mode – etcs territory exit')) return '55';
      if (strValue.includes('ballise default telegram')) return '56';
      if (strValue.includes('waiting for traction command')) return '57';
      if (strValue.includes('traction cut-off command fail')) return '58';
      if (strValue.includes('fouling mark entry')) return '59';
      if (strValue.includes('fouling mark clear')) return '60';
      if (strValue.includes('neutral section approaching')) return '61';
      if (strValue.includes('braking system malfunction')) return '62';
      if (strValue.includes('no forward dir in rev mode')) return '63';
      if (strValue.includes('ack sr mode - sr authorization')) return '64';
      if (strValue.includes('ack sr mode - slip/skid')) return '65';
      if (strValue.includes('ack sr mode- foreign tag')) return '66';
      if (strValue.includes('ack for sr mode - odo error')) return '67';
      if (strValue.includes('brake applied- shunting limits')) return '68';
      if (strValue.includes('brake applied- station general sos')) return '69';
      if (strValue.includes('brake applied-spad detected')) return '70';
      if (strValue.includes('ack - loco specific sos')) return '71';
      if (strValue.includes('ack - pt to sr')) return '72';
      if (strValue.includes('communication link failure')) return '73';

      return '0';
    }

    function mapMessageI1(value) {
      if (!value) return '0';

      // Extract the numeric value if it exists at the end
      const match = String(value).match(/-(\d+)$/);
      if (match) {
        const numValue = parseInt(match[1]);
        if (numValue >= 0 && numValue <= 30) {
          return String(numValue);
        }
      }

      // Check for specific text patterns
      const strValue = String(value).toLowerCase();

      if (strValue.includes('sos - self loco (manual)')) return '1';
      if (strValue.includes('sos - self loco (stopped)')) return '2';
      if (strValue.includes('sos - self loco (train parted)')) return '3';
      if (strValue.includes('sos - from loco (manual)')) return '4';
      if (strValue.includes('sos - from loco (stopped)')) return '5';
      if (strValue.includes('sos - from loco (train parted)')) return '6';
      if (strValue.includes('sos - from station (sos to all)')) return '7';
      if (strValue.includes('sos - from station (sos to this)')) return '8';
      if (strValue.includes('over speed')) return '9';
      if (strValue.includes('brake applied, speed limit')) return '10';
      if (strValue.includes('fsb will be applied')) return '11';
      if (strValue.includes('eb will be applied')) return '12';
      if (strValue.includes('biu isolated')) return '13';
      if (strValue.includes('train type selected')) return '14';

      return '0';
    }

    function mapRadioStrength(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('no signal') || strValue.includes('not signal')) return '0';
      if (strValue === '1' || strValue.includes('signal strength - 1')) return '1';
      if (strValue === '2' || strValue.includes('signal strength - 2')) return '2';
      if (strValue === '3' || strValue.includes('signal strength - 3')) return '3';
      if (strValue === '4' || strValue.includes('signal strength - 4')) return '4';
      if (strValue === '5' || strValue.includes('signal strength - 5')) return '5';
      if (strValue === '6' || strValue.includes('radio hole')) return '6';

      return '0';
    }

    function mapTagDetection(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('default gray')) return '0';
      if (strValue === '1' || strValue.includes('not detected') || strValue.includes('not detected-red')) return '1';
      if (strValue === '2' || strValue.includes('detection-green') || strValue.includes('detected-green')) return '2';

      return '0';
    }

    function mapDirection(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('u')) return '0';
      if (strValue === '1' || strValue.includes('nominal') || strValue.includes('normal')) return '1';
      if (strValue === '2' || strValue.includes('reverse')) return '2';

      return '0';
    }

    function mapBuzzer(value) {
      if (!value) return '0';

      const strValue = String(value).toLowerCase();

      if (strValue === '0' || strValue.includes('off') || strValue.trim() === '') return '0';
      if (strValue === '1' || strValue.includes('buzzer 1')) return '1';
      if (strValue === '2' || strValue.includes('buzzer 2')) return '2';

      return '0';
    }

    /* -------------------------
       Row -> populate simulator fields
       ------------------------- */
    function populateSimulatorFromRow(row){
      // Helper function to set field values safely
      const setFieldValue = (id, value) => {
        const element = document.getElementById(id);
        if (element && value !== undefined) {
          element.value = value;
        }
      };

      // Helper function to set dropdown values
      const setDropdownValue = (id, mappingFunction, value) => {
        const element = document.getElementById(id);
        if (element && value !== undefined) {
          const mappedValue = mappingFunction(value);
          element.value = mappedValue;
          // Trigger change event to ensure UI updates
          element.dispatchEvent(new Event('change', { bubbles: true }));
        }
      };

      // Basic fields
      setFieldValue('param_target_distance', row.t);
      setDropdownValue('param_type_of_target', mapTypeOfTarget, row.type);
      setFieldValue('param_current_speed', row.cs);
      setFieldValue('param_permiss_speed', row.ps);
      setFieldValue('param_b11', row.b11 || '0');
      setFieldValue('param_loco_id', row.loco);
      setFieldValue('param_lower_speed', row.lower);
      setDropdownValue('param_type_brake', mapTypeOfBrake, row.brake);
      setFieldValue('param_abs_location', row.abs);
      setDropdownValue('param_modes_operation', mapModesOfOperation, row.mode);
      setFieldValue('param_distance_ma_c1', row.dma);

      // Signal related
      setDropdownValue('param_signal_aspect', mapSignalAspect, row.sa);
      setDropdownValue('param_hide_show', mapRegDHide, row.rdh);
      setDropdownValue('param_type_of_signal', mapTypeOfSignal, row.tos);

      // Distance fields
      setFieldValue('param_distance_l3', row.sd); // Signal_Distance and Tag_Distance
      setFieldValue('param_distance_d2', row.sd); // Distance of Upcoming Signal-D2

      // Line related
      setDropdownValue('param_line_number_d3', mapLineNumber, row.lnd);
      setDropdownValue('param_signal_post_type', mapSignalPostType, row.spt);

      // Deceleration and Train Length
      setFieldValue('param_deceleration_e1', row.dec);
      setFieldValue('param_train_length_f1', row.tl);

      // Messages
      setDropdownValue('param_msg_h1', mapMessageH1, row.mh);
      setDropdownValue('param_msg_i1', mapMessageI1, row.mi);

      // Radio Signal Strength
      setDropdownValue('param_radio_strength_2', mapRadioStrength, row.rs);

      // Tag Detection
      setDropdownValue('param_tag_m1', mapTagDetection, row.tm1);
      setDropdownValue('param_tag_m2', mapTagDetection, row.tm2);
      setDropdownValue('param_tag_m3', mapTagDetection, row.tm3);

      // RFID and Direction
      setFieldValue('param_rfid_l1', row.rt);
      setDropdownValue('param_direction_l2', mapDirection, row.dir);

      // Additional fields
      setFieldValue('param_line_d3x', row.lnd3x);
      setFieldValue('param_msg_h1x', row.mh1x);
      setFieldValue('param_msg_h1y', row.mh1y);
      setFieldValue('param_msg_i1x', row.mi1x);

      // Active/inActive and Buzzer
      setFieldValue('param_active_inactive', row.ack);
      setDropdownValue('param_buzzer', mapBuzzer, row.bz);
    }

    /* -------------------------
       Info Data Page Functionality
       ------------------------- */

    // Function to populate info data fields from a selected row in the VPM table
    function populateInfoDataFromRow(rowData) {
      // Helper function to set field values safely
      const setFieldValue = (id, value) => {
        const element = document.getElementById(id);
        if (element && value !== undefined) {
          element.value = value;
        }
      };

      // Helper function to set dropdown values
      const setDropdownValue = (id, value) => {
        const element = document.getElementById(id);
        if (element && value !== undefined) {
          element.value = value;
          // Trigger change event to ensure UI updates
          element.dispatchEvent(new Event('change', { bubbles: true }));
        }
      };

      // Checksum Info fields
      setFieldValue('param_vpm1', rowData[0]);
      setFieldValue('param_vpm2', rowData[1]);
      setFieldValue('param_vic1', rowData[2]);
      setFieldValue('param_vic2', rowData[3]);
      setFieldValue('param_vim1', rowData[4]);
      setFieldValue('param_vim2', rowData[5]);
      setFieldValue('param_vom1', rowData[6]);
      setFieldValue('param_vom2', rowData[7]);
      setFieldValue('param_adl', rowData[8]);
      setFieldValue('param_lpm', rowData[9]);

      // RFID Reader Info fields
      setDropdownValue('rfid-1-link', rowData[10] === 'OK - 1' ? '1' : '0');
      setDropdownValue('rfid-2-link', rowData[11] === 'OK - 1' ? '1' : '0');
      // For Direction: map 'Normal - 1' to '1' (which is 'Nominal - 1' in the dropdown) and 'Reverse - 2' to '2'
      let dirValue = '0';
      if (rowData[13] === 'Normal - 1' || rowData[13] === 'Nominal - 1') {
        dirValue = '1';
      } else if (rowData[13] === 'Reverse - 2') {
        dirValue = '2';
      }
      setDropdownValue('direction', dirValue);
      setDropdownValue('key-status', rowData[16] === '0' ? '0' : (rowData[16] === '1' ? '1' : '2'));
      setFieldValue('last-tag-1', rowData[14]);
      setFieldValue('last-tag-2', rowData[15]);
      setFieldValue('abs-location', rowData[12]);
      setFieldValue('key-input', rowData[16]);
      setFieldValue('tin-input', rowData[17]);

      // DMI COM Link Status
      setDropdownValue('dmi1-status', rowData[18] === 'OK - 1' ? '1' : '0');
      setDropdownValue('dmi2-status', rowData[19] === 'OK - 1' ? '1' : '0');

      // Braking Interface Info fields
      // Map STATUS to brake-status: 'NBB - 1' -> '1', 'FBB - 2' -> '2', 'EB - 3' -> '3'
      let brakeStatusValue = '0';
      if (rowData[20] === 'NBB - 1') {
        brakeStatusValue = '1';
      } else if (rowData[20] === 'FBB - 2') {
        brakeStatusValue = '2';
      } else if (rowData[20] === 'EB - 3') {
        brakeStatusValue = '3';
      }
      setDropdownValue('brake-status', brakeStatusValue);
      setDropdownValue('eb-cock-1', rowData[30] === 'ON - 1' ? '1' : '0');
      setDropdownValue('nb-status', rowData[21] === 'ON - 1' ? '1' : '0');
      setDropdownValue('biu-health', rowData[31] === 'OK - 1' ? '1' : '0');
      setDropdownValue('fsb-status', rowData[22] === 'ON - 1' ? '1' : '0');
      setFieldValue('mr-input', rowData[32]);
      setDropdownValue('eb-status', rowData[23] === 'ON - 1' ? '1' : '0');
      setFieldValue('bp-input', rowData[33]);
      setDropdownValue('nb-feedback', rowData[27] === 'ON - 1' ? '1' : '0');
      setFieldValue('bc-input', rowData[34]);
      setDropdownValue('fsb-feedback', rowData[28] === 'ON - 1' ? '1' : '0');
      setDropdownValue('biu-type', '0'); // Default value as it's not directly in the table
      setDropdownValue('eb-feedback', rowData[29] === 'ON - 1' ? '1' : '0');
      setDropdownValue('biu-link', rowData[25] === 'OK - 1' ? '1' : '0'); // Note: BIU_Link is at index 26
      setDropdownValue('eb-cock-2', '0'); // Default value as it's not directly in the table
      // Map BRAKE_TEST: 'SUCCESS - 1' -> '1', 'FAIL - 2' -> '2', 'NA - 0' -> '0'
      let brakeTestValue = '0';
      if (rowData[26] === 'SUCCESS - 1') {
        brakeTestValue = '1';
      } else if (rowData[26] === 'FAIL - 2') {
        brakeTestValue = '2';
      }
      setDropdownValue('brake-test', brakeTestValue);

      // Speed Sensor fields
      setFieldValue('info_sensor1', rowData[35]);
      setFieldValue('info_sensor2', rowData[36]);
      setFieldValue('info_avg', rowData[37]);

      // GPS Status fields
      // We have to set the inputs by index because they don't have ids
      const gpsInputs = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]');
      if (gpsInputs.length >= 12) {
        gpsInputs[0].value = rowData[38]; // GPS1 date
        gpsInputs[1].value = rowData[39]; // GPS1 month
        gpsInputs[2].value = rowData[40]; // GPS1 year
        gpsInputs[3].value = rowData[41]; // GPS1 hour
        gpsInputs[4].value = rowData[42]; // GPS1 minute
        gpsInputs[5].value = rowData[43]; // GPS1 second
        gpsInputs[6].value = rowData[46]; // GPS2 date
        gpsInputs[7].value = rowData[47]; // GPS2 month
        gpsInputs[8].value = rowData[48]; // GPS2 year
        gpsInputs[9].value = rowData[49]; // GPS2 hour
        gpsInputs[10].value = rowData[50]; // GPS2 minute
        gpsInputs[11].value = rowData[51]; // GPS2 second
      }

      // GSM Status fields (not directly in the table, but we have live view from GPS1LIVEVEW and GPS2LIVEVIEW)
      setDropdownValue('GSM1-Health', '1'); // Default value as it's not directly in the table
      setFieldValue('gsm1-live-view', rowData[50]); // GPS1LIVEVEW
      setDropdownValue('GSM2-Health', '1'); // Default value as it's not directly in the table
      setFieldValue('gsm2-live-view', rowData[51]); // GPS2LIVEVIEW

      // Active GPS
      // Map ACTIVE_GPS: 'NA - 0' -> '0', 'GPS - 1' -> '1', 'GPS - 2' -> '2'
      let activeGpsValue = '0';
      if (rowData[55] === 'GPS - 1') {
        activeGpsValue = '1';
      } else if (rowData[55] === 'GPS - 2') {
        activeGpsValue = '2';
      }
      setDropdownValue('active-gps', activeGpsValue);

      // Radio Status fields
      setDropdownValue('radio1-status', rowData[56] === 'OK - 1' ? '1' : '0');
      setFieldValue('radio-1-tx-power', rowData[57]);
      setFieldValue('radio-1-rev-power', rowData[58]);
      setFieldValue('radio-1-rad-temp', rowData[59]);
      setFieldValue('radio-1-pa-temp', rowData[60]);
      setFieldValue('radio-1-voltage', rowData[61]);
      setFieldValue('radio-1-rssi', '0'); // Default value as it's not directly in the table
      setDropdownValue('radio2-status', rowData[62] === 'OK - 1' ? '1' : '0');
      setFieldValue('radio-2-tx-power', rowData[63]);
      setFieldValue('radio-2-rev-power', rowData[64]);
      setFieldValue('radio-2-rad-temp', rowData[65]);
      setFieldValue('radio-2-pa-temp', rowData[66]);
      setFieldValue('radio-2-voltage', rowData[67]);
      setFieldValue('radio-2-rssi', '0'); // Default value as it's not directly in the table

      // CAB Info fields
      // Map ACTIVE_CAB: 'CAB1 - 1' -> '1', 'CAB2 - 2' -> '2'
      let activeCabValue = '0';
      if (rowData[68] === 'CAB1 - 1') {
        activeCabValue = '1';
      } else if (rowData[68] === 'CAB2 - 2') {
        activeCabValue = '2';
      }
      setDropdownValue('active-cab1', activeCabValue);
      // Map ACTIVE_DIR: 'FWD - 1' -> '1', 'REV - 2' -> '2', 'N - 0' -> '0'
      let activeDirValue = '0';
      if (rowData[69] === 'FWD - 1') {
        activeDirValue = '1';
      } else if (rowData[69] === 'REV - 2') {
        activeDirValue = '2';
      }
      setDropdownValue('hpos1', activeDirValue);
      setDropdownValue('cab1', rowData[70] === 'ON - 1' ? '1' : '0');
      setDropdownValue('lead', rowData[72] === 'ON - 1' ? '1' : '0');
      setDropdownValue('common1', rowData[69] === 'ON - 1' ? '1' : '0');
      setDropdownValue('non-lead', rowData[74] === 'ON - 1' ? '1' : '0');
      setDropdownValue('sos1', rowData[81] === 'ON - 1' ? '1' : '0');
      // Note: We don't have a direct mapping for ACK_BUTTON in the table? We'll set to default '0'
      setDropdownValue('cancel1', ' '); // This is the ACK_BUTTON for CAB1? Not in the table.
      setFieldValue('dmi-crc1', ''); // Default value as it's not directly in the table
      setFieldValue('dmi-cab1-v', ''); // Default value as it's not directly in the table

      // CAB2 Info
      setDropdownValue('active-cab2', activeCabValue); // Same as active-cab1? Or should we use the same value?
      setDropdownValue('cab2', rowData[75] === 'ON - 1' ? '1' : '0');
      // Note: We don't have H-Pos2 in the table? We'll set to default '0'
      setDropdownValue('hpos2', '0');
      setDropdownValue('lead2', '0'); // Not in the table
      setDropdownValue('common2', rowData[69] === 'ON - 1' ? '1' : '0'); // Same as common1? Or is there a separate common2?
      setDropdownValue('nlead2', rowData[70] === 'ON - 1' ? '1' : '0'); // Same as non-lead? Or is there a separate nlead2?
      setDropdownValue('sos2', ''); // Not in the table
      setDropdownValue('cancel2', ''); // Not in the table
      setFieldValue('dmi-crc2', ''); // Default value as it's not directly in the table
      setFieldValue('dmi-ver2', ''); // Default value as it's not directly in the table

      // Other Functions
      setDropdownValue('isolate-select', rowData[80] === 'ON - 1' ? '1' : '0');
      // Map TRACTION: 'Enable - 1' -> '1', 'Disable - 2' -> '2', 'NA - 0' -> '0'
      let tractionValue = '0';
      if (rowData[76] === 'Enable - 1') {
        tractionValue = '1';
      } else if (rowData[76] === 'Disable - 2') {
        tractionValue = '2';
      }
      setDropdownValue('traction-select', tractionValue);
      setDropdownValue('horn1-select', rowData[77] === 'ON - 1' ? '1' : '0');
      setDropdownValue('horn2-select', rowData[82] === 'ON - 1' ? '1' : '0');

      // Loco ID
      setFieldValue('info_loco', '20662'); // Default value as it's not directly in the table
    }

    // Format info data packet with CRC according to the specified structure
    function formatInfoDataPacket() {
      // Get values from the info data fields
      const vpm1 = document.getElementById('param_vpm1').value || '0x00000000';
      const vpm1_version = document.getElementById('param_vpm1_version').value || '0';
      const vpm2 = document.getElementById('param_vpm2').value || '0x00000000';
      const vpm2_version = document.getElementById('param_vpm2_version').value || '0';
      const vic1 = document.getElementById('param_vic1').value || '0x00000000';
      const vic1_version = document.getElementById('param_vic1_version').value || '0';
      const vic2 = document.getElementById('param_vic2').value || '0x00000000';
      const vic2_version = document.getElementById('param_vic2_version').value || '0';
      const vim1 = document.getElementById('param_vim1').value || '0x00000000';
      const vim1_version = document.getElementById('param_vim1_version').value || '0';
      const vim2 = document.getElementById('param_vim2').value || '0x00000000';
      const vim2_version = document.getElementById('param_vim2_version').value || '0';
      const vom1 = document.getElementById('param_vom1').value || '0x00000000';
      const vom1_version = document.getElementById('param_vom1_version').value || '0';
      const vom2 = document.getElementById('param_vom2').value || '0x00000000';
      const vom2_version = document.getElementById('param_vom2_version').value || '0';
      const adl = document.getElementById('param_adl').value || '0x00000000';
      const adl_version = document.getElementById('param_adl_version').value || '0';
      const lpm = document.getElementById('param_lpm').value || '0x00000000';
      const lpm_version = document.getElementById('param_lpm_version').value || '0';
      const tcc = document.getElementById('param_tcc').value || '0';
      const tcc_version = document.getElementById('param_tcc_version').value || '';

      // RFID Reader Info
      const link1 = document.getElementById('rfid-1-link').value || '0';
      const link2 = document.getElementById('rfid-2-link').value || '0';
      const absLoc = document.getElementById('abs-location').value || '0';
      const direction = document.getElementById('direction').value || '0';
      const lastTag1 = document.getElementById('last-tag-1').value || '0';
      const lastTag2 = document.getElementById('last-tag-2').value || '0';
      const key = document.getElementById('key-input').value || '0';
      const tin = document.getElementById('tin-input').value || '0';
      const keyStatus = document.getElementById('key-status').value || '0';

      // DMI COM Link Status
      const dmi1 = document.getElementById('dmi1-status').value || '0';
      const dmi2 = document.getElementById('dmi2-status').value || '0';

      // Braking Interface Info
      const brakeStatus = document.getElementById('brake-status').value || '0';
      const nbb = document.getElementById('nb-status').value || '0';
      const fbb = document.getElementById('fsb-status').value || '0';
      const eb = document.getElementById('eb-status').value || '0';
      const biuType = document.getElementById('biu-type').value || '0';
      const biuLink = document.getElementById('biu-link').value || '0';
      const brakeTest = document.getElementById('brake-test').value || '0';
      const nbFeedback = document.getElementById('nb-feedback').value || '0';
      const fsbFeedback = document.getElementById('fsb-feedback').value || '0';
      const ebFeedback = document.getElementById('eb-feedback').value || '0';
      const ebCock1 = document.getElementById('eb-cock-1').value || '0';
      const biuHealth = document.getElementById('biu-health').value || '0';
      const mr = document.getElementById('mr-input').value || '0.0';
      const bp = document.getElementById('bp-input').value || '0.0';
      const bc = document.getElementById('bc-input').value || '0.0';
      const ebCock2 = document.getElementById('eb-cock-2').value || '0';

      // Speed Sensor
      const sensor1 = document.getElementById('info_sensor1').value || '0';
      const sensor2 = document.getElementById('info_sensor2').value || '0';
      const avgSpeed = document.getElementById('info_avg').value || '0';

      // GPS Status
      const gps1Date = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[0]?.value || '0';
      const gps1Month = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[1]?.value || '0';
      const gps1Year = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[2]?.value || '0';
      const gps1Hrs = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[3]?.value || '0';
      const gps1Min = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[4]?.value || '0';
      const gps1Sec = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[5]?.value || '0';

      const gps2Date = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[6]?.value || '0';
      const gps2Month = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[7]?.value || '0';
      const gps2Year = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[8]?.value || '0';
      const gps2Hrs = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[9]?.value || '0';
      const gps2Min = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[10]?.value || '0';
      const gps2Sec = document.querySelectorAll('#info .card:has(.fa-satellite-dish) input[type="number"]')[11]?.value || '0';

      const gsm1Health = document.getElementById('GSM1-Health').value || '0';
      const gsm1LiveView = document.getElementById('gsm1-live-view').value || '0';
      const gsm2Health = document.getElementById('GSM2-Health').value || '0';
      const gsm2LiveView = document.getElementById('gsm2-live-view').value || '0';
      const activeGps = document.getElementById('active-gps').value || '0';

      // Radio Status
      const radio1Status = document.getElementById('radio1-status').value || '0';
      const radio1TxPower = document.getElementById('radio-1-tx-power').value || '0';
      const radio1RevPower = document.getElementById('radio-1-rev-power').value || '0';
      const radio1RadTemp = document.getElementById('radio-1-rad-temp').value || '0';
      const radio1PaTemp = document.getElementById('radio-1-pa-temp').value || '0';
      const radio1Voltage = document.getElementById('radio-1-voltage').value || '0';
      const radio1Rssi = document.getElementById('radio-1-rssi').value || '0';

      const radio2Status = document.getElementById('radio2-status').value || '0';
      const radio2TxPower = document.getElementById('radio-2-tx-power').value || '0';
      const radio2RevPower = document.getElementById('radio-2-rev-power').value || '0';
      const radio2RadTemp = document.getElementById('radio-2-rad-temp').value || '0';
      const radio2PaTemp = document.getElementById('radio-2-pa-temp').value || '0';
      const radio2Voltage = document.getElementById('radio-2-voltage').value || '0';
      const radio2Rssi = document.getElementById('radio-2-rssi').value || '0';

      // CAB Info
      const activeCab1 = document.getElementById('active-cab1').value || '0';
      const cab1 = document.getElementById('cab1').value || '0';
      const hpos1 = document.getElementById('hpos1').value || '0';
      const lead1 = document.getElementById('lead').value || '0';
      const common1 = document.getElementById('common1').value || '0';
      const nonLead1 = document.getElementById('non-lead').value || '0';
      const sos1 = document.getElementById('sos1').value || '0';
      const ack1 = document.getElementById('cancel1').value || '0';
      const cab1DmiChecksum = document.getElementById('dmi-crc1').value || '';
      const cab1DmiVersion = document.getElementById('dmi-cab1-v').value || '';

      const activeCab2 = document.getElementById('active-cab2').value || '0';
      const cab2 = document.getElementById('cab2').value || '0';
      const hpos2 = document.getElementById('hpos2').value || '0';
      const lead2 = document.getElementById('lead2').value || '0';
      const common2 = document.getElementById('common2').value || '0';
      const nonLead2 = document.getElementById('nlead2').value || '0';
      const sos2 = document.getElementById('sos2').value || '0';
      const ack2 = document.getElementById('cancel2').value || '0';
      const cab2DmiChecksum = document.getElementById('dmi-crc2').value || '';
      const cab2DmiVersion = document.getElementById('dmi-ver2').value || '';

      // Other Functions
      const isolate = document.getElementById('isolate-select').value || '0';
      const traction = document.getElementById('traction-select').value || '0';
      const horn1 = document.getElementById('horn1-select').value || '0';
      const horn2 = document.getElementById('horn2-select').value || '0';

      // Loco ID
      const locoId = document.getElementById('info_loco').value || '20662';

      // Build the packet string according to the specified structure
      // $20,SNO|VPM 1 /version, VPM 2 /version, VIC 1/version, VIC 2/version, VIM 1/version, VIM 2 /version VOM1  /version, VOM 2 /version, ADL /version, LPM /version, Train Configuration CRC(TCC) / version | LINK-1,LINK-2,ABS LOC,DIR,LAST TAG-1,LAST TAG-2,KEY,TIN|DMI-1,DMI2 | status (EB,NSB,FSB),NBB,FBB,EB, BIU Type, BIU LINK,BRAKE TEST,SB PRE SW NB Feedback, EB PRE SWITCH FSB FEEDBACK,EB  REL FBK EB FEEDBACK,EB COCK 1, BIU HEALTH, MR, BP,BC,EB COCK 2|SENSOR-1, Sensor-2,Avg Speed|GPS1-date, month, year ,hrs, min, sec, GSM 1, live view(PPS OK-1),GPS-2 date, month, year, hrs, min, sec, GSM 2, live view(PPS OK-2), active GPS|Radio-1 status, Rad/PA Temp, Tx/Rev PWR,Voltage,RSSI,Radio-2 status, Rad/PA Temp, Tx/Rev PWR, Voltage, RSSI | Active Cab, CAB1, Handle Position, LEAD, Non-Lead, Common Button, SoS Button, Ack Button, Cab1_DMI_Checksum / Version| Active Cab,CAB2, Handle Position, LEAD, Non-Lead, Common Button, SoS Button, Ack Button, Cab2_DMI_Checksum / Version | Isolate, Traction, Horn1, Horn2|LOCO ID|CRC|\r\n

      let packetData = `$20,${globalSequence}|`; // SNO (Serial Number) from the global variable

      // Checksum Info section
      packetData += `${vpm1}/${vpm1_version},${vpm2}/${vpm2_version},${vic1}/${vic1_version},${vic2}/${vic2_version},${vim1}/${vim1_version},${vim2}/${vim2_version},${vom1}/${vom1_version},${vom2}/${vom2_version},${adl}/${adl_version},${lpm}/${lpm_version},${tcc}|`;

      // RFID Reader Info section
      packetData += `${link1},${link2},${absLoc},${direction},${lastTag1},${lastTag2},${key},${tin},${keyStatus}|`;

      // DMI COM Link Status section
      packetData += `${dmi1},${dmi2}|`;

      // Braking Interface Info section
      packetData += `${brakeStatus},${nbb},${fbb},${eb},${biuType},${biuLink},${brakeTest},${nbFeedback},${fsbFeedback},${ebFeedback},${ebCock1},${biuHealth},${mr},${bp},${bc},${ebCock2}|`;

      // Speed Sensor section
      packetData += `${sensor1},${sensor2},${avgSpeed}|`;

      // GPS Status section
      packetData += `${gps1Date},${gps1Month},${gps1Year},${gps1Hrs},${gps1Min},${gps1Sec},${gsm1Health},${gsm1LiveView},${gps2Date},${gps2Month},${gps2Year},${gps2Hrs},${gps2Min},${gps2Sec},${gsm2Health},${gsm2LiveView},${activeGps}|`;

      // Radio Status section
      packetData += `${radio1Status},${radio1RadTemp}/${radio1PaTemp},${radio1TxPower}/${radio1RevPower},${radio1Voltage},${radio1Rssi},${radio2Status},${radio2RadTemp}/${radio2PaTemp},${radio2TxPower}/${radio2RevPower},${radio2Voltage},${radio2Rssi}|`;

      // CAB Info section (CAB1)
      packetData += `${activeCab1},${cab1},${hpos1},${lead1},${nonLead1},${common1},${sos1},${ack1},${cab1DmiChecksum}/${cab1DmiVersion}|`;

      // CAB Info section (CAB2)
      packetData += `${activeCab2},${cab2},${hpos2},${lead2},${nonLead2},${common2},${sos2},${ack2},${cab2DmiChecksum}/${cab2DmiVersion}|`;

      // Other Functions section
      packetData += `${isolate},${traction},${horn1},${horn2}|`;

      // Loco ID section
      packetData += `${locoId}|`;

      // Convert entire string to ASCII byte array
      const packetBytes = stringToAsciiByteArray(packetData);

      // Calculate CRC using the existing function
      const crc = calculateModbusCRC16(packetBytes);

      // Final packet with CRC
      const finalPacket = packetData + crc + '|\r\n';

      return finalPacket;
    }

    // Send info data packet
    function sendInfoDataPacket() {
      const packet = formatInfoDataPacket();
      logLine(`Tx-> ${packet}`);
      sendSerialData(packet);

      // Also update the received data box on the info page
      const receivedDataBox = document.getElementById('receivedDataBox');
      if (receivedDataBox) {
        const t = new Date().toLocaleTimeString();
        receivedDataBox.textContent += `\n${t} Tx-> ${packet}`;
        receivedDataBox.scrollTop = receivedDataBox.scrollHeight;
      }

      // Increment the sequence and reset if needed
      globalSequence++;
      if (globalSequence > 65534) {
          globalSequence = 0;
      }
    }

    /* -------------------------
       INC/DEC checkbox logic
       ------------------------- */
    document.querySelectorAll('[data-action]').forEach(checkbox=>{
      checkbox.addEventListener('change', ()=>{
        const target = document.getElementById(checkbox.dataset.target);
        if(!target) return;
        const val = Number(target.value) || 0;

        if(checkbox.checked) {
          if(checkbox.dataset.action==='inc') {
            target.value = val + 1;
          } else if(checkbox.dataset.action==='dec') {
            target.value = Math.max(0, val - 1);
          }
          // Uncheck after performing action
          checkbox.checked = false;
        }
      });
    });

    /* -------------------------
       COM Port Detection Logic (WebSocket version)
       ------------------------- */
    const comPortSelect = document.getElementById('comPort');
    const detectPortsBtn = document.getElementById('detectPortsBtn');
    const portStatus = document.getElementById('portStatus');
    const manualPortInput = document.querySelector('.manual-port-input');
    const customPortInput = document.getElementById('customPortInput');
    const addCustomPortBtn = document.getElementById('addCustomPortBtn');

    // Function to add a custom port
    function addCustomPort() {
      const portName = customPortInput.value.trim();
      if (!portName) {
        logLine('ERROR: Please enter a port name');
        return;
      }

      // Check if port already exists
      let exists = false;
      for (let i = 0; i < comPortSelect.options.length; i++) {
        if (comPortSelect.options[i].value === portName) {
          exists = true;
          break;
        }
      }

      if (!exists) {
        const option = document.createElement('option');
        option.value = portName;
        option.textContent = portName;
        comPortSelect.appendChild(option);
        comPortSelect.value = portName;

        portStatus.textContent = `Added custom port: ${portName}`;
        logLine(`INFO: Added custom COM port: ${portName}`);
        customPortInput.value = '';
      } else {
        portStatus.textContent = `Port ${portName} already exists`;
        logLine(`WARNING: Port ${portName} already exists in the list`);
      }
    }

    // Add event listener to detect ports button
    detectPortsBtn.addEventListener('click', requestPortList);

    // Add event listener to add custom port button
    addCustomPortBtn.addEventListener('click', addCustomPort);

    // Allow adding custom port with Enter key
    customPortInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        addCustomPort();
      }
    });

    // Handle COM port change
    document.getElementById('comPort').addEventListener('change', function() {
      if (websocket && websocket.readyState === WebSocket.OPEN) {
        // Send the new port and baud rate to the server
        sendWebSocketMessage({
          type: 'connect',
          port: this.value,
          baudRate: document.getElementById('baudRate').value
        });
        logLine(`INFO: Changed to port ${this.value}`);
      }
    });

    // Handle baud rate change
    document.getElementById('baudRate').addEventListener('change', function() {
      if (websocket && websocket.readyState === WebSocket.OPEN) {
        // Send the new port and baud rate to the server
        sendWebSocketMessage({
          type: 'connect',
          port: document.getElementById('comPort').value,
          baudRate: this.value
        });
        logLine(`INFO: Changed baud rate to ${this.value}`);
      }
    });

    /* -------------------------
       Select first rows automatically (visual)
       ------------------------- */
    setTimeout(()=> {
      const tfirst = document.querySelector('#targetsTable tbody tr');
      if(tfirst) tfirst.classList.add('selected');
      const vfirst = document.querySelector('#vpmTable tbody tr');
      if(vfirst) vfirst.classList.add('selected');
    }, 120);

    /* -------------------------
       Periodic Sending Functionality - Modified to send only numeric values
       ------------------------- */
    let periodicInterval = null;
    // Global sequence number for both simulator and info pages
    let globalSequence = 0;
    // Timeout handling for Info packet
    let infoPacketTimeout = null;
    let timeoutInterval = 3000; // Default timeout 3000ms (configurable) and we can configure it and set by our requirements.
    let lastPacketTime = 0;

    // Convert a string to an array of ASCII byte values
    function stringToAsciiByteArray(str) {
        const bytes = [];
        for (let i = 0; i < str.length; i++) {
            bytes.push(str.charCodeAt(i)); // ASCII code of each character
        }
        return bytes;
    }

    // Modbus CRC16 (Little-endian)
    function calculateModbusCRC16(packetDataArray) {
        let crc = 0xFFFF;

        for (let i = 0; i < packetDataArray.length; i++) {
            let byte = packetDataArray[i];
            crc ^= byte;
            for (let j = 0; j < 8; j++) {
                if (crc & 0x0001) {
                    crc = (crc >> 1) ^ 0xA001;
                } else {
                    crc = crc >> 1;
                }
            }
        }

        const high = (crc & 0xFF).toString(16).padStart(2, '0');
        const low = ((crc >> 8) & 0xFF).toString(16).padStart(2, '0');
        return (low + high).toLowerCase();
    }

    // Format packet including $10, and | separators, and calculate CRC
    function formatPacket() {
        const sno = globalSequence;
        const a3 = document.getElementById('param_target_distance').value || '0';
        const a4 = document.getElementById('param_type_of_target').value || '0';
        const b1 = document.getElementById('param_current_speed').value || '0';
        const b3 = document.getElementById('param_permiss_speed').value || '0';
        const b11 = document.getElementById('param_b11').value || '0';
        const b4 = document.getElementById('param_loco_id').value || '20662';
        const dd = document.getElementById('param_date').value || '0';
        const mm = document.getElementById('param_month').value || '0';
        const yyyy = document.getElementById('param_year').value || '0';
        const hh = document.getElementById('param_hour').value || '0';
        const min = document.getElementById('param_minute').value || '0';
        const ss = document.getElementById('param_second').value || '0';
        const b7 = document.getElementById('param_lower_speed').value || '0';
        const b8 = document.getElementById('param_type_brake').value || '0';
        const b9 = document.getElementById('param_abs_location').value || '0';
        const b10 = document.getElementById('param_modes_operation').value || '0';
        const c1 = document.getElementById('param_distance_ma_c1').value || '0';
        const d1_0 = document.getElementById('param_signal_aspect').value || '0';
        const d1_1 = document.getElementById('param_hide_show').value || '0';
        const d1_2 = document.getElementById('param_type_of_signal').value || '0';
        const d2 = document.getElementById('param_distance_d2').value || '0';
        const d3_0 = document.getElementById('param_line_number_d3').value || '0';
        const d3_1 = document.getElementById('param_signal_post_type').value || '0';
        const e1 = document.getElementById('param_deceleration_e1').value || '0';
        const f1 = document.getElementById('param_train_length_f1').value || '0';
        const h = document.getElementById('param_msg_h1').value || '0';
        const i = document.getElementById('param_msg_i1').value || '0';
        const j3_0 = document.getElementById('param_radio_strength').value || '0';
        const j3_1 = document.getElementById('param_radio_strength_2').value || '0';
        const l_id = document.getElementById('param_rfid_l1').value || '0';
        const l_dir = document.getElementById('param_direction_l2').value || '0';
        const l_dist = document.getElementById('param_distance_l3').value || '0';
        const m_a = document.getElementById('param_tag_m1').value || '0';
        const m_b = document.getElementById('param_tag_m2').value || '0';
        const m_c = document.getElementById('param_tag_m3').value || '0';
        const d3_x = document.getElementById('param_line_d3x').value || '0';
        const h_x = document.getElementById('param_msg_h1x').value || '0';
        const h_y = document.getElementById('param_msg_h1y').value || '0';
        const i_x = document.getElementById('param_msg_i1x').value || '0';
        const k = document.getElementById('param_active_inactive').value || '0';
        const spare = document.getElementById('param_buzzer').value || '0';

        // Build the packet string including header and separators
        let packetData = `$10,${sno}|${a3}|${a4}|${b1}|${b3},${b11}|${b4}|${dd},${mm},${yyyy},${hh},${min},${ss}|${b7}|${b8}|${b9}|${b10}|${c1}|${d1_0},${d1_1}|${d1_2}|${d2}|${d3_0},${d3_1}|${e1}|${f1}|${h}|${i}|${j3_0},${j3_1}|${l_id},${l_dir},${l_dist}|${m_a},${m_b},${m_c}|${d3_x}|${h_x}|${h_y}|${i_x}|${k}|${spare}|`;

        // Convert entire string to ASCII byte array
        const packetBytes = stringToAsciiByteArray(packetData);

        // Calculate CRC
        const crc = calculateModbusCRC16(packetBytes);

        // Final packet with CRC
        const finalPacket = packetData + crc + '|\r\n';

        return finalPacket;
    }

    // Send packet
    function sendNumericPacket() {
        const packet = formatPacket();
        logLine(`Tx-> ${packet}`);
        sendSerialData(packet);

        // Increment the sequence and reset if needed
        globalSequence++;
        if (globalSequence > 65534) {
            globalSequence = 0;
        }
    }

    // Handle send periodically checkbox for both pages
    document.getElementById('sendPeriodic').addEventListener('change', function() {
      // Only allow periodic sending if connected
      if (document.getElementById('connectionControls').classList.contains('disabled-control')) {
        this.checked = false;
        logLine('ERROR: Cannot enable periodic sending without connection');
        return;
      }

      if (this.checked) {
        // Start periodic sending
        logLine('INFO: Starting periodic data transmission');

        // Determine which page is active
        const activePage = document.querySelector('.nav-links .link.active').dataset.page;

        // Send packet immediately
        if (activePage === 'simulator') {
          sendNumericPacket();
        } else if (activePage === 'info') {
          sendInfoDataPacket();
          lastPacketTime = Date.now();

          // Set up timeout for info page
          infoPacketTimeout = setTimeout(() => {
            logLine('WARNING: Info packet timeout - refreshing UI');
            // Here you would refresh the LPOCIP User Interface
            // For now, we'll just log the timeout
          }, timeoutInterval);
        }

        // Set interval for periodic sending
        periodicInterval = setInterval(() => {
          const currentPage = document.querySelector('.nav-links .link.active').dataset.page;
          if (currentPage === 'simulator') {
            sendNumericPacket();
          } else if (currentPage === 'info') {
            sendInfoDataPacket();
            lastPacketTime = Date.now();

            // Clear existing timeout and set a new one
            if (infoPacketTimeout) {
              clearTimeout(infoPacketTimeout);
            }
            infoPacketTimeout = setTimeout(() => {
              logLine('WARNING: Info packet timeout - refreshing UI');
              // Here you would refresh the LPOCIP User Interface
            }, timeoutInterval);
          }
        }, 500); // Send every 500ms as specified
      } else {
        // Stop periodic sending
        if (periodicInterval) {
          clearInterval(periodicInterval);
          periodicInterval = null;
          logLine('INFO: Stopped periodic data transmission');
        }

        // Clear timeout if it exists
        if (infoPacketTimeout) {
          clearTimeout(infoPacketTimeout);
          infoPacketTimeout = null;
        }
      }
    });

    /* -------------------------
       Packet Navigation with Auto-Scroll
       ------------------------- */
    let packetNavInterval = null;
    let currentModeIndex = 1; // Start from index 1 (skip the first zero row)

    // Send all modes data and populate fields with auto-scroll
    function sendAllModesData() {
      // Send data for the current mode
      const rowData = displayTargetsData[currentModeIndex];

      // Populate the simulation parameters fields with current mode data
      populateSimulatorFromRow(rowData);

      // Highlight the current row in the table with the same color as manual selection
      document.querySelectorAll('#targetsTable tbody tr').forEach(x => x.classList.remove('selected'));
      const currentRow = document.querySelectorAll('#targetsTable tbody tr')[currentModeIndex];
      if (currentRow) {
        currentRow.classList.add('selected');

        // Auto-scroll to the current row
        const tableContainer = document.getElementById('targetsTableContainer');
        const rowTop = currentRow.offsetTop;
        const rowHeight = currentRow.offsetHeight;
        const containerHeight = tableContainer.clientHeight;
        const containerScrollTop = tableContainer.scrollTop;

        // Check if row is visible
        if (rowTop < containerScrollTop || rowTop + rowHeight > containerScrollTop + containerHeight) {
          // Calculate scroll position to center the row in the container
          const scrollTo = rowTop - (containerHeight / 2) + (rowHeight / 2);
          tableContainer.scrollTo({
            top: scrollTo,
            behavior: 'smooth'
          });
        }
      }

      // Move to the next mode for the next iteration
      currentModeIndex++;
      if (currentModeIndex >= displayTargetsData.length) {
        currentModeIndex = 1; // Reset to index 1 (skip the first zero row)
      }
    }

    // Handle packet navigation toggle
    document.getElementById('packetNavigation').addEventListener('change', function() {
      // Only allow packet navigation if connected
      if (document.getElementById('connectionControls').classList.contains('disabled-control')) {
        this.checked = false;
        logLine('ERROR: Cannot enable packet navigation without connection');
        return;
      }

      if (this.checked) {
        // Start packet navigation
        logLine('INFO: Starting packet navigation');

        // Send data for the first mode immediately
        sendAllModesData();

        // Set interval for continuous mode switching
        packetNavInterval = setInterval(() => {
          sendAllModesData();
        }, 1500); // Switch modes every 1.5 seconds
      } else {
        // Stop packet navigation
        if (packetNavInterval) {
          clearInterval(packetNavInterval);
          packetNavInterval = null;
          logLine('INFO: Stopped packet navigation');
        }

        // Remove selection highlighting
        document.querySelectorAll('#targetsTable tbody tr').forEach(x => x.classList.remove('selected'));
      }
    });

    /* -------------------------
       Activate Multiple Message Scenario Functionality
       ------------------------- */
    const activateMultiCheckbox = document.getElementById('activateMulti');
    const msgH1_2Dropdown = document.getElementById('param_msg_h1_2');

    function handleActivateMultiChange() {
      if (activateMultiCheckbox.checked) {
        // Enable the dropdown
        msgH1_2Dropdown.disabled = false;
      } else {
        // Disable the dropdown and reset to the first option
        msgH1_2Dropdown.disabled = true;
        msgH1_2Dropdown.selectedIndex = 0;
      }
    }

    // Add event listener to the checkbox
    activateMultiCheckbox.addEventListener('change', handleActivateMultiChange);

    // Initialize on page load
    handleActivateMultiChange();

    /* -------------------------
       Update Override Indicator
       ------------------------- */
    function updateOverrideIndicator() {
      const modeSelect = document.getElementById('param_modes_operation');
      const overrideIndicator = document.getElementById('overrideIndicator');

      if (modeSelect.value === '5') { // Override mode
        overrideIndicator.style.display = 'inline-block';
      } else {
        overrideIndicator.style.display = 'none';
      }
    }

    // Add event listener to mode dropdown
    document.getElementById('param_modes_operation').addEventListener('change', updateOverrideIndicator);

    // Initialize on page load
    updateOverrideIndicator();

    /* -------------------------
       Negative Test Loco ID Logic
       ------------------------- */
    const negativeTestToggle = document.getElementById('negativeTest');
    const locoIdInput = document.getElementById('param_loco_id');
    const locoIdIndicator = document.getElementById('locoIdIndicator');

    // Function to update loco ID limit based on negative test toggle
    function updateLocoIdLimit() {
      if (negativeTestToggle.checked) {
        // Negative test enabled - allow infinity (remove max limit)
        locoIdInput.removeAttribute('maxlength');
        locoIdIndicator.textContent = 'Max: ∞';
        locoIdIndicator.style.background = 'rgba(231, 76, 60, 0.1)';
        locoIdIndicator.style.color = 'var(--danger)';
      } else {
        // Negative test disabled - limit to 6 digits
        locoIdInput.setAttribute('maxlength', '6');
        locoIdIndicator.textContent = 'Max: 6 digits';
        locoIdIndicator.style.background = 'rgba(11, 138, 166, 0.1)';
        locoIdIndicator.style.color = 'var(--accent)';

        // If current value exceeds 6 digits, adjust it
        const currentValue = locoIdInput.value;
        if (currentValue.length > 6) {
          locoIdInput.value = currentValue.substring(0, 6);
          logLine('WARNING: Loco ID adjusted to maximum 6 digits');
        }
      }
    }

    // Initialize loco ID limit on page load
    updateLocoIdLimit();

    // Add event listener to negative test toggle
    negativeTestToggle.addEventListener('change', updateLocoIdLimit);

    // Add validation when loco ID input changes
    locoIdInput.addEventListener('input', function() {
      if (!negativeTestToggle.checked) {
        const value = this.value;
        if (value.length > 6) {
          this.value = value.substring(0, 6);
          logLine('WARNING: Loco ID cannot exceed 6 digits when negative test is disabled');
        }
      }
    });

    /* -------------------------
       Log function
       ------------------------- */
    function logLine(txt){
      const box = document.getElementById('logBox');
      const t = new Date().toLocaleTimeString();

      // Add a newline before each new log entry (except for the first one)
      if (box.textContent.trim() !== '') {
        box.textContent += '\n';
      }

      box.textContent += `${t} ${txt}`;

      // Auto-scroll to bottom
      box.scrollTop = box.scrollHeight;
    }

    /* -------------------------
       Test Cases Implementation (Frontend)
       ------------------------- */
    // Test case data
    const testCasesData = [
      { id: "KAVACH_DMI_02.01", name: "02.01", description: "Verification of Loco Id", type: "Auto Type" },
      { id: "KAVACH_DMI_02.02", name: "02.02", description: "Verification of Absolute Location", type: "Auto Type" },
      { id: "KAVACH_DMI_02.03", name: "02.03", description: "Verification of Loco Id", type: "Auto Type" },
      { id: "KAVACH_DMI_02.04", name: "02.04", description: "Verification of Loco Id", type: "Auto Type" },
      { id: "KAVACH_DMI_02.05", name: "02.05", description: "Verification of Loco Id", type: "Auto Type" },
      { id: "KAVACH_DMI_02.06", name: "02.06", description: "Verification of Loco Id", type: "Auto Type" },
      { id: "KAVACH_DMI_02.07", name: "02.07", description: "Verification of Loco Id", type: "Auto Type" },
      { id: "KAVACH_DMI_02.08", name: "02.08", description: "Verification of Loco Id", type: "Auto Type" },
      { id: "KAVACH_DMI_02.09", name: "02.09", description: "Verification of Loco Id", type: "Auto Type" },
      { id: "KAVACH_DMI_02.10", name: "02.10", description: "Verification of Time", type: "Auto Type" },
      { id: "KAVACH_DMI_02.11", name: "02.11", description: "Verification of Time", type: "Auto Type" },
      { id: "KAVACH_DMI_02.12", name: "02.12", description: "Verification of Time", type: "Auto Type" },
      { id: "KAVACH_DMI_03.01", name: "03.01", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.04", name: "03.04", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.05", name: "03.05", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.06", name: "03.06", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.07", name: "03.07", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.08", name: "03.08", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.09", name: "03.09", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.10", name: "03.10", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.11", name: "03.11", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.12", name: "03.12", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.13", name: "03.13", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_03.14", name: "03.14", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_04.01", name: "04.01", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.02", name: "04.02", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.01", name: "04.04.01", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.02", name: "04.04.02", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.03", name: "04.04.03", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.04", name: "04.04.04", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.05", name: "04.04.05", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.06", name: "04.04.06", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.07", name: "04.04.07", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.08", name: "04.04.08", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.09", name: "04.04.09", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.10", name: "04.04.10", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.11", name: "04.04.11", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.12", name: "04.04.12", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.13", name: "04.04.13", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.14", name: "04.04.14", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.15", name: "04.04.15", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.16", name: "04.04.16", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.17", name: "04.04.17", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.18", name: "04.04.18", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.19", name: "04.04.19", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.20", name: "04.04.20", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.21", name: "04.04.21", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.04.22", name: "04.04.22", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.05", name: "04.05", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.06", name: "04.06", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.07", name: "04.07", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.08", name: "04.08", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.09", name: "04.09", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.10", name: "04.10", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.11", name: "04.11", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.12", name: "04.12", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.13", name: "04.13", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.14", name: "04.14", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.15", name: "04.15", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.16", name: "04.16", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.17", name: "04.17", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.18", name: "04.18", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.19", name: "04.19", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.20", name: "04.20", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.21", name: "04.21", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.22", name: "04.22", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.23", name: "04.23", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.24", name: "04.24", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.25", name: "04.25", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.26", name: "04.26", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.27", name: "04.27", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.28", name: "04.28", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.29", name: "04.29", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.30", name: "04.30", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.31", name: "04.31", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.32", name: "04.32", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.33", name: "04.33", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.34", name: "04.34", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_04.35", name: "04.35", description: "Verification of Speed indication", type: "Auto Type" },
      { id: "KAVACH_DMI_05.01", name: "05.01", description: "Verification of Stand By mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.02", name: "05.02", description: "Verification of Staff Responsible mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.03", name: "05.03", description: "Verification of Limited Supervision mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.04", name: "05.04", description: "Verification of Full Supervision mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.05", name: "05.05", description: "Verification of Onsight mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.06", name: "05.06", description: "Verification of Override mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.07", name: "05.07", description: "Verification of Trip mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.08", name: "05.08", description: "Verification of Post Trip mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.09", name: "05.09", description: "Verification of Reverse mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.10", name: "05.10", description: "Verification of Shunt mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.11", name: "05.11", description: "Verification of Non-Leading mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.12", name: "05.12", description: "Verification of System Failure mode", type: "Auto Type" },
      { id: "KAVACH_DMI_05.13", name: "05.13", description: "Verification of Isolation mode", type: "Auto Type" },
      { id: "KAVACH_DMI_06.01", name: "06.01", description: "Verification of Type of Brake", type: "Auto Type" },
      { id: "KAVACH_DMI_06.02", name: "06.02", description: "Verification of Type of Brake", type: "Auto Type" },
      { id: "KAVACH_DMI_06.03", name: "06.03", description: "Verification of Type of Brake", type: "Auto Type" },
      { id: "KAVACH_DMI_06.04", name: "06.04", description: "Verification of Type of Brake", type: "Auto Type" },
      { id: "KAVACH_DMI_06.05", name: "06.05", description: "Verification of Type of Brake", type: "Auto Type" },
      { id: "KAVACH_DMI_06.06", name: "06.06", description: "Verification of Type of Brake", type: "Auto Type" },
      { id: "KAVACH_DMI_07.01", name: "07.01", description: "Verification of Absolute Location", type: "Auto Type" },
      { id: "KAVACH_DMI_07.02", name: "07.02", description: "Verification of Absolute Location", type: "Auto Type" },
      { id: "KAVACH_DMI_07.03", name: "07.03", description: "Verification of Absolute Location", type: "Auto Type" },
      { id: "KAVACH_DMI_07.04", name: "07.04", description: "Verification of Absolute Location", type: "Auto Type" },
      { id: "KAVACH_DMI_07.05", name: "07.05", description: "Verification of Absolute Location", type: "Auto Type" },
      { id: "KAVACH_DMI_08.01", name: "08.01", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.02", name: "08.02", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.03", name: "08.03", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.04", name: "08.04", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.05", name: "08.05", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.06", name: "08.06", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.07", name: "08.07", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.08", name: "08.08", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.09", name: "08.09", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.10", name: "08.10", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.11", name: "08.11", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.12", name: "08.12", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.13", name: "08.13", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.14", name: "08.14", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.15", name: "08.15", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_08.16", name: "08.16", description: "Verification of Distance of Movement Authority", type: "Auto Type" },
      { id: "KAVACH_DMI_09.01", name: "09.01", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.02.01", name: "09.02.01", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.02.02", name: "09.02.02", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.02.03", name: "09.02.03", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.03.01", name: "09.03.01", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.03.02", name: "09.03.02", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.03.03", name: "09.03.03", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.03.04", name: "09.03.04", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.04", name: "09.04", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.05", name: "09.05", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.06", name: "09.06", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.07", name: "09.07", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.08", name: "09.08", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.09", name: "09.09", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.10", name: "09.10", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.11", name: "09.11", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.12", name: "09.12", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.13", name: "09.13", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.14", name: "09.14", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.15", name: "09.15", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.16", name: "09.16", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.17", name: "09.17", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.18", name: "09.18", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.19", name: "09.19", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.20", name: "09.20", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.21", name: "09.21", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.22", name: "09.22", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.23", name: "09.23", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.24", name: "09.24", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.25", name: "09.25", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.26", name: "09.26", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.27", name: "09.27", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_09.28", name: "09.28", description: "Verification of Upcoming Signal Aspect", type: "Auto Type" },
      { id: "KAVACH_DMI_10.01", name: "10.01", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.02", name: "10.02", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.03", name: "10.03", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.04", name: "10.04", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.05", name: "10.05", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.06", name: "10.06", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.01", name: "10.07.01", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.02", name: "10.07.02", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.03", name: "10.07.03", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.04", name: "10.07.04", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.05", name: "10.07.05", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.06", name: "10.07.06", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.07", name: "10.07.07", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.08", name: "10.07.08", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.09", name: "10.07.09", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.10", name: "10.07.10", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.11", name: "10.07.11", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.12", name: "10.07.12", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.13", name: "10.07.13", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.14", name: "10.07.14", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.15", name: "10.07.15", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.16", name: "10.07.16", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.17", name: "10.07.17", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.18", name: "10.07.18", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.19", name: "10.07.19", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.20", name: "10.07.20", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.21", name: "10.07.21", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.22", name: "10.07.22", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.23", name: "10.07.23", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_10.07.24", name: "10.07.24", description: "Verification of Position Indication", type: "Auto Type" },
      { id: "KAVACH_DMI_11.01", name: "11.01", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.02", name: "11.02", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.03", name: "11.03", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.04", name: "11.04", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.05", name: "11.05", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.06", name: "11.06", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.07", name: "11.07", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.08", name: "11.08", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.09", name: "11.09", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.10", name: "11.10", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.11", name: "11.11", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.12", name: "11.12", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.13", name: "11.13", description: "Verification of Line Number", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.01", name: "11.14.01", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.02", name: "11.14.02", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.03", name: "11.14.03", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.04", name: "11.14.04", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.05", name: "11.14.05", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.06", name: "11.14.06", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.07", name: "11.14.07", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.08", name: "11.14.08", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.09", name: "11.14.09", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.10", name: "11.14.10", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.11", name: "11.14.11", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.12", name: "11.14.12", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.13", name: "11.14.13", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.14", name: "11.14.14", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.15", name: "11.14.15", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.16", name: "11.14.16", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.17", name: "11.14.17", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.18", name: "11.14.18", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.19", name: "11.14.19", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.20", name: "11.14.20", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.21", name: "11.14.21", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.22", name: "11.14.22", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.23", name: "11.14.23", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.24", name: "11.14.24", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.25", name: "11.14.25", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.26", name: "11.14.26", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.27", name: "11.14.27", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.28", name: "11.14.28", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.29", name: "11.14.29", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.30", name: "11.14.30", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.31", name: "11.14.31", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.32", name: "11.14.32", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.33", name: "11.14.33", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.34", name: "11.14.34", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.14.35", name: "11.14.35", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.15", name: "11.15", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_11.16", name: "11.16", description: "Verification of Signal Post Type", type: "Auto Type" },
      { id: "KAVACH_DMI_12.01", name: "12.01", description: "Verification of Tag Detection", type: "Auto Type" },
      { id: "KAVACH_DMI_12.02", name: "12.02", description: "Verification of Tag Detection", type: "Auto Type" },
      { id: "KAVACH_DMI_12.03", name: "12.03", description: "Verification of Tag Detection", type: "Auto Type" },
      { id: "KAVACH_DMI_12.04", name: "12.04", description: "Verification of Tag Detection", type: "Auto Type" },
      { id: "KAVACH_DMI_12.05", name: "12.05", description: "Verification of Tag Detection", type: "Auto Type" },
      { id: "KAVACH_DMI_12.06", name: "12.06", description: "Verification of Tag Detection", type: "Auto Type" },
      { id: "KAVACH_DMI_13.01", name: "13.01", description: "Verification of Radio Signal Strength", type: "Auto Type" },
      { id: "KAVACH_DMI_13.02", name: "13.02", description: "Verification of Radio Signal Strength", type: "Auto Type" },
      { id: "KAVACH_DMI_13.03", name: "13.03", description: "Verification of Radio Signal Strength", type: "Auto Type" },
           { id: "KAVACH_DMI_13.04", name: "13.04", description: "Verification of Radio Signal Strength", type: "Auto Type" },
      { id: "KAVACH_DMI_13.05", name: "13.05", description: "Verification of Radio Signal Strength", type: "Auto Type" },
      { id: "KAVACH_DMI_13.06", name: "13.06", description: "Verification of Radio Signal Strength", type: "Auto Type" },
      { id: "KAVACH_DMI_13.07", name: "13.07", description: "Verification of Radio Signal Strength", type: "Auto Type" },
      { id: "KAVACH_DMI_13.08", name: "13.08", description: "Verification of Radio Signal Strength", type: "Auto Type" },
      { id: "KAVACH_DMI_13.09", name: "13.09", description: "Verification of Radio Signal Strength", type: "Auto Type" },
      { id: "KAVACH_DMI_14.01", name: "14.01", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.02", name: "14.02", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.03", name: "14.03", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.04", name: "14.04", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.05", name: "14.05", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.06", name: "14.06", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.07", name: "14.07", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.08", name: "14.08", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.09", name: "14.09", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.10", name: "14.10", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.11", name: "14.11", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.12", name: "14.12", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.13", name: "14.13", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.14", name: "14.14", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.15", name: "14.15", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.16", name: "14.16", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.17", name: "14.17", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.18", name: "14.18", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.19", name: "14.19", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.20", name: "14.20", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.21", name: "14.21", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.22", name: "14.22", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.23", name: "14.23", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.24", name: "14.24", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.25", name: "14.25", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.26", name: "14.26", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.27", name: "14.27", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.28", name: "14.28", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.29", name: "14.29", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.30", name: "14.30", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.31", name: "14.31", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.32", name: "14.32", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.33", name: "14.33", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.34", name: "14.34", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.35", name: "14.35", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.36", name: "14.36", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.37", name: "14.37", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.38", name: "14.38", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.39", name: "14.39", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.40", name: "14.40", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.41", name: "14.41", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.42", name: "14.42", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.43", name: "14.43", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.44", name: "14.44", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.45", name: "14.45", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.46", name: "14.46", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.47", name: "14.47", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.48", name: "14.48", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.49", name: "14.49", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.50", name: "14.50", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.51", name: "14.51", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.52", name: "14.52", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.53", name: "14.53", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.54", name: "14.54", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.55", name: "14.55", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.56", name: "14.56", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.57", name: "14.57", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.58", name: "14.58", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.59", name: "14.59", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.60", name: "14.60", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.61", name: "14.61", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.62", name: "14.62", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.63", name: "14.63", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.64", name: "14.64", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.65", name: "14.65", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.66", name: "14.66", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.67", name: "14.67", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.68", name: "14.68", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.69", name: "14.69", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.70", name: "14.70", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.71", name: "14.71", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.72", name: "14.72", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.73", name: "14.73", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.74", name: "14.74", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.75", name: "14.75", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.76", name: "14.76", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.77", name: "14.77", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.78", name: "14.78", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.79", name: "14.79", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.80", name: "14.80", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.81", name: "14.81", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.82", name: "14.82", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.83", name: "14.83", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.84", name: "14.84", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.85", name: "14.85", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.86", name: "14.86", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.87", name: "14.87", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.88", name: "14.88", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.89", name: "14.89", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.90", name: "14.90", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.91", name: "14.91", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.92", name: "14.92", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.93", name: "14.93", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.94", name: "14.94", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.95", name: "14.95", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.96", name: "14.96", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.97", name: "14.97", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.98", name: "14.98", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.99", name: "14.99", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_14.100", name: "14.100", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.01", name: "15.01", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.02", name: "15.02", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.03", name: "15.03", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.04", name: "15.04", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.05", name: "15.05", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.06", name: "15.06", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.07", name: "15.07", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.08", name: "15.08", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.09", name: "15.09", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.10", name: "15.10", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.11", name: "15.11", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.12", name: "15.12", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.13", name: "15.13", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.14", name: "15.14", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.15", name: "15.15", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.16", name: "15.16", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.17", name: "15.17", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.18", name: "15.18", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.19", name: "15.19", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.20", name: "15.20", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.21", name: "15.21", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.22", name: "15.22", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.23", name: "15.23", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.24", name: "15.24", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.25", name: "15.25", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.26", name: "15.26", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.27", name: "15.27", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.28", name: "15.28", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.29", name: "15.29", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_15.30", name: "15.30", description: "Verification of Message for Driver", type: "Auto Type" },
      { id: "KAVACH_DMI_16.01", name: "16.01", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_16.02", name: "16.02", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_16.03", name: "16.03", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_16.04", name: "16.04", description: "Verification of Target distance", type: "Auto Type" },
      { id: "KAVACH_DMI_17.01", name: "17.01", description: "Verification of Train Length", type: "Auto Type" },
      { id: "KAVACH_DMI_17.02", name: "17.02", description: "Verification of Train Length", type: "Auto Type" },
      { id: "KAVACH_DMI_17.03", name: "17.03", description: "Verification of Train Length", type: "Auto Type" },
      { id: "KAVACH_DMI_17.04", name: "17.04", description: "Verification of Train Length", type: "Auto Type" },
      { id: "KAVACH_DMI_17.05", name: "17.05", description: "Verification of Train Length", type: "Auto Type" },
      { id: "KAVACH_DMI_17.06", name: "17.06", description: "Verification of Train Length", type: "Auto Type" },
      { id: "KAVACH_DMI_17.07", name: "17.07", description: "Verification of Train Length", type: "Auto Type" },
      { id: "KAVACH_DMI_17.08", name: "17.08", description: "Verification of Train Length", type: "Auto Type" },
      { id: "KAVACH_DMI_17.09", name: "17.09", description: "Verification of Train Length", type: "Auto Type" },
      { id: "KAVACH_DMI_18.01", name: "18.01", description: "Verification of Deceleration", type: "Auto Type" },
      { id: "KAVACH_DMI_18.02", name: "18.02", description: "Verification of Deceleration", type: "Auto Type" },
      { id: "KAVACH_DMI_18.03.01", name: "18.03.01", description: "Verification of Deceleration", type: "Auto Type" },
      { id: "KAVACH_DMI_18.03.02", name: "18.03.02", description: "Verification of Deceleration", type: "Auto Type" },
      { id: "KAVACH_DMI_18.03.03", name: "18.03.03", description: "Verification of Deceleration", type: "Auto Type" },
      { id: "KAVACH_DMI_18.03.04", name: "18.03.04", description: "Verification of Deceleration", type: "Auto Type" },
      { id: "KAVACH_DMI_18.04", name: "18.04", description: "Verification of Deceleration", type: "Auto Type" },
      { id: "KAVACH_DMI_19.01", name: "19.01", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.02", name: "19.02", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.03", name: "19.03", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.04", name: "19.04", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.05", name: "19.05", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.06", name: "19.06", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.07", name: "19.07", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.08", name: "19.08", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.09", name: "19.09", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.10", name: "19.10", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.11", name: "19.11", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.12", name: "19.12", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.13", name: "19.13", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.14", name: "19.14", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.15", name: "19.15", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.16", name: "19.16", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.17", name: "19.17", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.18", name: "19.18", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.19", name: "19.19", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.20", name: "19.20", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.21", name: "19.21", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.22", name: "19.22", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.23", name: "19.23", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.24", name: "19.24", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.25", name: "19.25", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.26", name: "19.26", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_19.27", name: "19.27", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_20.01", name: "20.01", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.02", name: "20.02", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.03", name: "20.03", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.04", name: "20.04", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.05", name: "20.05", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.06", name: "20.06", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.07", name: "20.07", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.08", name: "20.08", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.09", name: "20.09", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.10", name: "20.10", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.11", name: "20.11", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.12", name: "20.12", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.13", name: "20.13", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.14", name: "20.14", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.15", name: "20.15", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.16", name: "20.16", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.17", name: "20.17", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.18", name: "20.18", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.19", name: "20.19", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.20", name: "20.20", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.21", name: "20.21", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.22", name: "20.22", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.23", name: "20.23", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.24", name: "20.24", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.25", name: "20.25", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.26", name: "20.26", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.27", name: "20.27", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.28", name: "20.28", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.29", name: "20.29", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.30", name: "20.30", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.31", name: "20.31", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.32", name: "20.32", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.33", name: "20.33", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.34", name: "20.34", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.35", name: "20.35", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.36", name: "20.36", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.37", name: "20.37", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.38", name: "20.38", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.39", name: "20.39", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.40", name: "20.40", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.41", name: "20.41", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.42", name: "20.42", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.43", name: "20.43", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.44", name: "20.44", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.45", name: "20.45", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.46", name: "20.46", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.47", name: "20.47", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.48", name: "20.48", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.49", name: "20.49", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_20.50", name: "20.50", description: "Verification of Special Conditions", type: "Auto Type" },
      { id: "KAVACH_DMI_21.01", name: "21.01", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.02", name: "21.02", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.03", name: "21.03", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.04", name: "21.04", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.05", name: "21.05", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.06", name: "21.06", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.07", name: "21.07", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.08", name: "21.08", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.09", name: "21.09", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.10", name: "21.10", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.11", name: "21.11", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.12", name: "21.12", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.13", name: "21.13", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.14", name: "21.14", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.15", name: "21.15", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.16", name: "21.16", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.17", name: "21.17", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.18", name: "21.18", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.19", name: "21.19", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.20", name: "21.20", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.21", name: "21.21", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.22", name: "21.22", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.23", name: "21.23", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.24", name: "21.24", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.25", name: "21.25", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.26", name: "21.26", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.27", name: "21.27", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.28", name: "21.28", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_21.29", name: "21.29", description: "Verification of Mode of Operation", type: "Auto Type" },
      { id: "KAVACH_DMI_22.01", name: "22.01", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.02", name: "22.02", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.03", name: "22.03", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.04", name: "22.04", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.05", name: "22.05", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.06", name: "22.06", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.07", name: "22.07", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.08", name: "22.08", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.09", name: "22.09", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.10", name: "22.10", description: "Verification of Checksum Info", type: "Manual Type" },
      { id: "KAVACH_DMI_22.11", name: "22.11", description: "Verification of Checksum Info", type: "Manual Type" },
      { id: "KAVACH_DMI_22.12", name: "22.12", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.13", name: "22.13", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.14", name: "22.14", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.15", name: "22.15", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.16", name: "22.16", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.17", name: "22.17", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.18", name: "22.18", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.19", name: "22.19", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.20", name: "22.20", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.21", name: "22.21", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.22", name: "22.22", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.23", name: "22.23", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.24", name: "22.24", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.25", name: "22.25", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.26", name: "22.26", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.27", name: "22.27", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.28", name: "22.28", description: "Verification of Checksum Info", type: "Auto Type" },
      { id: "KAVACH_DMI_22.29", name: "22.29", description: "Verification of Checksum Info", type: "Manual Type" },
      { id: "KAVACH_DMI_23.01", name: "23.01", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.02", name: "23.02", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.03", name: "23.03", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.04", name: "23.04", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.05", name: "23.05", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.06", name: "23.06", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.07", name: "23.07", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.08", name: "23.08", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.09", name: "23.09", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.10", name: "23.10", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.11", name: "23.11", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.12", name: "23.12", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_23.13", name: "23.13", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.01", name: "24.01", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.02", name: "24.02", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.03", name: "24.03", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.04", name: "24.04", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.05", name: "24.05", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.06", name: "24.06", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.07", name: "24.07", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.08", name: "24.08", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.09", name: "24.09", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.10", name: "24.10", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.11", name: "24.11", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.12", name: "24.12", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_24.13", name: "24.13", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.01", name: "25.01", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.02", name: "25.02", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.03", name: "25.03", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.04", name: "25.04", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.05", name: "25.05", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.06", name: "25.06", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.07", name: "25.07", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.08", name: "25.08", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.09", name: "25.09", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.10", name: "25.10", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.11", name: "25.11", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.12", name: "25.12", description: "Verification of Mode of Operation", type: "Manual Type" },
      { id: "KAVACH_DMI_25.13", name: "25.13", description: "Verification of Mode of Operation", type: "Manual Type" }
    ];

// Test case parameters
const testCaseParameters = {
    // Default parameters
    "default": {
        target_distance: "0", type_of_target: "0", current_speed: "0",
        permiss_speed: "0", b11: "0", loco_id: "0",
        date: "0", month: "0", year: "0000",
        hour: "00", minute: "00", second: "00",
        lower_speed: "0", type_brake: "0", abs_location: "0.00",
        modes_operation: "0", distance_ma_c1: "0", signal_aspect: "0",
        hide_show: "0", type_of_signal: "0", app_distance_d2: "0",
        line_number_d3: "0", signal_post_type: "0", deceleration_e1: "0",
        train_length_f1: "0", msg_h1: "0", msg_i1: "0",
        radio_strength: "0", radio_strength_2: "0", rfid_l1: "0",
        direction_l2: "0", distance_l3: "0", tag_m1: "0",
        tag_m2: "0", tag_m3: "0", line_d3x: "0",
        msg_h1x: "0", msg_h1y: "0", msg_i1x: "0",
        active_inactive: "1", buzzer: "0"
    },

    // KAVACH_DMI_02.01 - Verification of Loco Id
    "KAVACH_DMI_02.01": {
        loco_id: "188423"
    },

    // KAVACH_DMI_02.02 - Verification of Absolute Location
    "KAVACH_DMI_02.02": {
        abs_location: "100.23"
    },

    // KAVACH_DMI_02.03 - Verification of Loco Id
    "KAVACH_DMI_02.03": {
        loco_id: "188429"
    },

    // KAVACH_DMI_02.04 - Verification of Loco Id
    "KAVACH_DMI_02.04": {
        loco_id: "123456",
        modes_operation: "1" // Stand By mode
    },
    // KAVACH_DMI_02.05 - Verification of Loco Id
        "KAVACH_DMI_02.05": {
            loco_id: "012345"
        },

        // KAVACH_DMI_02.06 - Verification of Loco Id
        "KAVACH_DMI_02.06": {
            loco_id: "111113"
        },

        // KAVACH_DMI_02.07 - Verification of Loco Id
        "KAVACH_DMI_02.07": {
            loco_id: "111114"
        },

        // KAVACH_DMI_02.08 - Verification of Loco Id
        "KAVACH_DMI_02.08": {
            loco_id: "111115"
        },

        // KAVACH_DMI_02.09 - Verification of Loco Id
        "KAVACH_DMI_02.09": {
            loco_id: "111116"
        },

        // KAVACH_DMI_02.10 - Verification of Loco Id
        "KAVACH_DMI_02.10": {
            loco_id: "111117"
        },

        // KAVACH_DMI_02.11 - Verification of Loco Id
        "KAVACH_DMI_02.11": {
            loco_id: "111118"
        },

        // KAVACH_DMI_02.12 - Verification of Loco Id
        "KAVACH_DMI_02.12": {
            loco_id: "111119"
        },

        // KAVACH_DMI_03.01 - Verification of Target distance
        "KAVACH_DMI_03.01": {
            target_distance: "1000",
            type_of_target: "1",
            loco_id: "111120"
        },

        // KAVACH_DMI_03.02 - Verification of Target distance
        "KAVACH_DMI_03.02": {
            target_distance: "0",
            type_of_target: "0",
            loco_id: "111120"
        },

        // KAVACH_DMI_03.03 - Verification of Target distance
        "KAVACH_DMI_03.03": {
            target_distance: "0",
            type_of_target: "1",
            loco_id: "100001"
        },

        // KAVACH_DMI_03.04 - Verification of Target distance
        "KAVACH_DMI_03.04": {
            target_distance: "250",
            type_of_target: "0",
            modes_operation: "0",
            msg_h1: "0",
            active_inactive: "0",
            loco_id: "111121"
        },

        // KAVACH_DMI_03.05 - Verification of Target distance
        "KAVACH_DMI_03.05": {
            target_distance: "250",
            type_of_target: "0",
            modes_operation: "0",
            msg_h1: "0",
            active_inactive: "0",
            loco_id: "111122"
        },

        // KAVACH_DMI_03.06 - Verification of Target distance
        "KAVACH_DMI_03.06": {
            target_distance: "500",
            loco_id: "111123"
        },

        // KAVACH_DMI_03.07 - Verification of Target distance
        "KAVACH_DMI_03.07": {
            target_distance: "1000",
            loco_id: "111125"
        },

        // KAVACH_DMI_03.08 - Verification of Target distance
        "KAVACH_DMI_03.08": {
            target_distance: "2000",
            loco_id: "111127"
        },

        // KAVACH_DMI_03.09 - Verification of Target distance
        "KAVACH_DMI_03.09": {
            target_distance: "2500",
            loco_id: "111128"
        },

        // KAVACH_DMI_03.10 - Verification of Target distance
        "KAVACH_DMI_03.10": {
            target_distance: "2501",
            loco_id: "111129"
        },

        // KAVACH_DMI_03.11 - Verification of Target distance
        "KAVACH_DMI_03.11": {
            target_distance: "1000"
        },

        // KAVACH_DMI_03.12 - Verification of Target distance
        "KAVACH_DMI_03.12": {
            target_distance: "600",
            loco_id: "111124"
        },

        // KAVACH_DMI_03.13 - Verification of Target distance
        "KAVACH_DMI_03.13": {
            target_distance: "1000",
            loco_id: "111126"
        },

        // KAVACH_DMI_03.14 - Verification of Target distance
        "KAVACH_DMI_03.14": {
            target_distance: "120",
            type_of_target: "1",
            loco_id: "111130"
        },

        // KAVACH_DMI_04.01 - Verification of Speed indication
        "KAVACH_DMI_04.01": {
            type_of_target: "0",
            current_speed: "30",
            loco_id: "188423",
            b11: "100",
            lower_speed: "30",
            type_brake: "1",
            abs_location: "159.98",
            modes_operation: "0"
        },

        // KAVACH_DMI_04.02 - Verification of Speed indication
        "KAVACH_DMI_04.02": {
            type_of_target: "0",
            current_speed: "30",
            loco_id: "188424",
            b11: "100",
            lower_speed: "30",
            type_brake: "1",
            abs_location: "159.98",
            modes_operation: "0"
        },

        // KAVACH_DMI_04.04 - Verification of Speed indication
        "KAVACH_DMI_04.04": {
            // This will be handled dynamically in the formatTestCasePacket function
        },

        // KAVACH_DMI_04.05 - Verification of Speed indication
        "KAVACH_DMI_04.05": {
            current_speed: "20"
        },

        // KAVACH_DMI_04.06 - Verification of Speed indication
        "KAVACH_DMI_04.06": {
            current_speed: "35"
        },

        // KAVACH_DMI_04.07 - Verification of Speed indication
        "KAVACH_DMI_04.07": {
            current_speed: "50"
        },


// KAVACH_DMI_04.08 - Verification of Speed indication
    "KAVACH_DMI_04.08": {
        current_speed: "75"
    },

    // KAVACH_DMI_04.09 - Verification of Speed indication
    "KAVACH_DMI_04.09": {
        current_speed: "100"
    },

    // KAVACH_DMI_04.10 - Verification of Speed indication
    "KAVACH_DMI_04.10": {
        current_speed: "125"
    },

    // KAVACH_DMI_04.11 - Verification of Speed indication
    "KAVACH_DMI_04.11": {
        current_speed: "160"
    },

    // KAVACH_DMI_04.12 - Verification of Speed indication
    "KAVACH_DMI_04.12": {
        current_speed: "200"
    },

    // KAVACH_DMI_04.13 - Verification of Speed indication
    "KAVACH_DMI_04.13": {
        current_speed: "220"
    },

    // KAVACH_DMI_04.14 - Verification of Speed indication
    "KAVACH_DMI_04.14": {
        current_speed: "240"
    },

    // KAVACH_DMI_04.15 - Verification of Speed indication
    "KAVACH_DMI_04.15": {
        current_speed: "250"
    },

    // KAVACH_DMI_04.16 - Verification of Speed indication
    "KAVACH_DMI_04.16": {
        current_speed: "400"
    },

    // KAVACH_DMI_04.18 - Verification of Speed indication
    "KAVACH_DMI_04.18": {
        current_speed: "51"
    },

    // KAVACH_DMI_04.19 - Verification of Speed indication
    "KAVACH_DMI_04.19": {
        current_speed: "100"
    },

    // KAVACH_DMI_04.20 - Verification of Speed indication
    "KAVACH_DMI_04.20": {
        current_speed: "200"
    },

    // KAVACH_DMI_04.21 - Verification of Speed indication
    "KAVACH_DMI_04.21": {
        current_speed: "220"
    },

    // KAVACH_DMI_04.22 - Verification of Speed indication
    "KAVACH_DMI_04.22": {
        current_speed: "240"
    },

    // KAVACH_DMI_04.23 - Verification of Speed indication
    "KAVACH_DMI_04.23": {
        modes_operation: "6"
    },

    // KAVACH_DMI_04.24 - Verification of Speed indication
    "KAVACH_DMI_04.24": {
        modes_operation: "6",
        permiss_speed: "50"
    },

    // KAVACH_DMI_04.25 - Verification of Speed indication
    "KAVACH_DMI_04.25": {
        modes_operation: "6",
        permiss_speed: "135"
    },

    // KAVACH_DMI_04.26 - Verification of Speed indication
    "KAVACH_DMI_04.26": {
        modes_operation: "6",
        permiss_speed: "190"
    },

    // KAVACH_DMI_04.27 - Verification of Speed indication
    "KAVACH_DMI_04.27": {
        modes_operation: "7",
        permiss_speed: "200"
    },

    // KAVACH_DMI_04.28 - Verification of Speed indication
    "KAVACH_DMI_04.28": {
        modes_operation: "6",
        permiss_speed: "220"
    },

    // KAVACH_DMI_04.29 - Verification of Speed indication
    "KAVACH_DMI_04.29": {
        modes_operation: "7",
        permiss_speed: "240"
    },

    // KAVACH_DMI_04.30 - Verification of Speed indication
    "KAVACH_DMI_04.30": {
        modes_operation: "6",
        current_speed: "30",
        permiss_speed: "100"
    },

    // KAVACH_DMI_04.31 - Verification of Speed indication
    "KAVACH_DMI_04.31": {
        current_speed: "108",
        permiss_speed: "100"
    },

    // KAVACH_DMI_04.32 - Verification of Speed indication
    "KAVACH_DMI_04.32": {
        current_speed: "110",
        permiss_speed: "100"
    },

    // KAVACH_DMI_04.33 - Verification of Speed indication
    "KAVACH_DMI_04.33": {
        modes_operation: "11",
        current_speed: "50"
    },

    // KAVACH_DMI_04.34 - Verification of Speed indication
    "KAVACH_DMI_04.34": {
        modes_operation: "13",
        current_speed: "50"
    },

    // KAVACH_DMI_04.35 - Verification of Speed indication
    "KAVACH_DMI_04.35": {
        current_speed: "0",
        modes_operation: "0",
        msg_h1: "0",
        active_inactive: "0",
        b11: "60",
        loco_id: "111111"
    },

    // KAVACH_DMI_05.01 - Verification of Stand By mode
    "KAVACH_DMI_05.01": {
        permiss_speed: "0",
        b11: "0",
        modes_operation: "0"
    },

    // KAVACH_DMI_05.02 - Verification of Stand By mode
    "KAVACH_DMI_05.02": {
        target_distance: "0",
        type_of_target: "0",
        current_speed: "0",
        permiss_speed: "0",
        loco_id: "20662",
        lower_speed: "0",
        type_brake: "0",
        abs_location: "172",
        modes_operation: "1",
        line_number_d3: "14",
        signal_post_type: "0",
        deceleration_e1: "5.55",
        train_length_f1: "0",
        msg_h1: "49",
        msg_i1: "0",
        radio_strength: "0",
        radio_strength_2: "0",
        rfid_l1: "0",
        direction_l2: "1",
        distance_l3: "679",
        tag_m1: "2",
        tag_m2: "0",
        tag_m3: "0",
        line_d3x: "0",
        msg_h1x: "0",
        msg_h1y: "0",
        msg_i1x: "0",
        active_inactive: "1",
        buzzer: "0"
    },

    // KAVACH_DMI_05.03 - Verification of Stand By mode
    "KAVACH_DMI_05.03": {
        target_distance: "0",
        type_of_target: "0",
        current_speed: "0",
        permiss_speed: "40",
        loco_id: "20662",
        lower_speed: "0",
        type_brake: "0",
        abs_location: "171",
        modes_operation: "2",
        line_number_d3: "14",
        signal_post_type: "0",
        deceleration_e1: "0.65",
        train_length_f1: "25",
        msg_h1: "0",
        msg_i1: "0",
        radio_strength: "0",
        radio_strength_2: "0",
        direction_l2: "1",
        distance_l3: "679",
        tag_m1: "2",
        tag_m2: "0",
        tag_m3: "0",
        line_d3x: "0",
        msg_h1x: "0",
        msg_h1y: "0",
        msg_i1x: "0",
        active_inactive: "1",
        buzzer: "0"
    },

    // KAVACH_DMI_05.04 - Verification of Stand By mode
    "KAVACH_DMI_05.04": {
        modes_operation: "3",
        target_distance: "0",
        type_of_target: "0",
        current_speed: "50",
        permiss_speed: "120",
        loco_id: "20662",
        lower_speed: "40",
        type_brake: "0",
        abs_location: "200",
        signal_post_type: "0",
        deceleration_e1: "0.55",
        train_length_f1: "500",
        msg_h1: "0",
        msg_i1: "0",
        radio_strength: "0",
        radio_strength_2: "0",
        rfid_l1: "700",
        direction_l2: "2",
        distance_l3: "0",
        tag_m1: "0",
        tag_m2: "2",
        tag_m3: "2",
        line_d3x: "0",
        msg_h1x: "0",
        msg_h1y: "0",
        msg_i1x: "0",
        active_inactive: "1",
        buzzer: "0"
    },

    // KAVACH_DMI_05.05 - Verification of Stand By mode
    "KAVACH_DMI_05.05": {
        target_distance: "0",
        type_of_target: "0",
        current_speed: "50",
        permiss_speed: "140",
        loco_id: "20662",
        lower_speed: "40",
        type_brake: "0",
        abs_location: "200",
        modes_operation: "4",
        line_number_d3: "14",
        signal_post_type: "0",
        deceleration_e1: "0.7",
        train_length_f1: "25",
        msg_h1: "0",
        msg_i1: "0",
        radio_strength: "0",
        radio_strength_2: "0",
        direction_l2: "1",
        distance_l3: "679",
        tag_m1: "0",
        tag_m2: "2",
        tag_m3: "1",
        line_d3x: "0",
        msg_h1x: "0",
        msg_h1y: "0",
        msg_i1x: "0",
        active_inactive: "1",
        buzzer: "0"
    },

    // KAVACH_DMI_05.06 - Verification of Stand By mode
    "KAVACH_DMI_05.06": {
        target_distance: "1000",
        type_of_target: "1",
        current_speed: "20",
        permiss_speed: "150",
        loco_id: "20662",
        lower_speed: "80",
        type_brake: "0",
        abs_location: "180",
        distance_ma_c1: "1000",
        modes_operation: "6",
        signal_post_type: "1",
        deceleration_e1: "0.7",
        train_length_f1: "25",
        radio_strength: "0",
        radio_strength_2: "0",
        direction_l2: "1",
        distance_l3: "679",
        tag_m1: "0",
        tag_m2: "2",
        tag_m3: "1",
        line_d3x: "0",
        active_inactive: "1"
    },

    // KAVACH_DMI_05.07 - Verification of Stand By mode
    "KAVACH_DMI_05.07": {
        modes_operation: "7"
    },

    // KAVACH_DMI_05.08 - Verification of Stand By mode
    "KAVACH_DMI_05.08": {
        modes_operation: "8"
    },

    // KAVACH_DMI_05.09 - Verification of Stand By mode
    "KAVACH_DMI_05.09": {
        modes_operation: "9"
    },

    // KAVACH_DMI_05.10 - Verification of Stand By mode
    "KAVACH_DMI_05.10": {
        modes_operation: "10"
    },

    // KAVACH_DMI_05.11 - Verification of Stand By mode
    "KAVACH_DMI_05.11": {
        modes_operation: "11"
    },

    // KAVACH_DMI_05.12 - Verification of Stand By mode
    "KAVACH_DMI_05.12": {
        modes_operation: "12"
    },

    // KAVACH_DMI_05.13 - Verification of Stand By mode
    "KAVACH_DMI_05.13": {
        modes_operation: "13"
    },

    // KAVACH_DMI_06.01 - Verification of Brake Type
    "KAVACH_DMI_06.01": {
        modes_operation: "0"
    },

    // KAVACH_DMI_06.02 - Verification of Brake Type
    "KAVACH_DMI_06.02": {
        type_brake: "1"
    },

    // KAVACH_DMI_06.03 - Verification of Brake Type
    "KAVACH_DMI_06.03": {
        type_brake: "2"
    },

    // KAVACH_DMI_06.04 - Verification of Brake Type
    "KAVACH_DMI_06.04": {
        type_brake: "3"
    },

    // KAVACH_DMI_06.05 - Verification of Brake Type
    "KAVACH_DMI_06.05": {
        type_brake: "0",
        modes_operation: "0"
    },

    // KAVACH_DMI_06.06 - Verification of Brake Type
    "KAVACH_DMI_06.06": {
        type_brake: "0",
        modes_operation: "0"
    },

    // KAVACH_DMI_07.01 - Verification of Absolute Location
    "KAVACH_DMI_07.01": {
        modes_operation: "0",
        abs_location: "9.68"
    },

    // KAVACH_DMI_07.02 - Verification of Absolute Location
    "KAVACH_DMI_07.02": {
        modes_operation: "0",
        abs_location: "52.47"
    },

    // KAVACH_DMI_07.03 - Verification of Absolute Location
    "KAVACH_DMI_07.03": {
        modes_operation: "0",
        abs_location: "135.09"
    },

    // KAVACH_DMI_07.04 - Verification of Absolute Location
    "KAVACH_DMI_07.04": {
        abs_location: "52.47"
    },

    // KAVACH_DMI_07.05 - Verification of Absolute Location
    "KAVACH_DMI_07.05": {
        abs_location: "0",
        b11: "100"
    },

    // KAVACH_DMI_08.01 - Verification of Distance to MA
    "KAVACH_DMI_08.01": {
        b11: "0",
        modes_operation: "0",
        distance_ma_c1: "500"
    },

    // KAVACH_DMI_08.02 - Verification of Distance to MA
    "KAVACH_DMI_08.02": {
        distance_ma_c1: "0",
        modes_operation: "0"
    },

    // KAVACH_DMI_08.03 - Verification of Distance to MA
    "KAVACH_DMI_08.03": {
        loco_id: "111111",
        distance_ma_c1: "1000"
    },

    // KAVACH_DMI_08.04 - Verification of Distance to MA
    "KAVACH_DMI_08.04": {
        loco_id: "111112",
        distance_ma_c1: "1000"
    },

    // KAVACH_DMI_08.05 - Verification of Distance to MA
    "KAVACH_DMI_08.05": {
        loco_id: "111113",
        distance_ma_c1: "1000"
    },

    // KAVACH_DMI_08.06 - Verification of Distance to MA
    "KAVACH_DMI_08.06": {
        loco_id: "111114",
        distance_ma_c1: "1000"
    },

    // KAVACH_DMI_08.07 - Verification of Distance to MA
    "KAVACH_DMI_08.07": {
        distance_ma_c1: "0",
        modes_operation: "0"
    },

    // KAVACH_DMI_08.08 - Verification of Distance to MA
    "KAVACH_DMI_08.08": {
        loco_id: "111102",
        distance_ma_c1: "50"
    },

    // KAVACH_DMI_08.09 - Verification of Distance to MA
    "KAVACH_DMI_08.09": {
        distance_ma_c1: "250"
    },

    // KAVACH_DMI_08.10 - Verification of Distance to MA
    "KAVACH_DMI_08.10": {
        distance_ma_c1: "500"
    },

    // KAVACH_DMI_08.11 - Verification of Distance to MA
    "KAVACH_DMI_08.11": {
        loco_id: "111116",
        distance_ma_c1: "1000"
    },

    // KAVACH_DMI_08.12 - Verification of Distance to MA
    "KAVACH_DMI_08.12": {
        distance_ma_c1: "3100"
    },

    // KAVACH_DMI_08.13 - Verification of Distance to MA
    "KAVACH_DMI_08.13": {
        loco_id: "111115",
        distance_ma_c1: "1000"
    },

    // KAVACH_DMI_08.14 - Verification of Distance to MA
    "KAVACH_DMI_08.14": {
        loco_id: "111117",
        distance_ma_c1: "1000"
    },

    // KAVACH_DMI_08.15 - Verification of Distance to MA
    "KAVACH_DMI_08.15": {
        loco_id: "111118",
        distance_ma_c1: "1000"
    },

    // KAVACH_DMI_08.16 - Verification of Distance to MA
    "KAVACH_DMI_08.16": {
        loco_id: "111119",
        distance_ma_c1: "1000"
    },

    // KAVACH_DMI_09.01 - Verification of Signal Information
    "KAVACH_DMI_09.01": {
        distance_ma_c1: "0",
        modes_operation: "0",
        signal_aspect: "1",
        hide_show: "1",
        type_of_signal: "1",
        app_distance_d2: "100",
        line_number_d3: "1"
    },

    // KAVACH_DMI_09.02.01 - Verification of Signal Information
    "KAVACH_DMI_09.02.01": {
        hide_show: "1",
        type_of_signal: "0",
        app_distance_d2: "0",
        line_number_d3: "0",
        modes_operation: "0",
        signal_aspect: "1"
    },

    // KAVACH_DMI_09.02.02 - Verification of Signal Information
    "KAVACH_DMI_09.02.02": {
        signal_aspect: "2",
        hide_show: "1"
    },

    // KAVACH_DMI_09.02.03 - Verification of Signal Information
    "KAVACH_DMI_09.02.03": {
        signal_aspect: "10",
        hide_show: "1"
    },

    // KAVACH_DMI_09.03.01 - Verification of Signal Information
    "KAVACH_DMI_09.03.01": {
        signal_aspect: "2",
        hide_show: "1"
    },

    // KAVACH_DMI_09.03.02 - Verification of Signal Information
    "KAVACH_DMI_09.03.02": {
        signal_aspect: "11",
        hide_show: "1"
    },

    // KAVACH_DMI_09.03.03 - Verification of Signal Information
    "KAVACH_DMI_09.03.03": {
        signal_aspect: "10",
        hide_show: "1"
    },

    // KAVACH_DMI_09.03.04 - Verification of Signal Information
    "KAVACH_DMI_09.03.04": {
        signal_aspect: "1",
        hide_show: "1"
    },

    // KAVACH_DMI_09.04 - Verification of Signal Information
    "KAVACH_DMI_09.04": {
        signal_aspect: "2",
        loco_id: "112119",
        hide_show: "1"
    },

    // KAVACH_DMI_09.05 - Verification of Signal Information
    "KAVACH_DMI_09.05": {
        signal_aspect: "11",
        hide_show: "1"
    },

    // KAVACH_DMI_09.06 - Verification of Signal Information
    "KAVACH_DMI_09.06": {
        signal_aspect: "10",
        hide_show: "1",
        loco_id: "111121"
    },

    // KAVACH_DMI_09.07 - Verification of Signal Information
    "KAVACH_DMI_09.07": {
        signal_aspect: "1",
        hide_show: "1",
        loco_id: "129119"
    },

    // KAVACH_DMI_09.08 - Verification of Signal Information
    "KAVACH_DMI_09.08": {
        signal_aspect: "1",
        type_of_signal: "1",
        app_distance_d2: "20",
        hide_show: "1",
        line_number_d3: "1",
        signal_post_type: "1"
    },

    // KAVACH_DMI_09.09 - Verification of Signal Information
    "KAVACH_DMI_09.09": {
        type_of_signal: "2",
        hide_show: "1",
        signal_aspect: "1",
        app_distance_d2: "20",
        line_number_d3: "1",
        signal_post_type: "1"
    },

    // KAVACH_DMI_09.10 - Verification of Signal Information
    "KAVACH_DMI_09.10": {
        type_of_signal: "3",
        hide_show: "1",
        signal_aspect: "1",
        app_distance_d2: "20",
        line_number_d3: "1",
        signal_post_type: "1"
    },

    // KAVACH_DMI_09.11 - Verification of Signal Information
    "KAVACH_DMI_09.11": {
        type_of_signal: "4",
        hide_show: "1",
        signal_aspect: "1",
        app_distance_d2: "20",
        line_number_d3: "1",
        signal_post_type: "1"
    },

    // KAVACH_DMI_09.12 - Verification of Signal Information
    "KAVACH_DMI_09.12": {
        type_of_signal: "5",
        hide_show: "1",
        signal_aspect: "1",
        app_distance_d2: "20",
        line_number_d3: "1",
        signal_post_type: "1",
        loco_id: "101119"
    },

    // KAVACH_DMI_09.13 - Verification of Signal Information
    "KAVACH_DMI_09.13": {
        type_of_signal: "0",
        hide_show: "1",
        app_distance_d2: "0",
        modes_operation: "0"
    },

    // KAVACH_DMI_09.14 - Verification of Signal Information
    "KAVACH_DMI_09.14": {
        signal_aspect: "2",
        hide_show: "1",
        type_of_signal: "1",
        app_distance_d2: "100",
        line_number_d3: "1",
        signal_post_type: "1"
    },

    // KAVACH_DMI_09.15 - Verification of Signal Information
    "KAVACH_DMI_09.15": {
        hide_show: "1",
        type_of_signal: "1",
        app_distance_d2: "0933",
        signal_aspect: "2",
        line_number_d3: "1",
        signal_post_type: "1"
    },

    // KAVACH_DMI_09.16 - Verification of Signal Information
    "KAVACH_DMI_09.16": {
        type_of_signal: "0",
        hide_show: "1",
        signal_aspect: "3",
        app_distance_d2: "0000",
        modes_operation: "1",
        loco_id: "121119"
    },

    // KAVACH_DMI_09.17 - Verification of Signal Information
    "KAVACH_DMI_09.17": {
        app_distance_d2: "1008",
        hide_show: "1",
        signal_aspect: "1",
        line_number_d3: "1",
        signal_post_type: "1"
    },

    // KAVACH_DMI_09.18 - Verification of Signal Information
    "KAVACH_DMI_09.18": {
        app_distance_d2: "0348",
        hide_show: "1",
        signal_aspect: "2",
        line_number_d3: "1",
        signal_post_type: "1"
    },

    // KAVACH_DMI_09.19 - Verification of Signal Information
    "KAVACH_DMI_09.19": {
        app_distance_d2: "1442",
        hide_show: "1",
        signal_aspect: "2",
        line_number_d3: "1",
        loco_id: "111119"
    },

    // KAVACH_DMI_09.20 - Verification of Signal Information
    "KAVACH_DMI_09.20": {
        app_distance_d2: "1242",
        hide_show: "1",
        signal_aspect: "2",
        line_number_d3: "1",
        loco_id: "111119"
    },

    // KAVACH_DMI_09.21 - Verification of Signal Information
    "KAVACH_DMI_09.21": {
        app_distance_d2: "1442",
        hide_show: "1",
        signal_aspect: "2",
        line_number_d3: "1",
        loco_id: "111114"
    },

    // KAVACH_DMI_09.22 - Verification of Signal Information
    "KAVACH_DMI_09.22": {
        signal_aspect: "2",
        app_distance_d2: "1442",
        line_number_d3: "1",
        signal_post_type: "46",
        type_of_signal: "3",
        hide_show: "1"
    },

    // KAVACH_DMI_09.23 - Verification of Signal Information
    "KAVACH_DMI_09.23": {
        signal_aspect: "2",
        app_distance_d2: "1442",
        line_number_d3: "1",
        signal_post_type: "47",
        type_of_signal: "3",
        hide_show: "1"
    },

    // KAVACH_DMI_09.24 - Verification of Signal Information
    "KAVACH_DMI_09.24": {
        signal_aspect: "2",
        app_distance_d2: "1442",
        line_number_d3: "1",
        signal_post_type: "6",
        type_of_signal: "3",
        hide_show: "1"
    },

    // KAVACH_DMI_09.25 - Verification of Signal Information
    "KAVACH_DMI_09.25": {
        signal_aspect: "2",
        app_distance_d2: "1442",
        line_number_d3: "1",
        signal_post_type: "38",
        type_of_signal: "3",
        hide_show: "1"
    },

    // KAVACH_DMI_09.26 - Verification of Signal Information
    "KAVACH_DMI_09.26": {
        signal_aspect: "2",
        app_distance_d2: "1442",
        line_number_d3: "1",
        signal_post_type: "41",
        type_of_signal: "2",
        hide_show: "1"
    },

    // KAVACH_DMI_09.27 - Verification of Signal Information
    "KAVACH_DMI_09.27": {
        signal_aspect: "2",
        app_distance_d2: "1442",
        line_number_d3: "1",
        signal_post_type: "40",
        type_of_signal: "2",
        hide_show: "1"
    },

    // KAVACH_DMI_09.28 - Verification of Signal Information
    "KAVACH_DMI_09.28": {
        signal_aspect: "2",
        app_distance_d2: "1442",
        line_number_d3: "1",
        signal_post_type: "0",
        type_of_signal: "2",
        hide_show: "1"
    },

    // KAVACH_DMI_10.01 - Verification of Signal Aspect
    "KAVACH_DMI_10.01": {
        type_of_signal: "0",
        modes_operation: "0",
        signal_aspect: "3",
        hide_show: "1"
    },

    // KAVACH_DMI_10.02 - Verification of Signal Aspect
    "KAVACH_DMI_10.02": {
        signal_aspect: "4",
        hide_show: "1"
    },

    // KAVACH_DMI_10.03 - Verification of Signal Aspect
    "KAVACH_DMI_10.03": {
        signal_aspect: "5",
        hide_show: "1"
    },

    // KAVACH_DMI_10.04 - Verification of Signal Aspect
    "KAVACH_DMI_10.04": {
        signal_aspect: "6",
        hide_show: "1"
    },

    // KAVACH_DMI_10.05 - Verification of Signal Aspect
    "KAVACH_DMI_10.05": {
        signal_aspect: "7",
        hide_show: "1"
    },

    // KAVACH_DMI_10.06 - Verification of Signal Aspect
    "KAVACH_DMI_10.06": {
        signal_aspect: "8",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.01 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.01": {
        signal_aspect: "7",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.02 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.02": {
        signal_aspect: "8",
        hide_show: "1",
        loco_id: "181119"
    },

    // KAVACH_DMI_10.07.03 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.03": {
        signal_aspect: "9",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.04 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.04": {
        signal_aspect: "10",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.05 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.05": {
        signal_aspect: "11",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.06 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.06": {
        signal_aspect: "12",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.07 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.07": {
        signal_aspect: "13",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.08 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.08": {
        signal_aspect: "14",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.09 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.09": {
        signal_aspect: "15",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.10 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.10": {
        signal_aspect: "16",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.11 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.11": {
        signal_aspect: "17",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.12 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.12": {
        signal_aspect: "18",
        hide_show: "1"
    },

    // KAVACH_DMI_10.07.13 - Verification of Signal Aspect
    "KAVACH_DMI_10.07.13": {
        signal_aspect: "19",
        hide_show: "1"
    },
    // KAVACH_DMI_10.07.14 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.14": {
            signal_aspect: "20",
            hide_show: "1"
        },

        // KAVACH_DMI_10.07.15 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.15": {
            signal_aspect: "21",
            hide_show: "1"
        },

        // KAVACH_DMI_10.07.16 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.16": {
            signal_aspect: "22",
            hide_show: "1"
        },

        // KAVACH_DMI_10.07.17 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.17": {
            signal_aspect: "23",
            hide_show: "1"
        },

        // KAVACH_DMI_10.07.18 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.18": {
            signal_aspect: "24",
            hide_show: "1"
        },

        // KAVACH_DMI_10.07.19 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.19": {
            signal_aspect: "25",
            hide_show: "1"
        },

        // KAVACH_DMI_10.07.20 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.20": {
            signal_aspect: "26",
            hide_show: "1"
        },

        // KAVACH_DMI_10.07.21 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.21": {
            signal_aspect: "27",
            hide_show: "1"
        },

        // KAVACH_DMI_10.07.22 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.22": {
            signal_aspect: "28",
            hide_show: "1"
        },

        // KAVACH_DMI_10.07.23 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.23": {
            signal_aspect: "29",
            hide_show: "1"
        },

        // KAVACH_DMI_10.07.24 - Verification of Signal Aspect
        "KAVACH_DMI_10.07.24": {
            signal_aspect: "30",
            hide_show: "1"
        },

        // KAVACH_DMI_11.01 - Verification of Line Number
        "KAVACH_DMI_11.01": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            hide_show: "1",
            line_number_d3: "1"
        },

        // KAVACH_DMI_11.02 - Verification of Line Number
        "KAVACH_DMI_11.02": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "0",
            hide_show: "1"
        },

        // KAVACH_DMI_11.03 - Verification of Line Number
        "KAVACH_DMI_11.03": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "1",
            hide_show: "1"
        },

        // KAVACH_DMI_11.04 - Verification of Line Number
        "KAVACH_DMI_11.04": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "2",
            hide_show: "1"
        },

        // KAVACH_DMI_11.05 - Verification of Line Number
        "KAVACH_DMI_11.05": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "3",
            hide_show: "1"
        },

        // KAVACH_DMI_11.06 - Verification of Line Number
        "KAVACH_DMI_11.06": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "8",
            hide_show: "1"
        },

        // KAVACH_DMI_11.07 - Verification of Line Number
        "KAVACH_DMI_11.07": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "9",
            hide_show: "1"
        },

        // KAVACH_DMI_11.08 - Verification of Line Number
        "KAVACH_DMI_11.08": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "10",
            hide_show: "1"
        },

        // KAVACH_DMI_11.09 - Verification of Line Number
        "KAVACH_DMI_11.09": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "11",
            hide_show: "1"
        },

        // KAVACH_DMI_11.10 - Verification of Line Number
        "KAVACH_DMI_11.10": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "12",
            hide_show: "1"
        },

        // KAVACH_DMI_11.11 - Verification of Line Number
        "KAVACH_DMI_11.11": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "13",
            hide_show: "1"
        },

        // KAVACH_DMI_11.12 - Verification of Line Number
        "KAVACH_DMI_11.12": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "14",
            hide_show: "1"
        },

        // KAVACH_DMI_11.13 - Verification of Line Number
        "KAVACH_DMI_11.13": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "15",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.01 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.01": {
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            line_number_d3: "1",
            signal_post_type: "16",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.02 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.02": {
            line_number_d3: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            signal_post_type: "17",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.03 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.03": {
            line_number_d3: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            signal_post_type: "18",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.04 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.04": {
            line_number_d3: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            signal_post_type: "19",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.05 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.05": {
            line_number_d3: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            signal_post_type: "20",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.06 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.06": {
            line_number_d3: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            signal_post_type: "21",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.07 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.07": {
            line_number_d3: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            signal_post_type: "22",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.08 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.08": {
            line_number_d3: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            signal_post_type: "23",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.09 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.09": {
            line_number_d3: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            hide_show: "1",
            signal_post_type: "24"
        },

        // KAVACH_DMI_11.14.10 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.10": {
            line_number_d3: "1",
            signal_post_type: "25",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.11 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.11": {
            line_number_d3: "1",
            signal_post_type: "26",
            hide_show: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20"
        },

        // KAVACH_DMI_11.14.12 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.12": {
            line_number_d3: "1",
            signal_post_type: "27",
            hide_show: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20"
        },

        // KAVACH_DMI_11.14.13 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.13": {
            line_number_d3: "1",
            signal_post_type: "28",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.14 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.14": {
            line_number_d3: "1",
            signal_post_type: "29",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.15 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.15": {
            line_number_d3: "1",
            signal_post_type: "30",
            hide_show: "1",
            signal_aspect: "1",
            type_of_signal: "1",
            app_distance_d2: "20",
            type_of_signal: "1"
        },

        // KAVACH_DMI_11.14.16 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.16": {
            line_number_d3: "1",
            hide_show: "1",
            signal_aspect: "1",
            signal_post_type: "1",
            type_of_signal: "1"
        },

        // KAVACH_DMI_11.14.17 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.17": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "2",
            hide_show: "1",
            loco_id: "112119"
        },

        // KAVACH_DMI_11.14.18 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.18": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "3",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.19 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.19": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "4",
            hide_show: "1",
            loco_id: "121119"
        },

        // KAVACH_DMI_11.14.20 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.20": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "5",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.21 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.21": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "6",
            hide_show: "1",
            loco_id: "211119"
        },

        // KAVACH_DMI_11.14.22 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.22": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "7",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.23 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.23": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "35",
            hide_show: "1",
            loco_id: "131119"
        },

        // KAVACH_DMI_11.14.24 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.24": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "37",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.25 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.25": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "38",
            hide_show: "1",
            loco_id: "111118"
        },

        // KAVACH_DMI_11.14.26 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.26": {
            signal_post_type: "39",
            signal_aspect: "1",
            line_number_d3: "1",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.27 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.27": {
            signal_post_type: "40",
            signal_aspect: "1",
            hide_show: "1",
            line_number_d3: "1"
        },

        // KAVACH_DMI_11.14.28 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.28": {
            signal_post_type: "41",
            line_number_d3: "1",
            signal_aspect: "1",
            hide_show: "1",
            loco_id: "111719"
        },

        // KAVACH_DMI_11.14.29 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.29": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "42",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.30 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.30": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "43",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.31 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.31": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "44",
            hide_show: "1",
            loco_id: "611119"
        },

        // KAVACH_DMI_11.14.32 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.32": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "45",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.33 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.33": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "46",
            hide_show: "1",
            loco_id: "114119"
        },

        // KAVACH_DMI_11.14.34 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.34": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "47",
            hide_show: "1"
        },

        // KAVACH_DMI_11.14.35 - Verification of Signal Post Type
        "KAVACH_DMI_11.14.35": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "48",
            hide_show: "1",
            loco_id: "111199"
        },

        // KAVACH_DMI_11.15 - Verification of Signal Post Type
        "KAVACH_DMI_11.15": {
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "48",
            hide_show: "1"
        },

        // KAVACH_DMI_11.16 - Verification of Signal Post Type
        "KAVACH_DMI_11.16": {
            loco_id: "111199",
            line_number_d3: "1",
            signal_aspect: "1",
            signal_post_type: "48",
            hide_show: "1"
        },

        // KAVACH_DMI_12.01 - Verification of Tag Detection
        "KAVACH_DMI_12.01": {
            line_number_d3: "0",
            modes_operation: "0",
            tag_m1: "2",
            tag_m2: "2",
            tag_m3: "2"
        },

        // KAVACH_DMI_12.02 - Verification of Tag Detection
        "KAVACH_DMI_12.02": {
            modes_operation: "0",
            hide_show: "1",
            tag_m1: "0",
            tag_m2: "0",
            tag_m3: "0"
        },

        // KAVACH_DMI_12.03 - Verification of Tag Detection
        "KAVACH_DMI_12.03": {
            tag_m1: "1",
            tag_m2: "1",
            tag_m3: "1"
        },

        // KAVACH_DMI_12.04 - Verification of Tag Detection
        "KAVACH_DMI_12.04": {
            modes_operation: "0",
            tag_m1: "0",
            tag_m2: "0",
            tag_m3: "0",
            loco_id: "113119"
        },

        // KAVACH_DMI_12.05 - Verification of Tag Detection
        "KAVACH_DMI_12.05": {
            line_number_d3: "0",
            modes_operation: "0",
            tag_m1: "2",
            tag_m2: "2",
            tag_m3: "2"
        },

        // KAVACH_DMI_12.06 - Verification of Tag Detection
        "KAVACH_DMI_12.06": {
            line_number_d3: "0",
            loco_id: "113119",
            modes_operation: "0",
            tag_m1: "2",
            tag_m2: "2",
            tag_m3: "2"
        },

        // KAVACH_DMI_13.01 - Verification of Radio Strength
        "KAVACH_DMI_13.01": {
            tag_m1: "0",
            tag_m2: "0",
            tag_m3: "0",
            modes_operation: "0",
            radio_strength: "0",
            radio_strength_2: "5"
        },

        // KAVACH_DMI_13.02 - Verification of Radio Strength
        "KAVACH_DMI_13.02": {
            tag_m1: "0",
            tag_m2: "0",
            tag_m3: "0",
            modes_operation: "0",
            radio_strength: "0",
            radio_strength_2: "3",
            loco_id: "117119",
            hide_show: "1"
        },

        // KAVACH_DMI_13.03 - Verification of Radio Strength
        "KAVACH_DMI_13.03": {
            tag_m1: "0",
            tag_m2: "0",
            tag_m3: "0",
            modes_operation: "0",
            radio_strength: "0",
            radio_strength_2: "5",
            hide_show: "1"
        },

        // KAVACH_DMI_13.04 - Verification of Radio Strength
        "KAVACH_DMI_13.04": {
            radio_strength: "1",
            radio_strength_2: "1",
            hide_show: "1"
        },

        // KAVACH_DMI_13.05 - Verification of Radio Strength
        "KAVACH_DMI_13.05": {
            radio_strength: "1",
            radio_strength_2: "2",
            hide_show: "1"
        },

        // KAVACH_DMI_13.06 - Verification of Radio Strength
        "KAVACH_DMI_13.06": {
            radio_strength: "0",
            radio_strength_2: "3",
            hide_show: "1"
        },

        // KAVACH_DMI_13.07 - Verification of Radio Strength
        "KAVACH_DMI_13.07": {
            radio_strength: "1",
            radio_strength_2: "4",
            hide_show: "1"
        },

        // KAVACH_DMI_13.08 - Verification of Radio Strength
        "KAVACH_DMI_13.08": {
            tag_m1: "0",
            tag_m2: "0",
            tag_m3: "0",
            modes_operation: "0",
            radio_strength: "1",
            radio_strength_2: "5",
            loco_id: "111319",
            hide_show: "1"
        },

        // KAVACH_DMI_13.09 - Verification of Radio Strength
        "KAVACH_DMI_13.09": {
            radio_strength: "0",
            radio_strength_2: "6",
            hide_show: "1"
        },

        // KAVACH_DMI_14.xx - Verification of Message H1
        "KAVACH_DMI_14.01": {
            msg_h1: "1"
        },

        "KAVACH_DMI_14.02": {
            msg_h1: "2"
        },

        "KAVACH_DMI_14.03": {
            msg_h1: "3"
        },

        "KAVACH_DMI_14.04": {
            msg_h1: "4"
        },

        "KAVACH_DMI_14.05": {
            msg_h1: "5"
        },

        "KAVACH_DMI_14.06": {
            msg_h1: "6"
        },

        "KAVACH_DMI_14.07": {
            msg_h1: "7"
        },

        "KAVACH_DMI_14.08": {
            msg_h1: "8"
        },

        "KAVACH_DMI_14.09": {
            msg_h1: "9"
        },

        "KAVACH_DMI_14.10": {
            msg_h1: "10"
        },

        "KAVACH_DMI_14.11": {
            msg_h1: "11"
        },

        "KAVACH_DMI_14.12": {
            msg_h1: "12"
        },

        "KAVACH_DMI_14.13": {
            msg_h1: "13"
        },

        "KAVACH_DMI_14.14": {
            msg_h1: "14"
        },

        "KAVACH_DMI_14.15": {
            msg_h1: "15"
        },

        "KAVACH_DMI_14.16": {
            msg_h1: "16"
        },

        "KAVACH_DMI_14.17": {
            msg_h1: "17"
        },

        "KAVACH_DMI_14.18": {
            msg_h1: "18"
        },

        "KAVACH_DMI_14.19": {
            msg_h1: "19"
        },

        "KAVACH_DMI_14.20": {
            msg_h1: "20"
        },

        "KAVACH_DMI_14.21": {
            msg_h1: "21"
        },

        "KAVACH_DMI_14.22": {
            msg_h1: "22"
        },

        "KAVACH_DMI_14.23": {
            msg_h1: "23"
        },

        "KAVACH_DMI_14.24": {
            msg_h1: "24"
        },

        "KAVACH_DMI_14.25": {
            msg_h1: "25"
        },

        "KAVACH_DMI_14.26": {
            msg_h1: "26"
        },

        "KAVACH_DMI_14.27": {
            msg_h1: "27"
        },

        "KAVACH_DMI_14.28": {
            msg_h1: "28"
        },

        "KAVACH_DMI_14.29": {
            msg_h1: "29"
        },

        "KAVACH_DMI_14.30": {
            msg_h1: "30"
        },

        "KAVACH_DMI_14.31": {
            msg_h1: "31"
        },

        "KAVACH_DMI_14.32": {
            msg_h1: "32"
        },

        "KAVACH_DMI_14.33": {
            msg_h1: "33"
        },

        "KAVACH_DMI_14.34": {
            msg_h1: "34"
        },

        "KAVACH_DMI_14.35": {
            msg_h1: "35"
        },

        "KAVACH_DMI_14.36": {
            msg_h1: "36"
        },

        "KAVACH_DMI_14.37": {
            msg_h1: "37"
        },

        "KAVACH_DMI_14.38": {
            msg_h1: "38"
        },

        "KAVACH_DMI_14.39": {
            msg_h1: "39"
        },

        "KAVACH_DMI_14.40": {
            msg_h1: "40"
        },

        "KAVACH_DMI_14.41": {
            msg_h1: "41"
        },

        "KAVACH_DMI_14.42": {
            msg_h1: "42"
        },

        "KAVACH_DMI_14.43": {
            msg_h1: "43"
        },

        "KAVACH_DMI_14.44": {
            msg_h1: "44"
        },

        "KAVACH_DMI_14.45": {
            msg_h1: "45"
        },

        "KAVACH_DMI_14.46": {
            msg_h1: "46"
        },

        "KAVACH_DMI_14.47": {
            msg_h1: "47"
        },

        "KAVACH_DMI_14.48": {
            msg_h1: "48"
        },

        "KAVACH_DMI_14.49": {
            msg_h1: "49"
        },

        "KAVACH_DMI_14.50": {
            msg_h1: "50"
        },

        // KAVACH_DMI_15.xx - Verification of Message I1
        "KAVACH_DMI_15.01": {
            msg_i1: "1",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.02": {
            msg_i1: "2",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.03": {
            msg_i1: "3",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.04": {
            msg_i1: "4",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.05": {
            msg_i1: "5",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.06": {
            msg_i1: "6",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.07": {
            msg_i1: "7",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.08": {
            msg_i1: "8",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.09": {
            msg_i1: "9",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.10": {
            msg_i1: "10",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.11": {
            msg_i1: "11",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.12": {
            msg_i1: "12",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.13": {
            msg_i1: "13",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.14": {
            msg_i1: "14",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.16": {
            msg_i1: "16",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.17": {
            msg_i1: "17",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.18": {
            msg_i1: "18",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.19": {
            msg_i1: "19",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.20": {
            msg_i1: "20",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.21": {
            msg_i1: "21",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.22": {
            msg_i1: "22",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.23": {
            msg_i1: "23",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.24": {
            msg_i1: "24",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.25": {
            msg_i1: "25",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.26": {
            msg_i1: "26",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.27": {
            msg_i1: "27",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.28": {
            msg_i1: "28",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.29": {
            msg_i1: "29",
            current_speed: "0",
            modes_operation: "0"
        },

        "KAVACH_DMI_15.30": {
            msg_i1: "30",
            current_speed: "0",
            modes_operation: "0"
        },

        // KAVACH_DMI_17.01 - Verification of Train Length
        "KAVACH_DMI_17.01": {
            train_length_f1: "25",
            hide_show: "1",
            modes_operation: "0"
        },

        // KAVACH_DMI_17.02 - Verification of Train Length
        "KAVACH_DMI_17.02": {
            hide_show: "1",
            train_length_f1: "25",
            modes_operation: "0",
            loco_id: "789415"
        },

        // KAVACH_DMI_17.03 - Verification of Train Length
        "KAVACH_DMI_17.03": {
            train_length_f1: "0",
            modes_operation: "0",
            hide_show: "1"
        },

        // KAVACH_DMI_17.04 - Verification of Train Length
        "KAVACH_DMI_17.04": {
            train_length_f1: "650",
            modes_operation: "0",
            hide_show: "1"
        },

        // KAVACH_DMI_17.05 - Verification of Train Length
        "KAVACH_DMI_17.05": {
            train_length_f1: "2047",
            modes_operation: "0",
            hide_show: "1"
        },

        // KAVACH_DMI_17.06 - Verification of Train Length
        "KAVACH_DMI_17.06": {
            hide_show: "1",
            train_length_f1: "30",
            modes_operation: "0"
        },

        // KAVACH_DMI_17.07 - Verification of Train Length
        "KAVACH_DMI_17.07": {
            modes_operation: "0",
            train_length_f1: "25",
            hide_show: "1"
        },

        // KAVACH_DMI_17.08 - Verification of Train Length
        "KAVACH_DMI_17.08": {
            train_length_f1: "23",
            modes_operation: "0",
            hide_show: "1"
        },

        // KAVACH_DMI_17.09 - Verification of Train Length
        "KAVACH_DMI_17.09": {
            train_length_f1: "26",
            modes_operation: "0",
            hide_show: "1"
        },

        // KAVACH_DMI_18.01 - Verification of Deceleration
        "KAVACH_DMI_18.01": {
            deceleration_e1: "0.25",
            train_length_f1: "0",
            current_speed: "35",
            modes_operation: "0"
        },

        // KAVACH_DMI_18.02 - Verification of Deceleration
        "KAVACH_DMI_18.02": {
            deceleration_e1: "0.68",
            current_speed: "60",
            train_length_f1: "0",
            modes_operation: "0"
        },

        // KAVACH_DMI_18.03.01 - Verification of Deceleration
        "KAVACH_DMI_18.03.01": {
            current_speed: "35",
            deceleration_e1: "0.92",
            train_length_f1: "0",
            modes_operation: "0"
        },

        // KAVACH_DMI_18.03.02 - Verification of Deceleration
        "KAVACH_DMI_18.03.02": {
            current_speed: "50",
            deceleration_e1: "0.80",
            train_length_f1: "0",
            modes_operation: "0"
        },

        // KAVACH_DMI_18.03.03 - Verification of Deceleration
        "KAVACH_DMI_18.03.03": {
            current_speed: "70",
            deceleration_e1: "0.72",
            train_length_f1: "0",
            modes_operation: "0"
        },

        // KAVACH_DMI_18.03.04 - Verification of Deceleration
        "KAVACH_DMI_18.03.04": {
            current_speed: "90",
            deceleration_e1: "0.60",
            train_length_f1: "0",
            modes_operation: "0"
        },

        // KAVACH_DMI_18.04 - Verification of Deceleration
        "KAVACH_DMI_18.04": {
            deceleration_e1: "0.68",
            current_speed: "60",
            train_length_f1: "0",
            modes_operation: "0"
        },

        // KAVACH_DMI_19.xx - Verification of Mode of Operation
        "KAVACH_DMI_19.01": {
            modes_operation: "1"
        },

        "KAVACH_DMI_19.02": {
            modes_operation: "2"
        },

        "KAVACH_DMI_19.03": {
            modes_operation: "3"
        },

        "KAVACH_DMI_19.04": {
            modes_operation: "4"
        },

        "KAVACH_DMI_19.05": {
            modes_operation: "6"
        },

        "KAVACH_DMI_19.06": {
            modes_operation: "7"
        },

        "KAVACH_DMI_19.07": {
            modes_operation: "8"
        },

        "KAVACH_DMI_19.08": {
            modes_operation: "9"
        },

        "KAVACH_DMI_19.09": {
            modes_operation: "10"
        },

        "KAVACH_DMI_19.10": {
            modes_operation: "11"
        },

        "KAVACH_DMI_19.11": {
            modes_operation: "12"
        },

        "KAVACH_DMI_19.12": {
            modes_operation: "13"
        },

        // KAVACH_DMI_20.xx - Verification of WTP Data
        "KAVACH_DMI_20.02": {
            modes_operation: "8",
            active_inactive: "1"
        },

        "KAVACH_DMI_20.03": {
            modes_operation: "8",
            active_inactive: "1",
            loco_id: "111111"
        },

        "KAVACH_DMI_20.04": {
            modes_operation: "8",
            active_inactive: "1",
            loco_id: "111112"
        },

        "KAVACH_DMI_20.05": {
            modes_operation: "9",
            active_inactive: "1",
            loco_id: "111113"
        },

        "KAVACH_DMI_20.06": {
            modes_operation: "9",
            active_inactive: "1",
            loco_id: "111114"
        },

        "KAVACH_DMI_20.07": {
            modes_operation: "9",
            active_inactive: "1",
            loco_id: "111115"
        },

        "KAVACH_DMI_20.08": {
            modes_operation: "5",
            active_inactive: "1",
            loco_id: "111116"
        },

        "KAVACH_DMI_20.09": {
            modes_operation: "5",
            active_inactive: "1",
            loco_id: "121116"
        },

        "KAVACH_DMI_20.10": {
            modes_operation: "5",
            active_inactive: "1",
            loco_id: "112456"
        },

        "KAVACH_DMI_20.11": {
            modes_operation: "5",
            active_inactive: "1",
            loco_id: "123456"
        },

        "KAVACH_DMI_20.12": {
            modes_operation: "10",
            active_inactive: "1",
            loco_id: "123456"
        },

        "KAVACH_DMI_20.13": {
            modes_operation: "10",
            active_inactive: "1",
            loco_id: "123456"
        },

        "KAVACH_DMI_20.14": {
            modes_operation: "10",
            active_inactive: "1",
            loco_id: "124456"
        },

        "KAVACH_DMI_20.15": {
            modes_operation: "10",
            active_inactive: "1",
            loco_id: "123456"
        },

        "KAVACH_DMI_20.16": {
            msg_h1: "39",
            active_inactive: "1",
            loco_id: "123856"
        },

        "KAVACH_DMI_20.17": {
            msg_h1: "40",
            active_inactive: "1",
            loco_id: "123456"
        },

        "KAVACH_DMI_20.18": {
            msg_h1: "41",
            active_inactive: "1",
            loco_id: "123456"
        },

        "KAVACH_DMI_20.19": {
            msg_h1: "42",
            active_inactive: "1",
            loco_id: "123456"
        },

        "KAVACH_DMI_20.20": {
            msg_h1: "22",
            active_inactive: "1",
            loco_id: "123756"
        },

        "KAVACH_DMI_20.21": {
            modes_operation: "2",
            active_inactive: "1",
            loco_id: "123457"
        },

        "KAVACH_DMI_20.22": {
            modes_operation: "2",
            active_inactive: "1",
            loco_id: "125456"
        },

        "KAVACH_DMI_20.23": {
            modes_operation: "2",
            active_inactive: "1",
            loco_id: "113456"
        },

        // KAVACH_DMI_21.xx - Verification of Loco ID
        "KAVACH_DMI_21.01": {
            loco_id: "111101",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.02": {
            loco_id: "111102",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.03": {
            loco_id: "111103",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.04": {
            loco_id: "111104",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.05": {
            loco_id: "111105",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.06": {
            loco_id: "111106",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.07": {
            loco_id: "111107",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.08": {
            loco_id: "111108",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.09": {
            loco_id: "111109",
            active_inactive: "1"
        },

        " KAVACH_DMI_21.10": {
            loco_id: "111110",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.11": {
            loco_id: "111111",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.12": {
            loco_id: "111112",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.13": {
            loco_id: "111113",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.14": {
            loco_id: "111114",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.15": {
            loco_id: "111115",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.16": {
            loco_id: "111116",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.17": {
            loco_id: "111117",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.18": {
            loco_id: "111118",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.19": {
            loco_id: "111119",
            active_inactive: "1"
        },

        "KAVACH_DMI_21.20": {
            loco_id: "111120",
            active_inactive: "1"
        },


    // Default parameters for test case 22
    "KAVACH_DMI_22.default": {
        // Checksum Info section
        vpm1: "0", vpm1_version: "0", vpm2: "0", vpm2_version: "0",
        vic1: "0", vic1_version: "0", vic2: "0", vic2_version: "0",
        vim1: "0", vim1_version: "0", vim2: "0", vim2_version: "0",
        vom1: "0", vom1_version: "0", vom2: "0", vom2_version: "0",
        adl: "0", adl_version: "0", lpm: "0", lpm_version: "0",
        tcc: "0", tcc_version: "0",

        // RFID Reader Info section
        link1: "0", link2: "0", abs_loc: "0.00", direction: "0",
        last_tag1: "0", last_tag2: "0", key: "0", tin: "0", key_status: "0",

        // DMI COM Link Status section
        dmi1: "0", dmi2: "0",

        // Braking Interface Info section
        brake_status: "0", nbb: "0", fbb: "0", eb: "0", biu_type: "0", biu_link: "0",
        brake_test: "0", nb_feedback: "0", fsb_feedback: "0", eb_feedback: "0", eb_cock1: "0",
        biu_health: "0", mr: "0.00", bp: "0.00", bc: "0.00", eb_cock2: "0",

        // Speed Sensor section
        sensor1: "0", sensor2: "0", avg_speed: "0",

        // GPS Status section
        gps1_date: "0", gps1_month: "0", gps1_year: "0", gps1_hrs: "0", gps1_min: "0", gps1_sec: "0",
        gsm1: "0", gsm1_live_view: "0", gps2_date: "0", gps2_month: "0", gps2_year: "0",
        gps2_hrs: "0", gps2_min: "0", gps2_sec: "0", gsm2: "0", gsm2_live_view: "0", active_gps: "0",

        // Radio Status section
        radio1_status: "0", radio1_rad_temp: "0", radio1_pa_temp: "0", radio1_tx_power: "0",
        radio1_rev_power: "0", radio1_voltage: "0", radio1_rssi: "0",
        radio2_status: "0", radio2_rad_temp: "0", radio2_pa_temp: "0", radio2_tx_power: "0",
        radio2_rev_power: "0", radio2_voltage: "0", radio2_rssi: "0",

        // CAB Info section (CAB1)
        active_cab1: "0", cab1: "0", hpos1: "0", lead1: "0", non_lead1: "0", common1: "0",
        sos1: "0", ack1: "0", cab1_dmi_checksum: "0", cab1_dmi_version: "0",

        // CAB Info section (CAB2)
        active_cab2: "0", cab2: "0", hpos2: "0", lead2: "0", non_lead2: "0", common2: "0",
        sos2: "0", ack2: "0", cab2_dmi_checksum: "0", cab2_dmi_version: "0",

        // Other Functions section
        isolate: "0", traction: "0", horn1: "0", horn2: "0",

        // Loco ID section
        loco_id: "0"
    },

    // KAVACH_DMI_22.xx - Info Data page packets
    "KAVACH_DMI_22.01": {
        vpm1: "0x990951BA",
        vpm1_version: "1",
        vpm2: "0x076DC419",
        vpm2_version: "1"
    },

    "KAVACH_DMI_22.02": {
        vpm1: "0x7EB17CBD",
        vpm1_version: "0",
        vpm2: "0xE7B82D07",
        vpm2_version: "0"
    },

    "KAVACH_DMI_22.03": {
        adl: "0xE7B82D07",
        adl_version: "1"
    },

    "KAVACH_DMI_22.04": {
        adl: "0xE7B82D07",
        adl_version: "0"
    },

    "KAVACH_DMI_22.05": {
        cab1_dmi_checksum: "0xABD13D59",
        cab1_dmi_version: "1"
    },

    "KAVACH_DMI_22.06": {
        cab1_dmi_checksum: "0xABD13D59",
        cab1_dmi_version: "0"
    },

    "KAVACH_DMI_22.07": {
        cab2_dmi_checksum: "0xABD13D59",
        cab2_dmi_version: "1"
    },

    "KAVACH_DMI_22.08": {
        cab2_dmi_checksum: "0xABD13D59",
        cab2_dmi_version: "0"
    },

    "KAVACH_DMI_22.09": {
        tcc: "0x90BF1D91",
        tcc_version: "1"
    },

    "KAVACH_DMI_22.11": {
        vpm1: "0x990951BA",
        vpm1_version: "1",
        vpm2: "0x076DC419",
        vpm2_version: "1",
        vic1: "0xB10BE924",
        vic1_version: "1",
        vic2: "0x4B04D447",
        vic2_version: "1",
        vim1: "0x9FBFE4A5",
        vim1_version: "1",
        vim2: "0xD3D6F4FB",
        vim2_version: "1",
        vom1: "0xE3630B12",
        vom1_version: "1",
        vom2: "0x43630B12",
        vom2_version: "1",
        adl: "0xE7B82D07",
        adl_version: "1",
        lpm: "0x43630B12",
        lpm_version: "1",
        tcc: "0x90BF1D91",
        tcc_version: "1"
    },

    "KAVACH_DMI_22.12": {
        vpm1: "0x5F058808",
        vpm1_version: "1",
        vpm2: "0x646BA8C0",
        vpm2_version: "1",
        vic1: "0x270241AA",
        vic1_version: "1",
        vic2: "0x4B04D447",
        vic2_version: "1",
        vim1: "0x9FBFE4A5",
        vim1_version: "1",
        vim2: "0xD3D6F4FB",
        vim2_version: "1",
        vom1: "0xE3630B12",
        vom1_version: "1",
        vom2: "0x43630B12",
        vom2_version: "1",
        adl: "0xE7B82D07",
        adl_version: "1",
        lpm: "0x43630B12",
        lpm_version: "1",
        tcc: "0x90BF1D91",
        tcc_version: "1"
    },

    "KAVACH_DMI_22.14": {
        link1: "0",
        link2: "1"
    },

    "KAVACH_DMI_22.15": {
        link1: "1",
        link2: "0"
    },

    "KAVACH_DMI_22.16": {
        gps1_hrs: "0",
        gps2_hrs: "1"
    },

    "KAVACH_DMI_22.17": {
        gps1_hrs: "1",
        gps2_hrs: "0"
    },

    "KAVACH_DMI_22.18": {
        gsm1_live_view: "3",
        gsm2_live_view: "3"
    },

    "KAVACH_DMI_22.19": {
        radio1_status: "1",
        radio2_status: "1",
        radio1_tx_power: "8",
        radio2_tx_power: "7",
        radio1_rev_power: "54",
        radio2_rev_power: "14",
        radio1_rad_temp: "26",
        radio2_rad_temp: "37",
        radio1_pa_temp: "34",
        radio2_pa_temp: "60",
        radio1_voltage: "12",
        radio2_voltage: "23",
        radio1_rssi: "20",
        radio2_rssi: "30"
    },

    "KAVACH_DMI_22.20": {
        radio1_status: "0",
        radio1_tx_power: "0",
        radio1_rev_power: "0",
        radio1_rad_temp: "0",
        radio1_pa_temp: "0",
        radio1_voltage: "0",
        radio1_rssi: "0",
        radio2_status: "1",
        radio2_tx_power: "7",
        radio2_rev_power: "14",
        radio2_rad_temp: "37",
        radio2_pa_temp: "60",
        radio2_voltage: "23",
        radio2_rssi: "30"
    },

    "KAVACH_DMI_22.21": {
        radio1_status: "1",
        radio1_tx_power: "8",
        radio1_rev_power: "54",
        radio1_rad_temp: "26",
        radio1_pa_temp: "34",
        radio1_voltage: "12",
        radio1_rssi: "20",
        radio2_status: "0",
        radio2_tx_power: "0",
        radio2_rev_power: "0",
        radio2_rad_temp: "0",
        radio2_pa_temp: "0",
        radio2_voltage: "0",
        radio2_rssi: "0"
    },

    "KAVACH_DMI_22.22": {
        radio1_tx_power: "10",
        radio1_rev_power: "10"
    },

    "KAVACH_DMI_22.23": {
        radio2_tx_power: "10",
        radio2_rev_power: "10"
    },

    "KAVACH_DMI_22.24": {
        radio1_pa_temp: "45",
        radio1_status: "1",
        radio1_tx_power: "8",
        radio1_rev_power: "54",
        radio1_rad_temp: "26",
        radio1_pa_temp: "34",
        radio1_voltage: "12",
        radio1_rssi: "20",
        radio2_status: "0",
        radio2_tx_power: "0",
        radio2_rev_power: "0",
        radio2_rad_temp: "0",
        radio2_voltage: "0",
        radio2_rssi: "0"
    },

    "KAVACH_DMI_22.25": {
        radio2_pa_temp: "-25",
        radio1_status: "1",
        radio1_tx_power: "8",
        radio1_rev_power: "54",
        radio1_rad_temp: "26",
        radio1_pa_temp: "34",
        radio1_voltage: "12",
        radio1_rssi: "20",
        radio2_status: "0",
        radio2_tx_power: "0",
        radio2_rev_power: "0",
        radio2_rad_temp: "0",
        radio2_voltage: "0",
        radio2_rssi: "0"
    },

    "KAVACH_DMI_22.26": {
        key_status: "1"
    },

    "KAVACH_DMI_22.27": {
        common1: "0",
        common2: "1"
    },

    "KAVACH_DMI_22.28": {
        common1: "1",
        common2: "0"
    },

    // Special case for $10|FF|7|
    "$10|FF|7|": {
        vpm1: "0x5F058808",
        vpm1_version: "1",
        vpm2: "0x646BA8C0",
        vpm2_version: "1",
        vic1: "0x270241AA",
        vic1_version: "1",
        vic2: "0x4B04D447",
        vic2_version: "1",
        vim1: "0x9FBFE4A5",
        vim1_version: "1",
        vim2: "0xD3D6F4FB",
        vim2_version: "1",
        vom1: "0xE3630B12",
        vom1_version: "1",
        vom2: "0x43630B12",
        vom2_version: "1",
        adl: "0xE7B82D07",
        adl_version: "1",
        lpm: "0x43630B12",
        lpm_version: "1",
        tcc: "0x43630B12",
        tcc_version: "1",
        link1: "1",
        link2: "1",
        abs_loc: "228.56",
        direction: "2",
        last_tag1: "554",
        last_tag2: "934",
        key: "0",
        tin: "55",
        key_status: "1",
        dmi1: "1",
        dmi2: "1",
        brake_status: "3",
        nbb: "1",
        fbb: "1",
        eb: "1",
        eb_cock1: "1",
        eb_cock2: "1",
        biu_health: "1",
        bc: "3.50",
        bp: "3.50",
        mr: "3.50",
        sensor1: "120",
        sensor2: "120",
        avg_speed: "120",
        gps1_hrs: "1",
        gsm1_live_view: "3",
        gps2_hrs: "1",
        gsm2_live_view: "3",
        active_gps: "1",
        radio1_status: "1",
        radio1_tx_power: "10",
        radio1_pa_temp: "-1",
        radio1_rad_temp: "24",
        radio1_rev_power: "34",
        radio1_voltage: "23",
        radio1_rssi: "20",
        radio2_status: "1",
        radio2_tx_power: "8",
        radio2_pa_temp: "24",
        radio2_rad_temp: "46",
        radio2_rev_power: "28",
        radio2_voltage: "12",
        radio2_rssi: "20",
        active_cab1: "1",
        cab1: "1",
        hpos1: "1",
        lead1: "1",
        non_lead1: "1",
        common1: "1",
        sos1: "1",
        ack1: "1",
        cab1_dmi_checksum: "0x5F058808",
        cab1_dmi_version: "1",
        active_cab2: "1",
        cab2: "1",
        hpos2: "1",
        lead2: "1",
        non_lead2: "1",
        common2: "1",
        sos2: "1",
        ack2: "1",
        cab2_dmi_checksum: "0x5F058808",
        cab2_dmi_version: "1",
        isolate: "1",
        traction: "1",
        horn1: "1",
        horn2: "1"
    }
};

// Format test case packet with CRC
function formatTestCasePacket(testCaseId) {
    // Special handling for test case 22 and $10|FF|7|
    if (testCaseId.includes("KAVACH_DMI_22.") || testCaseId.includes("$10|FF|7|")) {
        // Get default parameters for test case 22
        let params = {...testCaseParameters["KAVACH_DMI_22.default"]};

        // Override with test case specific parameters
        if (testCaseId === "$10|FF|7|") {
            params = {...params, ...testCaseParameters["$10|FF|7|"]};
        } else if (testCaseParameters[testCaseId]) {
            params = {...params, ...testCaseParameters[testCaseId]};
        }

        // Extract the test case number for KAVACH_DMI_22.xx
        if (testCaseId.includes("KAVACH_DMI_22.")) {
            const match = testCaseId.match(/KAVACH_DMI_22\.(\d+)/);
            if (match) {
                const testCaseNumber = parseInt(match[1]);
                let locoId = 111110 + testCaseNumber;

                if (locoId > 999999) {
                    locoId = 111111 + (locoId - 111111) % (999999 - 111111 + 1);
                }

                params.loco_id = locoId.toString();
            }
        }

        // Set the date and time for the packet (if not set by the test case)
        if (params.gps1_date === "0") {
            const now = new Date();
            params.gps1_date = now.getDate().toString().padStart(2, '0');
            params.gps1_month = (now.getMonth() + 1).toString().padStart(2, '0');
            params.gps1_year = now.getFullYear().toString();
            params.gps1_hrs = now.getHours().toString().padStart(2, '0');
            params.gps1_min = now.getMinutes().toString().padStart(2, '0');
            params.gps1_sec = now.getSeconds().toString().padStart(2, '0');
            params.gps2_date = now.getDate().toString().padStart(2, '0');
            params.gps2_month = (now.getMonth() + 1).toString().padStart(2, '0');
            params.gps2_year = now.getFullYear().toString();
            params.gps2_hrs = now.getHours().toString().padStart(2, '0');
            params.gps2_min = now.getMinutes().toString().padStart(2, '0');
            params.gps2_sec = now.getSeconds().toString().padStart(2, '0');
        }

        // Format the packet string for test case 22
        let packet = `$20,${globalSequence}|`; // SNO

        // Checksum Info section
        packet += `${params.vpm1}/${params.vpm1_version},${params.vpm2}/${params.vpm2_version},${params.vic1}/${params.vic1_version},${params.vic2}/${params.vic2_version},${params.vim1}/${params.vim1_version},${params.vim2}/${params.vim2_version},${params.vom1}/${params.vom1_version},${params.vom2}/${params.vom2_version},${params.adl}/${params.adl_version},${params.lpm}/${params.lpm_version},${params.tcc}|`;

        // RFID Reader Info section
        packet += `${params.link1},${params.link2},${params.abs_loc},${params.direction},${params.last_tag1},${params.last_tag2},${params.key},${params.tin},${params.key_status}|`;

        // DMI COM Link Status section
        packet += `${params.dmi1},${params.dmi2}|`;

        // Braking Interface Info section
        packet += `${params.brake_status},${params.nbb},${params.fbb},${params.eb},${params.biu_type},${params.biu_link},${params.brake_test},${params.nb_feedback},${params.fsb_feedback},${params.eb_feedback},${params.eb_cock1},${params.biu_health},${params.mr},${params.bp},${params.bc},${params.eb_cock2}|`;

        // Speed Sensor section
        packet += `${params.sensor1},${params.sensor2},${params.avg_speed}|`;

        // GPS Status section
        packet += `${params.gps1_date},${params.gps1_month},${params.gps1_year},${params.gps1_hrs},${params.gps1_min},${params.gps1_sec},${params.gsm1},${params.gsm1_live_view},${params.gps2_date},${params.gps2_month},${params.gps2_year},${params.gps2_hrs},${params.gps2_min},${params.gps2_sec},${params.gsm2},${params.gsm2_live_view},${params.active_gps}|`;

        // Radio Status section
        packet += `${params.radio1_status},${params.radio1_rad_temp}/${params.radio1_pa_temp},${params.radio1_tx_power}/${params.radio1_rev_power},${params.radio1_voltage},${params.radio1_rssi},${params.radio2_status},${params.radio2_rad_temp}/${params.radio2_pa_temp},${params.radio2_tx_power}/${params.radio2_rev_power},${params.radio2_voltage},${params.radio2_rssi}|`;

        // CAB Info section (CAB1)
        packet += `${params.active_cab1},${params.cab1},${params.hpos1},${params.lead1},${params.non_lead1},${params.common1},${params.sos1},${params.ack1},${params.cab1_dmi_checksum}/${params.cab1_dmi_version}|`;

        // CAB Info section (CAB2)
        packet += `${params.active_cab2},${params.cab2},${params.hpos2},${params.lead2},${params.non_lead2},${params.common2},${params.sos2},${params.ack2},${params.cab2_dmi_checksum}/${params.cab2_dmi_version}|`;

        // Other Functions section
        packet += `${params.isolate},${params.traction},${params.horn1},${params.horn2}|`;

        // Loco ID section
        packet += `${params.loco_id}|`;

        // Calculate CRC
        const packetBytes = stringToAsciiByteArray(packet);
        const crc = calculateModbusCRC16(packetBytes);

        // Return complete packet with CRC
        return packet + crc + '|\r\n';
    }
    // Special handling for KAVACH_DMI_23., KAVACH_DMI_24., KAVACH_DMI_25.
    else if (testCaseId.startsWith("KAVACH_DMI_23.") ||
             testCaseId.startsWith("KAVACH_DMI_24.") ||
             testCaseId.startsWith("KAVACH_DMI_25.")) {
        const match = testCaseId.match(/KAVACH_DMI_(\d+)\.(\d+)/);
        if (match) {
            const majorId = parseInt(match[1]);
            return formatTestCasePacketWithModes(testCaseId, majorId.toString());
        }
    }

    // Get parameters for this test case
    let params = {...testCaseParameters["default"]};

    // Override with test case specific parameters
    if (testCaseParameters[testCaseId]) {
        params = {...params, ...testCaseParameters[testCaseId]};
    }

    // Apply special logic for test cases with dynamic values
    if (testCaseId.includes("KAVACH_DMI_04.04.")) {
        // Extract the index from test case ID like "KAVACH_DMI_04.04.01"
        const match = testCaseId.match(/KAVACH_DMI_04\.04\.(\d+)/);
        if (match) {
            const index = parseInt(match[1]);
            // Speed sequence for circle verification
            const speedSequence = [
                2, 14, 26, 38, 52, 64, 76, 88, 92, 104,
                116, 128, 142, 154, 166, 178, 192, 202, 214, 226,
                238, 253
            ];

            if (index >= 1 && index <= 22) {
                params.current_speed = speedSequence[index - 1].toString();
                params.loco_id = (188426 + index - 1).toString();
            }
        }
    }

    if (testCaseId.includes("KAVACH_DMI_19.")) {
        // Extract the index from test case ID like "KAVACH_DMI_19.01"
        const match = testCaseId.match(/KAVACH_DMI_19\.(\d+)/);
        if (match) {
            let id = parseInt(match[1]);
            if (id > 4) {
                id = id + 1;
            }
            params.modes_operation = id.toString();
        }
    }

    if (testCaseId.includes("KAVACH_DMI_21.")) {
        // Extract the index from test case ID like "KAVACH_DMI_21.01"
        const match = testCaseId.match(/KAVACH_DMI_21\.(\d+)/);
        if (match) {
            const id = parseInt(match[1]);
            params.loco_id = (111100 + id).toString();
            params.active_inactive = "1";
        }
    }

    // Set current date and time
    const now = new Date();
    const date = now.getDate().toString().padStart(2, '0');
    const month = (now.getMonth() + 1).toString().padStart(2, '0');
    const year = now.getFullYear();
    const hour = now.getHours().toString().padStart(2, '0');
    const minute = now.getMinutes().toString().padStart(2, '0');
    const second = now.getSeconds().toString().padStart(2, '0');

    // Override date/time for time-only test cases
    if (!testCaseId.includes("KAVACH_DMI_02.10") &&
        !testCaseId.includes("KAVACH_DMI_02.11") &&
        !testCaseId.includes("KAVACH_DMI_02.12")) {
        params.date = date;
        params.month = month;
        params.year = year.toString();
    } else {
        params.date = "0";
        params.month = "0";
        params.year = "0";
    }

    params.hour = hour;
    params.minute = minute;
    params.second = second;

    // Build packet string
    let packetData = `$10,${globalSequence}|${params.target_distance}|${params.type_of_target}|${params.current_speed}|${params.permiss_speed},${params.b11}|${params.loco_id}|${params.date},${params.month},${params.year},${params.hour},${params.minute},${params.second}|${params.lower_speed}|${params.type_brake}|${params.abs_location}|${params.modes_operation}|${params.distance_ma_c1}|${params.signal_aspect},${params.hide_show}|${params.type_of_signal}|${params.app_distance_d2}|${params.line_number_d3},${params.signal_post_type}|${params.deceleration_e1}|${params.train_length_f1}|${params.msg_h1}|${params.msg_i1}|${params.radio_strength},${params.radio_strength_2}|${params.rfid_l1},${params.direction_l2},${params.distance_l3}|${params.tag_m1},${params.tag_m2},${params.tag_m3}|${params.line_d3x}|${params.msg_h1x}|${params.msg_h1y}|${params.msg_i1x}|${params.active_inactive}|${params.buzzer}|`;

    // Calculate CRC
    const packetBytes = stringToAsciiByteArray(packetData);
    const crc = calculateModbusCRC16(packetBytes);

    // Return complete packet with CRC
    return packetData + crc + '|\r\n';
}

// Helper function for KAVACH_DMI_23., KAVACH_DMI_24., KAVACH_DMI_25.
function formatTestCasePacketWithModes(testCaseId, modesOperation) {
    // Get parameters for this test case
    let params = {...testCaseParameters["default"]};
    params.modes_operation = modesOperation;

    // Set current date and time
    const now = new Date();
    const date = now.getDate().toString().padStart(2, '0');
    const month = (now.getMonth() + 1).toString().padStart(2, '0');
    const year = now.getFullYear();
    const hour = now.getHours().toString().padStart(2, '0');
    const minute = now.getMinutes().toString().padStart(2, '0');
    const second = now.getSeconds().toString().padStart(2, '0');

    params.date = date;
    params.month = month;
    params.year = year.toString();
    params.hour = hour;
    params.minute = minute;
    params.second = second;

    // Build packet string
    let packetData = `$10,${globalSequence}|${params.target_distance}|${params.type_of_target}|${params.current_speed}|${params.permiss_speed},${params.b11}|${params.loco_id}|${params.date},${params.month},${params.year},${params.hour},${params.minute},${params.second}|${params.lower_speed}|${params.type_brake}|${params.abs_location}|${params.modes_operation}|${params.distance_ma_c1}|${params.signal_aspect},${params.hide_show}|${params.type_of_signal}|${params.app_distance_d2}|${params.line_number_d3},${params.signal_post_type}|${params.deceleration_e1}|${params.train_length_f1}|${params.msg_h1}|${params.msg_i1}|${params.radio_strength},${params.radio_strength_2}|${params.rfid_l1},${params.direction_l2},${params.distance_l3}|${params.tag_m1},${params.tag_m2},${params.tag_m3}|${params.line_d3x}|${params.msg_h1x}|${params.msg_h1y}|${params.msg_i1x}|${params.active_inactive}|${params.buzzer}|`;

    // Calculate CRC
    const packetBytes = stringToAsciiByteArray(packetData);
    const crc = calculateModbusCRC16(packetBytes);

    // Return complete packet with CRC
    return packetData + crc + '|\r\n';
}


    // Test case execution state
    let testExecutionState = {
      isActive: false,
      isPaused: false,
      currentIndex: 0,
      totalProcessed: 0,
      totalFailed: 0,
      totalSkipped: 0,
      totalExecuted: 0,
      retryCount: 0,
      imageRetryCount: 0,
      consecutiveCount: 0,
      maxRetryCount: 3,
      maxConsecutiveCount: 3,
      pendingTestCase: "",
      waitForAck: false,
      waitForScreenshot: false,
      accumulatedData: "",
      currentTestCaseId: ""
    };

    // Timers
    let ackTimer = null;
    let screenshotTimer = null;
    let progressTimer = null;

    // Initialize test cases page
    function initializeTestCasesPage() {
      // Populate the table with test cases
      populateTestCasesTable(testCasesData);

      // Set up event listeners
      document.getElementById("startTestingBtn").addEventListener("click", startTesting);
      document.getElementById("stopTestingBtn").addEventListener("click", stopTesting);
      document.getElementById("pauseTestingBtn").addEventListener("click", pauseTesting);
      document.getElementById("resumeTestingBtn").addEventListener("click", resumeTesting);
      document.getElementById("clearButton").addEventListener("click", clearResults);
      document.getElementById("selectAllCheckbox").addEventListener("change", selectAllTestCases);
      document.getElementById("deselectAllCheckbox").addEventListener("change", deselectAllTestCases);
      document.getElementById("closeSummaryBtn").addEventListener("click", closeSummaryDialog);
      document.getElementById("closeDetailsBtn").addEventListener("click", closeDetailsDialog);
      document.getElementById("runSingleTestBtn").addEventListener("click", runSingleTest);
    }

    // Populate test cases table
    function populateTestCasesTable(testCases) {
      const tbody = document.querySelector("#testCasesTable tbody");
      tbody.innerHTML = "";

      testCases.forEach((testCase, index) => {
        const row = document.createElement("tr");
        row.className = "test-case-row";
        row.dataset.index = index;
        row.dataset.testCaseId = testCase.id;

        // Checkbox cell
        const checkboxCell = document.createElement("td");
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.className = "test-case-checkbox";
        checkbox.dataset.index = index;
        checkboxCell.appendChild(checkbox);
        row.appendChild(checkboxCell);

        // Test case ID cell
        const idCell = document.createElement("td");
        idCell.className = "test-case-id";
        idCell.textContent = testCase.id;
        idCell.title = testCase.type; // Tooltip for test case type
        row.appendChild(idCell);

        // Test case name cell
        const nameCell = document.createElement("td");
        nameCell.className = "test-case-name";
        nameCell.textContent = testCase.name;
        nameCell.title = testCase.description; // Tooltip for description
        row.appendChild(nameCell);

        // Progress cell
        const progressCell = document.createElement("td");
        progressCell.className = "test-case-progress";
        progressCell.textContent = "NOT_TESTED";
        row.appendChild(progressCell);

        // Add click event to show details
        row.addEventListener("click", function(e) {
          // Don't trigger if clicking on checkbox
          if (e.target.type !== "checkbox") {
            showTestCaseDetails(testCase);
          }
        });

        tbody.appendChild(row);
      });
    }

    // Show test case details dialog
    function showTestCaseDetails(testCase) {
      const dialog = document.getElementById("testcaseDetailsDialog");
      const content = document.getElementById("testcaseDetailsContent");

      content.innerHTML = `
        <div class="testcase-details-grid">
          <div class="form-group">
            <label>Test Case ID:</label>
            <input type="text" value="${testCase.id}" readonly>
          </div>
          <div class="form-group">
            <label>Test Case Name:</label>
            <input type="text" value="${testCase.name}" readonly>
          </div>
          <div class="form-group">
            <label>Description:</label>
            <input type="text" value="${testCase.description}" readonly>
          </div>
          <div class="form-group">
            <label>Type:</label>
            <input type="text" value="${testCase.type}" readonly>
          </div>
        </div>
      `;

      dialog.style.display = "block";

      // Store the current test case for potential execution
      dialog.dataset.testCaseId = testCase.id;
      dialog.dataset.testCaseName = testCase.name;
    }

    // Close details dialog
    function closeDetailsDialog() {
      const dialog = document.getElementById("testcaseDetailsDialog");
      dialog.style.display = "none";
    }

    // Run a single test case
    function runSingleTest() {
      const dialog = document.getElementById("testcaseDetailsDialog");
      const testCaseId = dialog.dataset.testCaseId;
      const testCaseName = dialog.dataset.testCaseName;

      if (!testCaseId) return;

      // Close the details dialog
      closeDetailsDialog();

      // Send the test case
      const testData = `$${testCaseId}|${testCaseName}#\r\n`;
      logLine(`Sending test case: ${testData}`);
      sendSerialData(testData);

      showNotification(`Running test case: ${testCaseId}`, "info");
    }

    // Start testing
    function startTesting() {
      // Check for connection
      if ((useLocalSerial && !serialPort) || (!useLocalSerial && (!websocket || websocket.readyState !== WebSocket.OPEN))) {
        showNotification("Please connect to a COM port before starting tests.", "error");
        return;
      }

      // Check if any test cases are selected
      const selectedTestCases = getSelectedTestCases();
      if (selectedTestCases.length === 0) {
        showNotification("No test cases selected.", "warning");
        return;
      }

      // Reset state
      testExecutionState.isActive = true;
      testExecutionState.isPaused = false;
      testExecutionState.currentIndex = 0;
      testExecutionState.totalProcessed = 0;
      testExecutionState.totalFailed = 0;
      testExecutionState.totalSkipped = 0;
      testExecutionState.totalExecuted = 0;
      testExecutionState.retryCount = 0;
      testExecutionState.imageRetryCount = 0;
      testExecutionState.consecutiveCount = 0;

      // Update UI
      document.getElementById("startTestingBtn").disabled = true;
      document.getElementById("stopTestingBtn").disabled = false;
      document.getElementById("pauseTestingBtn").disabled = false;
      document.getElementById("resumeTestingBtn").disabled = true;

      // Show progress dialog
      showProgressDialog();

      // Start processing test cases
      processNextTestCase();
    }

    // Stop testing
    function stopTesting() {
      testExecutionState.isActive = false;
      testExecutionState.isPaused = false;
      testExecutionState.waitForAck = false;
      testExecutionState.waitForScreenshot = false;

      // Clear timers
      if (ackTimer) {
        clearTimeout(ackTimer);
        ackTimer = null;
      }
      if (screenshotTimer) {
        clearTimeout(screenshotTimer);
        screenshotTimer = null;
      }
      if (progressTimer) {
        clearInterval(progressTimer);
        progressTimer = null;
      }

      // Update UI
      document.getElementById("startTestingBtn").disabled = false;
      document.getElementById("stopTestingBtn").disabled = true;
      document.getElementById("pauseTestingBtn").disabled = true;
      document.getElementById("resumeTestingBtn").disabled = true;

      // Hide progress dialog
      hideProgressDialog();

      showNotification("Testing stopped.", "info");
    }

    // Pause testing
    function pauseTesting() {
      if (!testExecutionState.isActive || testExecutionState.isPaused) return;

      testExecutionState.isPaused = true;

      // Update UI
      document.getElementById("pauseTestingBtn").disabled = true;
      document.getElementById("resumeTestingBtn").disabled = false;

      showNotification("Testing paused.", "info");
    }

    // Resume testing
    function resumeTesting() {
      if (!testExecutionState.isActive || !testExecutionState.isPaused) return;

      testExecutionState.isPaused = false;

      // Update UI
      document.getElementById("pauseTestingBtn").disabled = false;
      document.getElementById("resumeTestingBtn").disabled = true;

      // Continue processing
      processNextTestCase();

      showNotification("Testing resumed.", "info");
    }

    // Clear results
    function clearResults() {
      const rows = document.querySelectorAll("#testCasesTable tbody tr");

      // Reset all rows
      rows.forEach((row, index) => {
        // Uncheck checkbox
        const checkbox = row.querySelector(".test-case-checkbox");
        if (checkbox) checkbox.checked = false;

        // Reset styling
        row.className = "test-case-row";

        // Reset progress
        const progressCell = row.querySelector(".test-case-progress");
        if (progressCell) {
          progressCell.textContent = "NOT_TESTED";
          progressCell.innerHTML = "NOT_TESTED";
        }
      });

      showNotification("Results cleared.", "success");
    }

    // Select all test cases
    function selectAllTestCases() {
      const checkboxes = document.querySelectorAll(".test-case-checkbox");
      checkboxes.forEach(checkbox => {
        checkbox.checked = true;
      });

      // Reset the checkbox after a short delay
      setTimeout(() => {
        document.getElementById("selectAllCheckbox").checked = false;
      }, 100);
    }

    // Deselect all test cases
    function deselectAllTestCases() {
      const checkboxes = document.querySelectorAll(".test-case-checkbox");
      checkboxes.forEach(checkbox => {
        checkbox.checked = false;
      });

      // Reset the checkbox after a short delay
      setTimeout(() => {
        document.getElementById("deselectAllCheckbox").checked = false;
      }, 100);
    }

    // Get selected test cases
    function getSelectedTestCases() {
      const checkboxes = document.querySelectorAll(".test-case-checkbox:checked");
      return Array.from(checkboxes).map(checkbox => {
        const index = parseInt(checkbox.dataset.index);
        return testCasesData[index];
      });
    }
    function processNextTestCase() {
      if (!testExecutionState.isActive || testExecutionState.waitForAck || testExecutionState.isPaused) {
        return;
      }

      // Check if we've processed all test cases
      if (testExecutionState.currentIndex >= testCasesData.length) {
        completeTesting();
        //logLine("INFO: All test cases completed. Auto-downloading Excel file...");
        //downloadFinalExcel();
        return;
      }

      const testCase = testCasesData[testExecutionState.currentIndex];
      const testCaseId = testCase.id;
      const testCaseName = testCase.name;
      const testCaseType = testCase.type;

      // Set the current test case ID
      testExecutionState.currentTestCaseId = testCaseId;

      // Update UI if we're on the test page
      if (document.getElementById('StartTest').style.display !== 'none') {
        const rows = document.querySelectorAll("#testCasesTable tbody tr");

        // Find the corresponding row in the table
        let row = null;
        for (let i = 0; i < rows.length; i++) {
          const rowTestCaseId = rows[i].querySelector(".test-case-id").textContent;
          if (rowTestCaseId === testCaseId) {
            row = rows[i];
            break;
          }
        }

        if (row) {
          const checkbox = row.querySelector(".test-case-checkbox");

          // Scroll to current row and highlight it
          row.scrollIntoView({ behavior: "smooth", block: "center" });
          row.classList.add("processing");

          // Skip unselected test cases
          if (!checkbox.checked) {
            testExecutionState.totalSkipped++;
            markTestCaseSkipped(row);
            testExecutionState.currentIndex++;
            setTimeout(processNextTestCase, 10);
            return;
          }
        }
      }

      testExecutionState.totalExecuted++;

      // Skip manual test cases
      if (testCaseType === "Manual Type") {
        testExecutionState.totalSkipped++;

        // Update UI if we're on the test page
        if (document.getElementById('StartTest').style.display !== 'none') {
          const rows = document.querySelectorAll("#testCasesTable tbody tr");
          for (let i = 0; i < rows.length; i++) {
            const rowTestCaseId = rows[i].querySelector(".test-case-id").textContent;
            if (rowTestCaseId === testCaseId) {
              markTestCaseSkipped(rows[i]);
              break;
            }
          }
        }

        testExecutionState.currentIndex++;
        setTimeout(processNextTestCase, 100);
        return;
      }

      // Format and send the test case packet directly
      const packet = formatTestCasePacket(testCaseId);
      logLine(`Sending packet for test case : ${testCaseId}`);
      sendSerialData(packet);

      // Set up timeout for response (either ACK or screenshot)
      testExecutionState.waitForAck = true;
      ackTimer = setTimeout(() => {
        handleResponseTimeout();
      }, 30000); // 30 seconds timeout
    }

    function handleResponseTimeout() {
      if (!testExecutionState.isActive) return;

      testExecutionState.retryCount++;

      if (testExecutionState.retryCount < testExecutionState.maxRetryCount) {
        // Retry the test case
        const row = document.querySelectorAll("#testCasesTable tbody tr")[testExecutionState.currentIndex];
        const testCaseId = row.querySelector(".test-case-id").textContent;
        const testCaseName = row.querySelector(".test-case-name").textContent;

        const testData = `$${testCaseId}|${testCaseName}#\r\n`;
        logLine(`Retrying test case (${testExecutionState.retryCount}/${testExecutionState.maxRetryCount}): ${testData}`);
        sendSerialData(testData);

        testExecutionState.waitForAck = true;
        ackTimer = setTimeout(() => {
          handleResponseTimeout();
        }, 50000);
      } else {
        // Mark as failed and move to next
        const row = document.querySelectorAll("#testCasesTable tbody tr")[testExecutionState.currentIndex];
        markTestCaseFailed(row);

        testExecutionState.retryCount = 0;
        testExecutionState.waitForAck = false;

        if (testExecutionState.consecutiveCount >= testExecutionState.maxConsecutiveCount) {
          showNotification("Server not responding. Testing terminated.", "error");
          stopTesting();
          return;
        }

        testExecutionState.currentIndex++;
        setTimeout(processNextTestCase, 3000);
      }
    }

    // Mark test case as skipped
    function markTestCaseSkipped(row) {
      row.classList.remove("processing");
      row.classList.add("skipped");

      const progressCell = row.querySelector(".test-case-progress");
      progressCell.textContent = "NOT_COMPLETE";
    }

    // Mark test case as passed
    function markTestCasePassed(row) {
      row.classList.remove("processing");
      row.classList.add("passed");

      const progressCell = row.querySelector(".test-case-progress");
      progressCell.innerHTML = '<i class="fa-solid fa-check-circle"></i> TESTCASE_COMPLETE';

      testExecutionState.totalProcessed++;
      testExecutionState.consecutiveCount = 0;
    }

    // Mark test case as failed
    function markTestCaseFailed(row) {
      row.classList.remove("processing");
      row.classList.add("failed");

      const progressCell = row.querySelector(".test-case-progress");
      progressCell.innerHTML = '<i class="fa-solid fa-times-circle"></i> TESTCASE_FAIL';

      testExecutionState.totalFailed++;
      testExecutionState.consecutiveCount++;
    }

    // Handle ACK timeout
    function handleAckTimeout() {
      if (!testExecutionState.isActive) return;

      testExecutionState.retryCount++;

      if (testExecutionState.retryCount < testExecutionState.maxRetryCount) {
        // Retry the test case
        const row = document.querySelectorAll("#testCasesTable tbody tr")[testExecutionState.currentIndex];
        const testCaseId = row.querySelector(".test-case-id").textContent;
        const testCaseName = row.querySelector(".test-case-name").textContent;

        const testData = `$${testCaseId}|${testCaseName}#\r\n`;
        logLine(`Retrying test case (${testExecutionState.retryCount}/${testExecutionState.maxRetryCount}): ${testData}`);
        sendSerialData(testData);

        testExecutionState.waitForAck = true;
        ackTimer = setTimeout(() => {
          handleAckTimeout();
        }, 30000);
      } else {
        // Mark as failed and move to next
        const row = document.querySelectorAll("#testCasesTable tbody tr")[testExecutionState.currentIndex];
        markTestCaseFailed(row);

        testExecutionState.retryCount = 0;
        testExecutionState.imageRetryCount = 0;
        testExecutionState.waitForAck = false;

        if (testExecutionState.consecutiveCount >= testExecutionState.maxConsecutiveCount) {
          showNotification("Server not responding. Testing terminated.", "error");
          stopTesting();
          return;
        }

        testExecutionState.currentIndex++;
        setTimeout(processNextTestCase, 3000);
      }
    }


    // Handle screenshot timeout
    function handleScreenshotTimeout() {
      if (!testExecutionState.isActive) return;

      testExecutionState.imageRetryCount++;

      if (testExecutionState.imageRetryCount < testExecutionState.maxRetryCount) {
        // Retry the test case
        const row = document.querySelectorAll("#testCasesTable tbody tr")[testExecutionState.currentIndex];
        const testCaseId = row.querySelector(".test-case-id").textContent;
        const testCaseName = row.querySelector(".test-case-name").textContent;

        const testData = `$${testCaseId}|${testCaseName}#\r\n`;
        logLine(`Retrying test case for screenshot (${testExecutionState.imageRetryCount}/${testExecutionState.maxRetryCount}): ${testData}`);
        sendSerialData(testData);

        testExecutionState.waitForScreenshot = true;
        screenshotTimer = setTimeout(() => {
          handleScreenshotTimeout();
        }, 30000);
      } else {
        // Mark as failed and move to next
        const row = document.querySelectorAll("#testCasesTable tbody tr")[testExecutionState.currentIndex];
        markTestCaseFailed(row);

        testExecutionState.retryCount = 0;
        testExecutionState.imageRetryCount = 0;
        testExecutionState.waitForScreenshot = false;

        if (testExecutionState.consecutiveCount >= testExecutionState.maxConsecutiveCount) {
          showNotification("Server not responding. Testing terminated.", "error");
          stopTesting();
          return;
        }

        testExecutionState.currentIndex++;
        setTimeout(processNextTestCase, 3000);
      }
    }



    // Complete testing
    function completeTesting() {
      testExecutionState.isActive = false;

      // Hide progress dialog
      hideProgressDialog();

      // Show summary
      showSummaryDialog();




      // Update UI
      document.getElementById("startTestingBtn").disabled = false;
      document.getElementById("stopTestingBtn").disabled = true;
      document.getElementById("pauseTestingBtn").disabled = true;
      document.getElementById("resumeTestingBtn").disabled = true;
      document.getElementById("generateReportBtn").disabled = false;

      downloadScreenshotLogFile();//downloading the screenshot raw files

    }

    // Show progress dialog
    function showProgressDialog() {
      const dialog = document.getElementById("progressDialog");
      dialog.style.display = "block";

      // Start progress timer
      progressTimer = setInterval(() => {
        if (testExecutionState.currentIndex < testCasesData.length) {
          const progress = Math.round((testExecutionState.currentIndex + 1) * 100 / testCasesData.length);
          updateProgressDialog(progress);
        } else {
          clearInterval(progressTimer);
        }
      }, 100);
    }

    // Update progress dialog
    function updateProgressDialog(progress) {
      const progressBar = document.getElementById("progressBar");
      const progressText = document.getElementById("progressText");

      progressBar.style.width = `${progress}%`;
      progressText.textContent = `${progress}%`;
    }

    // Hide progress dialog
    function hideProgressDialog() {
      const dialog = document.getElementById("progressDialog");
      dialog.style.display = "none";

      if (progressTimer) {
        clearInterval(progressTimer);
        progressTimer = null;
      }
    }

    // Show summary dialog
    function showSummaryDialog() {
      const dialog = document.getElementById("summaryDialog");
      const content = document.getElementById("summaryContent");

      content.innerHTML = `
        <div class="summary-content">
          <div class="summary-item">
            <span class="summary-label">Total Processed:</span>
            <span class="summary-value">${testExecutionState.totalProcessed}</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Total Failed:</span>
            <span class="summary-value">${testExecutionState.totalFailed}</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Total Executed:</span>
            <span class="summary-value">${testExecutionState.totalExecuted}</span>
          </div>
          <div class="summary-item">
            <span class="summary-label">Total Skipped:</span>
            <span class="summary-value">${testExecutionState.totalSkipped}</span>
          </div>
        </div>
      `;

      dialog.style.display = "block";
    }

    // Close summary dialog
    function closeSummaryDialog() {
      const dialog = document.getElementById("summaryDialog");
      dialog.style.display = "none";
    }

    // Show notification
    function showNotification(message, type = "info") {
      // Create notification element
      const notification = document.createElement("div");
      notification.className = `notification notification-${type}`;
      notification.textContent = message;

      // Style the notification
      notification.style.position = "fixed";
      notification.style.top = "20px";
      notification.style.right = "20px";
      notification.style.padding = "10px 20px";
      notification.style.borderRadius = "5px";
      notification.style.color = "white";
      notification.style.zIndex = "2000";
      notification.style.boxShadow = "0 4px 8px rgba(0,0,0,0.2)";

      // Set background color based on type
      switch (type) {
        case "success":
          notification.style.backgroundColor = "#4CAF50";
          break;
        case "warning":
          notification.style.backgroundColor = "#FF9800";
          break;
        case "error":
          notification.style.backgroundColor = "#F44336";
          break;
        default:
          notification.style.backgroundColor = "#2196F3";
      }

      // Add to document
      document.body.appendChild(notification);

      // Remove after 3 seconds
      setTimeout(() => {
        if (notification.parentNode) {
          notification.parentNode.removeChild(notification);
        }
      }, 3000);
    }

    // Initialize test cases page when navigating to it
    document.addEventListener('DOMContentLoaded', function() {
      const navLinks = document.querySelectorAll('.nav-links .link');
      navLinks.forEach(link => {
        link.addEventListener('click', function() {
          const page = this.dataset.page;
          if (page === 'StartTest' && !document.getElementById("testCasesTable").dataset.initialized) {
            initializeTestCasesPage();
            document.getElementById("testCasesTable").dataset.initialized = "true";
          }
        });
      });
    });

    /* -------------------------
       Expose helper hook for Qt backend
       ------------------------- */
    window.LPOCIP = {
      setLog: (txt) => logLine(txt),
      setTargets: (arr) => {
        // arr: [{t,type,cs,ps,loco,lower,brake,abs,mode,dma,sa,rdh,tos,sd,lnd,spt,dec,tl,mh,mi,rs,tm1,tm2,tm3,rt,dir,td,lnd3x,mh1x,mh1y,mi1x,ack,bz}, ...]
        // replace table
        tbodyTargets.innerHTML = '';
        (arr||[]).forEach((r,i)=>{
          const tr = document.createElement('tr');
          tr.innerHTML = `<td>${i+1}</td><td>${r.t}</td><td>${r.type}</td><td>${r.cs}</td><td>${r.ps}</td><td>${r.loco}</td><td>${r.lower}</td><td>${r.brake}</td><td>${r.abs}</td><td>${r.mode}</td><td>${r.dma}</td><td>${r.sa}</td><td>${r.rdh}</td><td>${r.tos}</td><td>${r.sd}</td><td>${r.lnd}</td><td>${r.spt}</td><td>${r.dec}</td><td>${r.tl}</td><td>${r.mh}</td><td>${r.mi}</td><td>${r.rs}</td><td>${r.tm1}</td><td>${r.tm2}</td><td>${r.tm3}</td><td>${r.rt}</td><td>${r.dir}</td><td>${r.td}</td><td>${r.lnd3x}</td><td>${r.mh1x}</td><td>${r.mh1y}</td><td>${r.mi1x}</td><td>${r.ack}</td><td>${r.bz}</td>`;
          tr.addEventListener('click', ()=>{
            document.querySelectorAll('#targetsTable tbody tr').forEach(x=>x.classList.remove('selected'));
            tr.classList.add('selected');
            populateSimulatorFromRow(r);
          });
          tbodyTargets.appendChild(tr);
        });
      }
    };
    function downloadScreenshotLogFile() {
      try {
        const blob = new Blob([screenshotLogData], { type: "text/plain" });
        const link = document.createElement("a");
        link.href = URL.createObjectURL(blob);
        link.download = "screenshot_log.txt";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
        URL.revokeObjectURL(link.href);
        logLine("INFO: Screenshot log file downloaded successfully.");
      } catch (error) {
        logLine(`ERROR downloading log file: ${error.message}`);
      }
    }
document.getElementById("generateReportBtn").addEventListener("click", async () => {
  if (!screenshotLogData || screenshotLogData.trim() === "") {
    showNotification("No screenshot data available. Run tests first.", "warning");
    return;
  }

  // Parse screenshot data (same as before)
  const screenshots = screenshotLogData
    .split(/TestCaseID:/)
    .slice(1)
    .map(block => {
      const [idPart, ...dataParts] = block.trim().split("\n");
      const base64 = dataParts.join("").replace(/-+$/, "").trim();
      return { id: idPart.trim(), base64 };
    });

  try {
    showNotification("Uploading screenshots to backend...", "info");

    const response = await fetch("http://localhost:5000/generate-report", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ screenshots }),
    });

    const result = await response.json();
    if (result.success) {
      showNotification("Report generated successfully!", "success");
      logLine("INFO: Report generated successfully on backend.");

      // Auto-download file
      window.location.href = "http://localhost:5000/download";
    } else {
      showNotification("Failed to generate report.", "error");
      logLine(`ERROR: ${result.error}`);
    }
  } catch (err) {
    logLine(`ERROR: ${err.message}`);
    showNotification("Error connecting to backend.", "error");
  }
});


  </script>

</body>
</html>
